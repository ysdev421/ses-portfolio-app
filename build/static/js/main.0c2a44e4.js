/*! For license information please see main.0c2a44e4.js.LICENSE.txt */
(()=>{"use strict";var e={4(e,t,n){var r=n(853),i=n(43),s=n(950);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function h(e){if(l(e)!==e)throw Error(a(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope");var T=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var C=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var I=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var D=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===D?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case b:return"Profiler";case v:return"StrictMode";case E:return"Suspense";case S:return"SuspenseList";case T:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case x:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return R(e(t))}catch(Ri){}}return null}var P=Array.isArray,O=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,j=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},M=[],F=-1;function U(e){return{current:e}}function z(e){0>F||(e.current=M[F],M[F]=null,F--)}function V(e,t){F++,M[F]=e.current,e.current=t}var B,q,H=U(null),K=U(null),W=U(null),G=U(null);function Q(e,t){switch(V(W,t),V(K,e),V(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vh(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bh(t=vh(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(H),V(H,e)}function $(){z(H),z(K),z(W)}function Y(e){null!==e.memoizedState&&V(G,e);var t=H.current,n=bh(t,e.type);t!==n&&(V(K,e),V(H,n))}function X(e){K.current===e&&(z(H),z(K)),G.current===e&&(z(G),hd._currentValue=L)}function J(e){if(void 0===B)try{throw Error()}catch(Ri){var t=Ri.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||"",q=-1<Ri.stack.indexOf("\n    at")?" (<anonymous>)":-1<Ri.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+B+e+q}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(Ri){var r=Ri}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(s){r=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?J(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return J(e.type);case 16:return J("Lazy");case 13:return e.child!==t&&null!==t?J("Suspense Fallback"):J("Suspense");case 19:return J("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return J("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(Ri){return"\nError generating stack: "+Ri.message+"\n"+Ri.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,se=r.unstable_cancelCallback,ae=r.unstable_shouldYield,oe=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,he=r.unstable_UserBlockingPriority,de=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ye=null,ve=null;function be(e){if("function"===typeof me&&ge(e),ve&&"function"===typeof ve.setStrictMode)try{ve.setStrictMode(ye,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(xe(e)/ke|0)|0},xe=Math.log,ke=Math.LN2;var Ee=256,Se=262144,_e=4194304;function Ne(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~s)?i=Ne(r):0!==(a&=o)?i=Ne(a):n||0!==(n=o&~e)&&(i=Ne(n)):0!==(o=r&~s)?i=Ne(o):0!==a?i=Ne(a):n||0!==(n=r&~e)&&(i=Ne(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function Ce(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ie(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ae(){var e=_e;return 0===(62914560&(_e<<=1))&&(_e=4194304),e}function De(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Re(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pe(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Oe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function je(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Le(n))&(e.suspendedLanes|t))?0:n}function Le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Fe(){var e=j.p;return 0!==e?e:void 0===(e=window.event)?32:Td(e.type)}function Ue(e,t){var n=j.p;try{return j.p=e,t()}finally{j.p=n}}var ze=Math.random().toString(36).slice(2),Ve="__reactFiber$"+ze,Be="__reactProps$"+ze,qe="__reactContainer$"+ze,He="__reactEvents$"+ze,Ke="__reactListeners$"+ze,We="__reactHandles$"+ze,Ge="__reactResources$"+ze,Qe="__reactMarker$"+ze;function $e(e){delete e[Ve],delete e[Be],delete e[He],delete e[Ke],delete e[We]}function Ye(e){var t=e[Ve];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qe]||n[Ve]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Mh(e);null!==e;){if(n=e[Ve])return n;e=Mh(e)}return t}n=(e=n).parentNode}return null}function Xe(e){if(e=e[Ve]||e[qe]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function Ze(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Qe]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var st=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),at={},ot={};function lt(e,t,n){if(i=t,re.call(ot,i)||!re.call(at,i)&&(st.test(i)?ot[i]=!0:(at[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function dt(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=dt(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=dt(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function yt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function vt(e,t,n,r,i,s,a,o){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ht(t)):e.value!==""+ht(t)&&(e.value=""+ht(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?wt(e,a,ht(t)):null!=n?wt(e,a,ht(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+ht(o):e.removeAttribute("name")}function bt(e,t,n,r,i,s,a,o){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+ht(n):"",t=null!=t?""+ht(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a),ft(e)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ht(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function kt(e,t,n){null==t||((t=""+ht(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ht(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Et(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(P(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ht(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function St(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Nt(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&Nt(e,s,t[s])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rt(){}var Pt=null;function Ot(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var jt=null,Lt=null;function Mt(e){var t=Xe(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(vt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Be]||null;if(!i)throw Error(a(90));vt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":kt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Ft=!1;function Ut(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==jt||null!==Lt)&&(eu(),jt&&(t=jt,e=Lt,Lt=jt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function zt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Be]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Vt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(Vt)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(Jd){Bt=!1}var Ht=null,Kt=null,Wt=null;function Gt(){if(Wt)return Wt;var e,t,n=Kt,r=n.length,i="value"in Ht?Ht.value:Ht.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Wt=i.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function $t(){return!0}function Yt(){return!1}function Xt(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?$t:Yt,this.isPropagationStopped=Yt,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=$t)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=$t)},persist:function(){},isPersistent:$t}),t}var Jt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Xt(tn),rn=f({},tn,{view:0,detail:0}),sn=Xt(rn),an=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Jt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Jt=0,en=e),Jt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),on=Xt(an),ln=Xt(f({},an,{dataTransfer:0})),cn=Xt(f({},rn,{relatedTarget:0})),un=Xt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=Xt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dn=Xt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function yn(){return gn}var vn=Xt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Xt(f({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=Xt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),xn=Xt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=Xt(f({},an,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),En=Xt(f({},tn,{newState:0,oldState:0})),Sn=[9,13,27,32],_n=Vt&&"CompositionEvent"in window,Nn=null;Vt&&"documentMode"in document&&(Nn=document.documentMode);var Tn=Vt&&"TextEvent"in window&&!Nn,Cn=Vt&&(!_n||Nn&&8<Nn&&11>=Nn),In=String.fromCharCode(32),An=!1;function Dn(e,t){switch(e){case"keyup":return-1!==Sn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Pn=!1;var On={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!On[e.type]:"textarea"===t}function Ln(e,t,n,r){jt?Lt?Lt.push(r):Lt=[r]:jt=r,0<(t=ih(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,Fn=null;function Un(e){Yu(e,0)}function zn(e){if(pt(Je(e)))return e}function Vn(e,t){if("change"===e)return t}var Bn=!1;if(Vt){var qn;if(Vt){var Hn="oninput"in document;if(!Hn){var Kn=document.createElement("div");Kn.setAttribute("oninput","return;"),Hn="function"===typeof Kn.oninput}qn=Hn}else qn=!1;Bn=qn&&(!document.documentMode||9<document.documentMode)}function Wn(){Mn&&(Mn.detachEvent("onpropertychange",Gn),Fn=Mn=null)}function Gn(e){if("value"===e.propertyName&&zn(Fn)){var t=[];Ln(t,Fn,e,Ot(e)),Ut(Un,t)}}function Qn(e,t,n){"focusin"===e?(Wn(),Fn=n,(Mn=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Wn()}function $n(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zn(Fn)}function Yn(e,t){if("click"===e)return zn(t)}function Xn(e,t){if("input"===e||"change"===e)return zn(t)}var Jn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Jn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Jn(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sr=Vt&&"documentMode"in document&&11>=document.documentMode,ar=null,or=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==ar||ar!==mt(r)||("selectionStart"in(r=ar)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=ih(or,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ar)))}function hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var dr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},fr={},pr={};function mr(e){if(fr[e])return fr[e];if(!dr[e])return e;var t,n=dr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}Vt&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete dr.animationend.animation,delete dr.animationiteration.animation,delete dr.animationstart.animation),"TransitionEvent"in window||delete dr.transitionend.transition);var gr=mr("animationend"),yr=mr("animationiteration"),vr=mr("animationstart"),br=mr("transitionrun"),wr=mr("transitionstart"),xr=mr("transitioncancel"),kr=mr("transitionend"),Er=new Map,Sr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){Er.set(e,t),rt(t,[e])}Sr.push("scrollEnd");var Nr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Tr=[],Cr=0,Ir=0;function Ar(){for(var e=Cr,t=Ir=Cr=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var i=Tr[t];Tr[t++]=null;var s=Tr[t];if(Tr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==s&&Or(n,i,s)}}function Dr(e,t,n,r){Tr[Cr++]=e,Tr[Cr++]=t,Tr[Cr++]=n,Tr[Cr++]=r,Ir|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Dr(e,t,n,r),jr(e)}function Pr(e,t){return Dr(e,null,null,t),jr(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-we(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function jr(e){if(50<Kc)throw Kc=0,Wc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Lr={};function Mr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(e,t,n,r){return new Mr(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function zr(e,t){var n=e.alternate;return null===n?((n=Fr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Vr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,i,s){var o=0;if(r=e,"function"===typeof e)Ur(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case T:return(e=Fr(31,n,t,i)).elementType=T,e.lanes=s,e;case y:return qr(n.children,i,s,t);case v:o=8,i|=24;break;case b:return(e=Fr(12,n,t,2|i)).elementType=b,e.lanes=s,e;case E:return(e=Fr(13,n,t,i)).elementType=E,e.lanes=s,e;case S:return(e=Fr(19,n,t,i)).elementType=S,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:o=10;break e;case w:o=9;break e;case k:o=11;break e;case _:o=14;break e;case N:o=16,r=null;break e}o=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Fr(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function qr(e,t,n,r){return(e=Fr(7,e,r,t)).lanes=n,e}function Hr(e,t,n){return(e=Fr(6,e,null,t)).lanes=n,e}function Kr(e){var t=Fr(18,null,null,0);return t.stateNode=e,t}function Wr(e,t,n){return(t=Fr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Gr=new WeakMap;function Qr(e,t){if("object"===typeof e&&null!==e){var n=Gr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Gr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var $r=[],Yr=0,Xr=null,Jr=0,Zr=[],ei=0,ti=null,ni=1,ri="";function ii(e,t){$r[Yr++]=Jr,$r[Yr++]=Xr,Xr=e,Jr=t}function si(e,t,n){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ti=e;var r=ni;e=ri;var i=32-we(r)-1;r&=~(1<<i),n+=1;var s=32-we(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ni=1<<32-we(t)+i|n<<i|r,ri=s+e}else ni=1<<s|n<<i|r,ri=e}function ai(e){null!==e.return&&(ii(e,1),si(e,1,0))}function oi(e){for(;e===Xr;)Xr=$r[--Yr],$r[Yr]=null,Jr=$r[--Yr],$r[Yr]=null;for(;e===ti;)ti=Zr[--ei],Zr[ei]=null,ri=Zr[--ei],Zr[ei]=null,ni=Zr[--ei],Zr[ei]=null}function li(e,t){Zr[ei++]=ni,Zr[ei++]=ri,Zr[ei++]=ti,ni=t.id,ri=t.overflow,ti=e}var ci=null,ui=null,hi=!1,di=null,fi=!1,pi=Error(a(519));function mi(e){throw xi(Qr(Error(a(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pi}function gi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ve]=e,t[Be]=r,n){case"dialog":Xu("cancel",t),Xu("close",t);break;case"iframe":case"object":case"embed":Xu("load",t);break;case"video":case"audio":for(n=0;n<Qu.length;n++)Xu(Qu[n],t);break;case"source":Xu("error",t);break;case"img":case"image":case"link":Xu("error",t),Xu("load",t);break;case"details":Xu("toggle",t);break;case"input":Xu("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Xu("invalid",t);break;case"textarea":Xu("invalid",t),Et(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||uh(t.textContent,n)?(null!=r.popover&&(Xu("beforetoggle",t),Xu("toggle",t)),null!=r.onScroll&&Xu("scroll",t),null!=r.onScrollEnd&&Xu("scrollend",t),null!=r.onClick&&(t.onclick=Rt),t=!0):t=!1,t||mi(e,!0)}function yi(e){for(ci=e.return;ci;)switch(ci.tag){case 5:case 31:case 13:return void(fi=!1);case 27:case 3:return void(fi=!0);default:ci=ci.return}}function vi(e){if(e!==ci)return!1;if(!hi)return yi(e),hi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wh(e.type,e.memoizedProps)),t=!t),t&&ui&&mi(e),yi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));ui=Lh(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));ui=Lh(e)}else 27===n?(n=ui,Th(e.type)?(e=jh,jh=null,ui=e):ui=n):ui=ci?Oh(e.stateNode.nextSibling):null;return!0}function bi(){ui=ci=null,hi=!1}function wi(){var e=di;return null!==e&&(null===Dc?Dc=e:Dc.push.apply(Dc,e),di=null),e}function xi(e){null===di?di=[e]:di.push(e)}var ki=U(null),Ei=null,Si=null;function _i(e,t,n){V(ki,t._currentValue),t._currentValue=n}function Ni(e){e._currentValue=ki.current,z(ki)}function Ti(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ci(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var o=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ti(s.return,n,e),r||(o=null);break e}s=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(s=o.alternate)&&(s.lanes|=n),Ti(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Ii(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(a(387));if(null!==(o=o.memoizedProps)){var l=i.type;Jn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===G.current){if(null===(o=i.alternate))throw Error(a(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(hd):e=[hd])}i=i.return}null!==e&&Ci(t,e,n,r),t.flags|=262144}function Ai(e){for(e=e.firstContext;null!==e;){if(!Jn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Di(e){Ei=e,Si=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Pi(e){return ji(Ei,e)}function Oi(e,t){return null===Ei&&Di(e),ji(e,t)}function ji(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Si){if(null===e)throw Error(a(308));Si=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Si=Si.next=t;return n}var Li="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Mi=r.unstable_scheduleCallback,Fi=r.unstable_NormalPriority,Ui={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zi(){return{controller:new Li,data:new Map,refCount:0}}function Vi(e){e.refCount--,0===e.refCount&&Mi(Fi,function(){e.controller.abort()})}var Bi=null,qi=0,Hi=0,Ki=null;function Wi(){if(0===--qi&&null!==Bi){null!==Ki&&(Ki.status="fulfilled");var e=Bi;Bi=null,Hi=0,Ki=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gi=O.S;O.S=function(e,t){Oc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Bi){var n=Bi=[];qi=0,Hi=qu(),Ki={status:"pending",value:void 0,then:function(e){n.push(e)}}}qi++,t.then(Wi,Wi)}(0,t),null!==Gi&&Gi(e,t)};var Qi=U(null);function $i(){var e=Qi.current;return null!==e?e:mc.pooledCache}function Yi(e,t){V(Qi,null===t?Qi.current:t.pool)}function Xi(){var e=$i();return null===e?null:{parent:Ui._currentValue,pool:e}}var Ji=Error(a(460)),Zi=Error(a(474)),es=Error(a(542)),ts={then:function(){}};function ns(e){return"fulfilled"===(e=e.status)||"rejected"===e}function rs(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Rt,Rt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e;default:if("string"===typeof t.status)t.then(Rt,Rt);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw os(e=t.reason),e}throw ss=t,Ji}}function is(e){try{return(0,e._init)(e._payload)}catch(Ri){if(null!==Ri&&"object"===typeof Ri&&"function"===typeof Ri.then)throw ss=Ri,Ji;throw Ri}}var ss=null;function as(){if(null===ss)throw Error(a(459));var e=ss;return ss=null,e}function os(e){if(e===Ji||e===es)throw Error(a(483))}var ls=null,cs=0;function us(e){var t=cs;return cs+=1,null===ls&&(ls=[]),rs(ls,e,t)}function hs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ds(e,t){if(t.$$typeof===p)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=zr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Hr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===y?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===N&&is(s)===t.type)?(hs(t=i(t,n.props),n),t.return=e,t):(hs(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Wr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=qr(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Hr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return hs(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Wr(t,e.mode,n)).return=e,t;case N:return d(e,t=is(t),n)}if(P(t)||A(t))return(t=qr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,us(t),n);if(t.$$typeof===x)return d(e,Oi(e,t),n);ds(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case N:return f(e,t,n=is(n),r)}if(P(n)||A(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,us(n),r);if(n.$$typeof===x)return f(e,t,Oi(e,n),r);ds(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case N:return p(e,t,n,r=is(r),i)}if(P(r)||A(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,us(r),i);if(r.$$typeof===x)return p(e,t,n,Oi(t,r),i);ds(t,r)}return null}function v(l,c,u,h){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===y){if(7===c.tag){n(l,c.sibling),(h=i(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===N&&is(b)===c.type){n(l,c.sibling),hs(h=i(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===y?((h=qr(u.props.children,l.mode,h,u.key)).return=l,l=h):(hs(h=Br(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return o(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=i(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=Wr(u,l.mode,h)).return=l,l=h}return o(l);case N:return v(l,c,u=is(u),h)}if(P(u))return function(i,a,o,l){for(var c=null,u=null,h=a,m=a=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=f(i,h,o[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),a=s(y,a,m),null===u?c=y:u.sibling=y,u=y,h=g}if(m===o.length)return n(i,h),hi&&ii(i,m),c;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(a=s(h,a,m),null===u?c=h:u.sibling=h,u=h);return hi&&ii(i,m),c}for(h=r(h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=s(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach(function(e){return t(i,e)}),hi&&ii(i,m),c}(l,c,u,h);if(A(u)){if("function"!==typeof(b=A(u)))throw Error(a(150));return function(i,o,l,c){if(null==l)throw Error(a(151));for(var u=null,h=null,m=o,g=o=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),o=s(b,o,g),null===h?u=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),hi&&ii(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,c))&&(o=s(v,o,g),null===h?u=v:h.sibling=v,h=v);return hi&&ii(i,g),u}for(m=r(m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),o=s(v,o,g),null===h?u=v:h.sibling=v,h=v);return e&&m.forEach(function(e){return t(i,e)}),hi&&ii(i,g),u}(l,c,u=b.call(u),h)}if("function"===typeof u.then)return v(l,c,us(u),h);if(u.$$typeof===x)return v(l,c,Oi(l,u),h);ds(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=i(c,u)).return=l,l=h):(n(l,c),(h=Hr(u,l.mode,h)).return=l,l=h),o(l)):n(l,c)}return function(e,t,n,r){try{cs=0;var i=v(e,t,n,r);return ls=null,i}catch(Ri){if(Ri===Ji||Ri===es)throw Ri;var s=Fr(29,Ri,null,e.mode);return s.lanes=r,s.return=e,s}}}var ps=fs(!0),ms=fs(!1),gs=!1;function ys(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ws(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&pc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=jr(e),Or(e,null,n),t}return Dr(e,r,t,n),jr(e)}function xs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}function ks(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Es=!1;function Ss(){if(Es){if(null!==Ki)throw Ki}}function _s(e,t,n,r){Es=!1;var i=e.updateQueue;gs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var d=-536870913&o.lane,p=d!==o.lane;if(p?(yc&d)===d:(r&d)===d){0!==d&&d===Hi&&(Es=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;d=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){h=m.call(y,h,d);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(d="function"===typeof(m=g.payload)?m.call(y,h,d):m)||void 0===d)break e;h=f({},h,d);break e;case 2:gs=!0}}null!==(d=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[d]:p.push(d))}else p={lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),_c|=a,e.lanes=a,e.memoizedState=h}}function Ns(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function Ts(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ns(n[e],t)}var Cs=U(null),Is=U(0);function As(e,t){V(Is,e=Ec),V(Cs,t),Ec=e|t.baseLanes}function Ds(){V(Is,Ec),V(Cs,Cs.current)}function Rs(){Ec=Is.current,z(Cs),z(Is)}var Ps=U(null),Os=null;function js(e){var t=e.alternate;V(zs,1&zs.current),V(Ps,e),null===Os&&(null===t||null!==Cs.current||null!==t.memoizedState)&&(Os=e)}function Ls(e){V(zs,zs.current),V(Ps,e),null===Os&&(Os=e)}function Ms(e){22===e.tag?(V(zs,zs.current),V(Ps,e),null===Os&&(Os=e)):Fs()}function Fs(){V(zs,zs.current),V(Ps,Ps.current)}function Us(e){z(Ps),Os===e&&(Os=null),z(zs)}var zs=U(0);function Vs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Rh(n)||Ph(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bs=0,qs=null,Hs=null,Ks=null,Ws=!1,Gs=!1,Qs=!1,$s=0,Ys=0,Xs=null,Js=0;function Zs(){throw Error(a(321))}function ea(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jn(e[n],t[n]))return!1;return!0}function ta(e,t,n,r,i,s){return Bs=s,qs=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=null===e||null===e.memoizedState?yo:vo,Qs=!1,s=n(r,i),Qs=!1,Gs&&(s=ra(t,n,r,i)),na(e),s}function na(e){O.H=go;var t=null!==Hs&&null!==Hs.next;if(Bs=0,Ks=Hs=qs=null,Ws=!1,Ys=0,Xs=null,t)throw Error(a(300));null===e||Oo||null!==(e=e.dependencies)&&Ai(e)&&(Oo=!0)}function ra(e,t,n,r){qs=e;var i=0;do{if(Gs&&(Xs=null),Ys=0,Gs=!1,25<=i)throw Error(a(301));if(i+=1,Ks=Hs=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}O.H=bo,s=t(n,r)}while(Gs);return s}function ia(){var e=O.H,t=e.useState()[0];return t="function"===typeof t.then?ua(t):t,e=e.useState()[0],(null!==Hs?Hs.memoizedState:null)!==e&&(qs.flags|=1024),t}function sa(){var e=0!==$s;return $s=0,e}function aa(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function oa(e){if(Ws){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ws=!1}Bs=0,Ks=Hs=qs=null,Gs=!1,Ys=$s=0,Xs=null}function la(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ks?qs.memoizedState=Ks=e:Ks=Ks.next=e,Ks}function ca(){if(null===Hs){var e=qs.alternate;e=null!==e?e.memoizedState:null}else e=Hs.next;var t=null===Ks?qs.memoizedState:Ks.next;if(null!==t)Ks=t,Hs=e;else{if(null===e){if(null===qs.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(Hs=e).memoizedState,baseState:Hs.baseState,baseQueue:Hs.baseQueue,queue:Hs.queue,next:null},null===Ks?qs.memoizedState=Ks=e:Ks=Ks.next=e}return Ks}function ua(e){var t=Ys;return Ys+=1,null===Xs&&(Xs=[]),e=rs(Xs,e,t),t=qs,null===(null===Ks?t.memoizedState:Ks.next)&&(t=t.alternate,O.H=null===t||null===t.memoizedState?yo:vo),e}function ha(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return ua(e);if(e.$$typeof===x)return Pi(e)}throw Error(a(438,String(e)))}function da(e){var t=null,n=qs.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=qs.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=C;return t.index++,n}function fa(e,t){return"function"===typeof t?t(e):t}function pa(e){return ma(ca(),Hs,e)}function ma(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=o=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(yc&d)===d:(Bs&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Hi&&(h=!0);else{if((Bs&f)===f){u=u.next,f===Hi&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,o=s):c=c.next=d,qs.lanes|=f,_c|=f}d=u.action,Qs&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else f={lane:d,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=s):c=c.next=f,qs.lanes|=d,_c|=d;u=u.next}while(null!==u&&u!==t);if(null===c?o=s:c.next=l,!Jn(s,e.memoizedState)&&(Oo=!0,h&&null!==(n=Ki)))throw n;e.memoizedState=s,e.baseState=o,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function ga(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);Jn(s,t.memoizedState)||(Oo=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ya(e,t,n){var r=qs,i=ca(),s=hi;if(s){if(void 0===n)throw Error(a(407));n=n()}else n=t();var o=!Jn((Hs||i).memoizedState,n);if(o&&(i.memoizedState=n,Oo=!0),i=i.queue,Ba(wa.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==Ks&&1&Ks.memoizedState.tag){if(r.flags|=2048,Ma(9,{destroy:void 0},ba.bind(null,r,i,n,t),null),null===mc)throw Error(a(349));s||0!==(127&Bs)||va(r,t,n)}return n}function va(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=qs.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ba(e,t,n,r){t.value=n,t.getSnapshot=r,xa(t)&&ka(e)}function wa(e,t,n){return n(function(){xa(t)&&ka(e)})}function xa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jn(e,n)}catch(r){return!0}}function ka(e){var t=Pr(e,2);null!==t&&$c(t,e,2)}function Ea(e){var t=la();if("function"===typeof e){var n=e;if(e=n(),Qs){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:e},t}function Sa(e,t,n,r){return e.baseState=n,ma(e,Hs,"function"===typeof r?r:fa)}function _a(e,t,n,r,i){if(fo(e))throw Error(a(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==O.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,Na(t,s)):(s.next=n.next,t.pending=n.next=s)}}function Na(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=O.T,a={};O.T=a;try{var o=n(i,r),l=O.S;null!==l&&l(a,o),Ta(e,t,o)}catch(c){Ia(e,t,c)}finally{null!==s&&null!==a.types&&(s.types=a.types),O.T=s}}else try{Ta(e,t,s=n(i,r))}catch(u){Ia(e,t,u)}}function Ta(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Ca(e,t,n)},function(n){return Ia(e,t,n)}):Ca(e,t,n)}function Ca(e,t,n){t.status="fulfilled",t.value=n,Aa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Na(e,n)))}function Ia(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Aa(t),t=t.next}while(t!==r)}e.action=null}function Aa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Da(e,t){return t}function Ra(e,t){if(hi){var n=mc.formState;if(null!==n){e:{var r=qs;if(hi){if(ui){t:{for(var i=ui,s=fi;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=Oh(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ui=Oh(i.nextSibling),r="F!"===i.data;break e}}mi(r)}r=!1}r&&(t=n[0])}}return(n=la()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Da,lastRenderedState:t},n.queue=r,n=co.bind(null,qs,r),r.dispatch=n,r=Ea(!1),s=ho.bind(null,qs,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=la()).queue=i,n=_a.bind(null,qs,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Pa(e){return Oa(ca(),Hs,e)}function Oa(e,t,n){if(t=ma(e,t,Da)[0],e=pa(fa)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=ua(t)}catch(Ri){if(Ri===Ji)throw es;throw Ri}else r=t;var i=(t=ca()).queue,s=i.dispatch;return n!==t.memoizedState&&(qs.flags|=2048,Ma(9,{destroy:void 0},ja.bind(null,i,n),null)),[r,s,e]}function ja(e,t){e.action=t}function La(e){var t=ca(),n=Hs;if(null!==n)return Oa(t,n,e);ca(),t=t.memoizedState;var r=(n=ca()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ma(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=qs.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fa(){return ca().memoizedState}function Ua(e,t,n,r){var i=la();qs.flags|=e,i.memoizedState=Ma(1|t,{destroy:void 0},n,void 0===r?null:r)}function za(e,t,n,r){var i=ca();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==Hs&&null!==r&&ea(r,Hs.memoizedState.deps)?i.memoizedState=Ma(t,s,n,r):(qs.flags|=e,i.memoizedState=Ma(1|t,s,n,r))}function Va(e,t){Ua(8390656,8,e,t)}function Ba(e,t){za(2048,8,e,t)}function qa(e){var t=ca().memoizedState;return function(e){qs.flags|=4;var t=qs.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},qs.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pc))throw Error(a(440));return t.impl.apply(void 0,arguments)}}function Ha(e,t){return za(4,2,e,t)}function Ka(e,t){return za(4,4,e,t)}function Wa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ga(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,za(4,4,Wa.bind(null,t,e),n)}function Qa(){}function $a(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&ea(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&ea(t,r[1]))return r[0];if(r=e(),Qs){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Xa(e,t,n){return void 0===n||0!==(1073741824&Bs)&&0===(261930&yc)?e.memoizedState=t:(e.memoizedState=n,e=Qc(),qs.lanes|=e,_c|=e,n)}function Ja(e,t,n,r){return Jn(n,t)?n:null!==Cs.current?(e=Xa(e,n,r),Jn(e,t)||(Oo=!0),e):0===(42&Bs)||0!==(1073741824&Bs)&&0===(261930&yc)?(Oo=!0,e.memoizedState=n):(e=Qc(),qs.lanes|=e,_c|=e,t)}function Za(e,t,n,r,i){var s=j.p;j.p=0!==s&&8>s?s:8;var a=O.T,o={};O.T=o,ho(e,!1,t,n);try{var l=i(),c=O.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)uo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Gc());else uo(e,t,r,Gc())}catch(u){uo(e,t,{then:function(){},status:"rejected",reason:u},Gc())}finally{j.p=s,null!==a&&null!==o.types&&(a.types=o.types),O.T=a}}function eo(){}function to(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=no(e).queue;Za(e,i,t,L,null===n?eo:function(){return ro(e),n(r)})}function no(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fa,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ro(e){var t=no(e);null===t.next&&(t=e.alternate.memoizedState),uo(e,t.next.queue,{},Gc())}function io(){return Pi(hd)}function so(){return ca().memoizedState}function ao(){return ca().memoizedState}function oo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Gc(),r=ws(t,e=bs(n),n);return null!==r&&($c(r,t,n),xs(r,t,n)),t={cache:zi()},void(e.payload=t)}t=t.return}}function lo(e,t,n){var r=Gc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},fo(e)?po(t,n):null!==(n=Rr(e,t,n,r))&&($c(n,e,r),mo(n,t,r))}function co(e,t,n){uo(e,t,n,Gc())}function uo(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(fo(e))po(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Jn(o,a))return Dr(e,t,i,0),null===mc&&Ar(),!1}catch(l){}if(null!==(n=Rr(e,t,i,r)))return $c(n,e,r),mo(n,t,r),!0}return!1}function ho(e,t,n,r){if(r={lane:2,revertLane:qu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},fo(e)){if(t)throw Error(a(479))}else null!==(t=Rr(e,n,r,2))&&$c(t,e,2)}function fo(e){var t=e.alternate;return e===qs||null!==t&&t===qs}function po(e,t){Gs=Ws=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mo(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Oe(e,n)}}var go={readContext:Pi,use:ha,useCallback:Zs,useContext:Zs,useEffect:Zs,useImperativeHandle:Zs,useLayoutEffect:Zs,useInsertionEffect:Zs,useMemo:Zs,useReducer:Zs,useRef:Zs,useState:Zs,useDebugValue:Zs,useDeferredValue:Zs,useTransition:Zs,useSyncExternalStore:Zs,useId:Zs,useHostTransitionStatus:Zs,useFormState:Zs,useActionState:Zs,useOptimistic:Zs,useMemoCache:Zs,useCacheRefresh:Zs};go.useEffectEvent=Zs;var yo={readContext:Pi,use:ha,useCallback:function(e,t){return la().memoizedState=[e,void 0===t?null:t],e},useContext:Pi,useEffect:Va,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Ua(4194308,4,Wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){Ua(4,2,e,t)},useMemo:function(e,t){var n=la();t=void 0===t?null:t;var r=e();if(Qs){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=la();if(void 0!==n){var i=n(t);if(Qs){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=lo.bind(null,qs,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},la().memoizedState=e},useState:function(e){var t=(e=Ea(e)).queue,n=co.bind(null,qs,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qa,useDeferredValue:function(e,t){return Xa(la(),e,t)},useTransition:function(){var e=Ea(!1);return e=Za.bind(null,qs,e.queue,!0,!1),la().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=qs,i=la();if(hi){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===mc)throw Error(a(349));0!==(127&yc)||va(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Va(wa.bind(null,r,s,e),[e]),r.flags|=2048,Ma(9,{destroy:void 0},ba.bind(null,r,s,n,t),null),n},useId:function(){var e=la(),t=mc.identifierPrefix;if(hi){var n=ri;t="_"+t+"R_"+(n=(ni&~(1<<32-we(ni)-1)).toString(32)+n),0<(n=$s++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Js++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:io,useFormState:Ra,useActionState:Ra,useOptimistic:function(e){var t=la();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ho.bind(null,qs,!0,n),n.dispatch=t,[e,t]},useMemoCache:da,useCacheRefresh:function(){return la().memoizedState=oo.bind(null,qs)},useEffectEvent:function(e){var t=la(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&pc))throw Error(a(440));return n.impl.apply(void 0,arguments)}}},vo={readContext:Pi,use:ha,useCallback:$a,useContext:Pi,useEffect:Ba,useImperativeHandle:Ga,useInsertionEffect:Ha,useLayoutEffect:Ka,useMemo:Ya,useReducer:pa,useRef:Fa,useState:function(){return pa(fa)},useDebugValue:Qa,useDeferredValue:function(e,t){return Ja(ca(),Hs.memoizedState,e,t)},useTransition:function(){var e=pa(fa)[0],t=ca().memoizedState;return["boolean"===typeof e?e:ua(e),t]},useSyncExternalStore:ya,useId:so,useHostTransitionStatus:io,useFormState:Pa,useActionState:Pa,useOptimistic:function(e,t){return Sa(ca(),0,e,t)},useMemoCache:da,useCacheRefresh:ao};vo.useEffectEvent=qa;var bo={readContext:Pi,use:ha,useCallback:$a,useContext:Pi,useEffect:Ba,useImperativeHandle:Ga,useInsertionEffect:Ha,useLayoutEffect:Ka,useMemo:Ya,useReducer:ga,useRef:Fa,useState:function(){return ga(fa)},useDebugValue:Qa,useDeferredValue:function(e,t){var n=ca();return null===Hs?Xa(n,e,t):Ja(n,Hs.memoizedState,e,t)},useTransition:function(){var e=ga(fa)[0],t=ca().memoizedState;return["boolean"===typeof e?e:ua(e),t]},useSyncExternalStore:ya,useId:so,useHostTransitionStatus:io,useFormState:La,useActionState:La,useOptimistic:function(e,t){var n=ca();return null!==Hs?Sa(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:da,useCacheRefresh:ao};function wo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}bo.useEffectEvent=qa;var xo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gc(),i=bs(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ws(e,i,r))&&($c(t,e,r),xs(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gc(),i=bs(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ws(e,i,r))&&($c(t,e,r),xs(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gc(),r=bs(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ws(e,r,n))&&($c(t,e,n),xs(t,e,n))}};function ko(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(i,s))}function Eo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xo.enqueueReplaceState(t,t.state,null)}function So(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function _o(e){Nr(e)}function No(e){console.error(e)}function To(e){Nr(e)}function Co(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Io(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ao(e,t,n){return(n=bs(n)).tag=3,n.payload={element:null},n.callback=function(){Co(e,t)},n}function Do(e){return(e=bs(e)).tag=3,e}function Ro(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Io(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){Io(t,n,r),"function"!==typeof i&&(null===Mc?Mc=new Set([this]):Mc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Po=Error(a(461)),Oo=!1;function jo(e,t,n,r){t.child=null===e?ms(t,null,n,r):ps(t,e.child,n,r)}function Lo(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var a={};for(var o in r)"ref"!==o&&(a[o]=r[o])}else a=r;return Di(t),r=ta(e,t,n,a,s,i),o=sa(),null===e||Oo?(hi&&o&&ai(t),t.flags|=1,jo(e,t,r,i),t.child):(aa(e,t,i),sl(e,t,i))}function Mo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ur(s)||void 0!==s.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Fo(e,t,s,r,i))}if(s=e.child,!al(e,i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(a,r)&&e.ref===t.ref)return sl(e,t,i)}return t.flags|=1,(e=zr(s,r)).ref=t.ref,e.return=t,t.child=e}function Fo(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Zn(s,r)&&e.ref===t.ref){if(Oo=!1,t.pendingProps=r=s,!al(e,i))return t.lanes=e.lanes,sl(e,t,i);0!==(131072&e.flags)&&(Oo=!0)}}return Ko(e,t,n,r,i)}function Uo(e,t,n,r){var i=r.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(s=null!==s?s.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~s}else r=0,t.child=null;return Vo(e,t,s,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Vo(e,t,null!==s?s.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Yi(0,null!==s?s.cachePool:null),null!==s?As(t,s):Ds(),Ms(t)}else null!==s?(Yi(0,s.cachePool),As(t,s),Fs(),t.memoizedState=null):(null!==e&&Yi(0,null),Ds(),Fs());return jo(e,t,i,n),t.child}function zo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Vo(e,t,n,r,i){var s=$i();return s=null===s?null:{parent:Ui._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Yi(0,null),Ds(),Ms(t),null!==e&&Ii(e,t,r,!0),t.childLanes=i,null}function Bo(e,t){return(t=el({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function qo(e,t,n){return ps(t,e.child,null,n),(e=Bo(t,t.pendingProps)).flags|=2,Us(t),t.memoizedState=null,e}function Ho(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ko(e,t,n,r,i){return Di(t),n=ta(e,t,n,r,void 0,i),r=sa(),null===e||Oo?(hi&&r&&ai(t),t.flags|=1,jo(e,t,n,i),t.child):(aa(e,t,i),sl(e,t,i))}function Wo(e,t,n,r,i,s){return Di(t),t.updateQueue=null,n=ra(t,r,n,i),na(e),r=sa(),null===e||Oo?(hi&&r&&ai(t),t.flags|=1,jo(e,t,n,s),t.child):(aa(e,t,s),sl(e,t,s))}function Go(e,t,n,r,i){if(Di(t),null===t.stateNode){var s=Lr,a=n.contextType;"object"===typeof a&&null!==a&&(s=Pi(a)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=xo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ys(t),a=n.contextType,s.context="object"===typeof a&&null!==a?Pi(a):Lr,s.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(wo(t,n,a,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(a=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&xo.enqueueReplaceState(s,s.state,null),_s(t,r,s,i),Ss(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=So(n,o);s.props=l;var c=s.context,u=n.contextType;a=Lr,"object"===typeof u&&null!==u&&(a=Pi(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o||c!==a)&&Eo(t,s,r,a),gs=!1;var d=t.memoizedState;s.state=d,_s(t,r,s,i),Ss(),c=t.memoizedState,o||d!==c||gs?("function"===typeof h&&(wo(t,n,h,r),c=t.memoizedState),(l=gs||ko(t,n,l,r,d,c,a))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=a,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,vs(e,t),u=So(n,a=t.memoizedProps),s.props=u,h=t.pendingProps,d=s.context,c=n.contextType,l=Lr,"object"===typeof c&&null!==c&&(l=Pi(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==h||d!==l)&&Eo(t,s,r,l),gs=!1,d=t.memoizedState,s.state=d,_s(t,r,s,i),Ss();var f=t.memoizedState;a!==h||d!==f||gs||null!==e&&null!==e.dependencies&&Ai(e.dependencies)?("function"===typeof o&&(wo(t,n,o,r),f=t.memoizedState),(u=gs||ko(t,n,u,r,d,f,l)||null!==e&&null!==e.dependencies&&Ai(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Ho(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=ps(t,e.child,null,i),t.child=ps(t,null,n,i)):jo(e,t,n,i),t.memoizedState=s.state,e=t.child):e=sl(e,t,i),e}function Qo(e,t,n,r){return bi(),t.flags|=256,jo(e,t,n,r),t.child}var $o={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yo(e){return{baseLanes:e,cachePool:Xi()}}function Xo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Cc),e}function Jo(e,t,n){var r,i=t.pendingProps,s=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&zs.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(hi){if(s?js(t):Fs(),(e=ui)?null!==(e=null!==(e=Dh(e,fi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Kr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw mi(t);return Ph(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,s?(Fs(),l=el({mode:"hidden",children:l},s=t.mode),i=qr(i,s,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Yo(n),i.childLanes=Xo(e,r,n),t.memoizedState=$o,zo(null,i)):(js(t),Zo(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(js(t),t.flags&=-257,t=tl(e,t,n)):null!==t.memoizedState?(Fs(),t.child=e.child,t.flags|=128,t=null):(Fs(),l=i.fallback,s=t.mode,i=el({mode:"visible",children:i.children},s),(l=qr(l,s,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,ps(t,e.child,null,n),(i=t.child).memoizedState=Yo(n),i.childLanes=Xo(e,r,n),t.memoizedState=$o,t=zo(null,i));else if(js(t),Ph(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,xi({value:i,source:null,stack:null}),t=tl(e,t,n)}else if(Oo||Ii(e,t,n,!1),r=0!==(n&e.childLanes),Oo||r){if(null!==(r=mc)&&(0!==(i=je(r,n))&&i!==c.retryLane))throw c.retryLane=i,Pr(e,i),$c(r,e,i),Po;Rh(l)||ou(),t=tl(e,t,n)}else Rh(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ui=Oh(l.nextSibling),ci=t,hi=!0,di=null,fi=!1,null!==e&&li(t,e),(t=Zo(t,i.children)).flags|=4096);return t}return s?(Fs(),l=i.fallback,s=t.mode,u=(c=e.child).sibling,(i=zr(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=zr(u,l):(l=qr(l,s,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,zo(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Yo(n):(null!==(s=l.cachePool)?(c=Ui._currentValue,s=s.parent!==c?{parent:c,pool:c}:s):s=Xi(),l={baseLanes:l.baseLanes|n,cachePool:s}),i.memoizedState=l,i.childLanes=Xo(e,r,n),t.memoizedState=$o,zo(e.child,i)):(js(t),e=(n=e.child).sibling,(n=zr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Zo(e,t){return(t=el({mode:"visible",children:t},e.mode)).return=e,e.child=t}function el(e,t){return(e=Fr(22,e,null,t)).lanes=0,e}function tl(e,t,n){return ps(t,e.child,null,n),(e=Zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function nl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ti(e.return,t,n)}function rl(e,t,n,r,i,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.treeForkCount=s)}function il(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;r=r.children;var a=zs.current,o=0!==(2&a);if(o?(a=1&a|2,t.flags|=128):a&=1,V(zs,a),jo(e,t,r,n),r=hi?Jr:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,n,t);else if(19===e.tag)nl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Vs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rl(t,!1,i,n,s,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Vs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rl(t,!0,n,null,s,r);break;case"together":rl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function sl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),_c|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ii(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=zr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=zr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function al(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ai(e))}function ol(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Oo=!0;else{if(!al(e,n)&&0===(128&t.flags))return Oo=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),_i(0,Ui,e.memoizedState.cache),bi();break;case 27:case 5:Y(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:_i(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Ls(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(js(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Jo(e,t,n):(js(t),null!==(e=sl(e,t,n))?e.sibling:null);js(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ii(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return il(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(zs,zs.current),r)break;return null;case 22:return t.lanes=0,Uo(e,t,n,t.pendingProps);case 24:_i(0,Ui,e.memoizedState.cache)}return sl(e,t,n)}(e,t,n);Oo=0!==(131072&e.flags)}else Oo=!1,hi&&0!==(1048576&t.flags)&&si(t,Jr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=is(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===k){t.tag=11,t=Lo(null,t,e,r,n);break e}if(i===_){t.tag=14,t=Mo(null,t,e,r,n);break e}}throw t=R(e)||e,Error(a(306,t,""))}Ur(e)?(r=So(e,r),t.tag=1,t=Go(null,t,e,r,n)):(t.tag=0,t=Ko(null,t,e,r,n))}return t;case 0:return Ko(e,t,t.type,t.pendingProps,n);case 1:return Go(e,t,r=t.type,i=So(r,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,vs(e,t),_s(t,r,null,n);var o=t.memoizedState;if(r=o.cache,_i(0,Ui,r),r!==s.cache&&Ci(t,[Ui],n,!0),Ss(),r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Qo(e,t,r,n);break e}if(r!==i){xi(i=Qr(Error(a(424)),t)),t=Qo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ui=Oh(e.firstChild),ci=t,hi=!0,di=null,fi=!0,n=ms(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(bi(),r===i){t=sl(e,t,n);break e}jo(e,t,r,n)}t=t.child}return t;case 26:return Ho(e,t),null===e?(n=Wh(t.type,null,t.pendingProps,null))?t.memoizedState=n:hi||(n=t.type,e=t.pendingProps,(r=yh(W.current).createElement(n))[Ve]=t,r[Be]=e,fh(r,n,e),et(r),t.stateNode=r):t.memoizedState=Wh(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&hi&&(r=t.stateNode=Fh(t.type,t.pendingProps,W.current),ci=t,fi=!0,i=ui,Th(t.type)?(jh=i,ui=Oh(r.firstChild)):ui=i),jo(e,t,t.pendingProps.children,n),Ho(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&hi&&((i=r=ui)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=Oh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fi))?(t.stateNode=r,ci=t,ui=Oh(r.firstChild),fi=!1,i=!0):i=!1),i||mi(t)),Y(t),i=t.type,s=t.pendingProps,o=null!==e?e.memoizedProps:null,r=s.children,wh(i,s)?r=null:null!==o&&wh(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=ta(e,t,ia,null,null,n),hd._currentValue=i),Ho(e,t),jo(e,t,r,n),t.child;case 6:return null===e&&hi&&((e=n=ui)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Oh(e.nextSibling)))return null}return e}(n,t.pendingProps,fi))?(t.stateNode=n,ci=t,ui=null,e=!0):e=!1),e||mi(t)),null;case 13:return Jo(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ps(t,null,r,n):jo(e,t,r,n),t.child;case 11:return Lo(e,t,t.type,t.pendingProps,n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,_i(0,t.type,r.value),jo(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Di(t),r=r(i=Pi(i)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return Mo(e,t,t.type,t.pendingProps,n);case 15:return Fo(e,t,t.type,t.pendingProps,n);case 19:return il(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(hi){if("hidden"===r.mode)return e=Bo(t,r),t.lanes=536870912,zo(null,e);if(Ls(t),(e=ui)?null!==(e=null!==(e=Dh(e,fi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ni,overflow:ri}:null,retryLane:536870912,hydrationErrors:null},(n=Kr(e)).return=t,t.child=n,ci=t,ui=null):e=null,null===e)throw mi(t);return t.lanes=536870912,null}return Bo(t,r)}var s=e.memoizedState;if(null!==s){var o=s.dehydrated;if(Ls(t),i)if(256&t.flags)t.flags&=-257,t=qo(e,t,n);else{if(null===t.memoizedState)throw Error(a(558));t.child=e.child,t.flags|=128,t=null}else if(Oo||Ii(e,t,n,!1),i=0!==(n&e.childLanes),Oo||i){if(null!==(r=mc)&&0!==(o=je(r,n))&&o!==s.retryLane)throw s.retryLane=o,Pr(e,o),$c(r,e,o),Po;ou(),t=qo(e,t,n)}else e=s.treeContext,ui=Oh(o.nextSibling),ci=t,hi=!0,di=null,fi=!1,null!==e&&li(t,e),(t=Bo(t,r)).flags|=4096;return t}return(e=zr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Uo(e,t,n,t.pendingProps);case 24:return Di(t),r=Pi(Ui),null===e?(null===(i=$i())&&(i=mc,s=zi(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},ys(t),_i(0,Ui,i)):(0!==(e.lanes&n)&&(vs(e,t),_s(t,null,null,n),Ss()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),_i(0,Ui,r)):(r=s.cache,_i(0,Ui,r),r!==i.cache&&Ci(t,[Ui],n,!0))),jo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function ll(e){e.flags|=4}function cl(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!iu())throw ss=ts,Zi;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!sd(t)){if(!iu())throw ss=ts,Zi;e.flags|=8192}}function hl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ae():536870912,e.lanes|=t,Ic|=t)}function dl(e,t){if(!hi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pl(e,t,n){var r=t.pendingProps;switch(oi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ni(Ui),$(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(vi(t)?ll(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,wi())),fl(t),null;case 26:var i=t.type,s=t.memoizedState;return null===e?(ll(t),null!==s?(fl(t),ul(t,s)):(fl(t),cl(t,i,0,0,n))):s?s!==e.memoizedState?(ll(t),fl(t),ul(t,s)):(fl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ll(t),fl(t),cl(t,i,0,0,n)),null;case 27:if(X(t),n=W.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return fl(t),null}e=H.current,vi(t)?gi(t):(e=Fh(i,r,n),t.stateNode=e,ll(t))}return fl(t),null;case 5:if(X(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return fl(t),null}if(s=H.current,vi(t))gi(t);else{var o=yh(W.current);switch(s){case 1:s=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(s=o.createElement("div")).innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?s.multiple=!0:r.size&&(s.size=r.size);break;default:s="string"===typeof r.is?o.createElement(i,{is:r.is}):o.createElement(i)}}s[Ve]=t,s[Be]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)s.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=s;e:switch(fh(s,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ll(t)}}return fl(t),cl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=W.current,vi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ci))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ve]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||uh(e.nodeValue,n)))||mi(t,!0)}else(e=yh(e).createTextNode(r))[Ve]=t,t.stateNode=e}return fl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=vi(t),null!==n){if(null===e){if(!r)throw Error(a(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(a(557));e[Ve]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),e=!1}else n=wi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Us(t),t):(Us(t),null);if(0!==(128&t.flags))throw Error(a(558))}return fl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=vi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Ve]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),i=!1}else i=wi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Us(t),t):(Us(t),null)}return Us(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),s=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),hl(t,t.updateQueue),fl(t),null);case 4:return $(),null===e&&eh(t.stateNode.containerInfo),fl(t),null;case 10:return Ni(t.type),fl(t),null;case 19:if(z(zs),null===(r=t.memoizedState))return fl(t),null;if(i=0!==(128&t.flags),null===(s=r.rendering))if(i)dl(r,!1);else{if(0!==Sc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Vs(e))){for(t.flags|=128,dl(r,!1),e=s.updateQueue,t.updateQueue=e,hl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Vr(n,e),n=n.sibling;return V(zs,1&zs.current|2),hi&&ii(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>jc&&(t.flags|=128,i=!0,dl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Vs(s))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,hl(t,e),dl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate&&!hi)return fl(t),null}else 2*le()-r.renderingStartTime>jc&&536870912!==n&&(t.flags|=128,i=!0,dl(r,!1),t.lanes=4194304);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=r.last)?e.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=zs.current,V(zs,i?1&n|2:1&n),hi&&ii(t,r.treeForkCount),e):(fl(t),null);case 22:case 23:return Us(t),Rs(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(fl(t),6&t.subtreeFlags&&(t.flags|=8192)):fl(t),null!==(n=t.updateQueue)&&hl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(Qi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ni(Ui),fl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function ml(e,t){switch(oi(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ni(Ui),$(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return X(t),null;case 31:if(null!==t.memoizedState){if(Us(t),null===t.alternate)throw Error(a(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Us(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(zs),null;case 4:return $(),null;case 10:return Ni(t.type),null;case 22:case 23:return Us(t),Rs(),null!==e&&z(Qi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ni(Ui),null;default:return null}}function gl(e,t){switch(oi(t),t.tag){case 3:Ni(Ui),$();break;case 26:case 27:case 5:X(t);break;case 4:$();break;case 31:null!==t.memoizedState&&Us(t);break;case 13:Us(t);break;case 19:z(zs);break;case 10:Ni(t.type);break;case 22:case 23:Us(t),Rs(),null!==e&&z(Qi);break;case 24:Ni(Ui)}}function yl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,a=n.inst;r=s(),a.destroy=r}n=n.next}while(n!==i)}}catch(o){Su(t,t.return,o)}}function vl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var a=r.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){Su(i,l,u)}}}r=r.next}while(r!==s)}}catch(u){Su(t,t.return,u)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ts(t,n)}catch(r){Su(e,e.return,r)}}}function wl(e,t,n){n.props=So(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Su(e,t,r)}}function xl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){Su(e,t,i)}}function kl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){Su(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){Su(e,t,s)}else n.current=null}function El(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Su(e,e.return,i)}}function Sl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,o=null,l=null,c=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(p)||hh(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:p!==d&&hh(e,t,f,p,r,d)}}return void vt(e,o,l,c,u,h,s,i);case"select":for(s in p=o=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||hh(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":o=s;default:s!==c&&hh(e,t,i,s,r,c)}return t=l,n=o,r=p,void(null!=f?xt(e,!!n,f,!1):!!r!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:hh(e,t,l,null,r,i)}for(o in r)if(i=r[o],s=n[o],r.hasOwnProperty(o)&&(null!=i||null!=s))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==s&&hh(e,t,o,i,r,s)}return void kt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else hh(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else hh(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&hh(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:hh(e,t,u,f,r,p)}return;default:if(Ct(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&dh(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||dh(e,t,h,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&hh(e,t,v,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||hh(e,t,d,f,r,p)}(r,e.type,n,t),r[Be]=t}catch(i){Su(e,e.return,i)}}function _l(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Th(e.type)||4===e.tag}function Nl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||_l(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Th(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Rt));else if(4!==r&&(27===r&&Th(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Th(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function Il(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fh(t,r,n),t[Ve]=e,t[Be]=n}catch(s){Su(e,e.return,s)}}var Al=!1,Dl=!1,Rl=!1,Pl="function"===typeof WeakSet?WeakSet:Set,Ol=null;function jl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:$l(e,n),4&r&&yl(5,n);break;case 1:if($l(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){Su(n,n.return,a)}else{var i=So(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Su(n,n.return,o)}}64&r&&bl(n),512&r&&xl(n,n.return);break;case 3:if($l(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ts(e,t)}catch(a){Su(n,n.return,a)}}break;case 27:null===t&&4&r&&Il(n);case 26:case 5:$l(e,n),null===t&&4&r&&El(n),512&r&&xl(n,n.return);break;case 12:$l(e,n);break;case 31:$l(e,n),4&r&&Vl(e,n);break;case 13:$l(e,n),4&r&&Bl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Cu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Al)){t=null!==t&&null!==t.memoizedState||Dl,i=Al;var s=Dl;Al=r,(Dl=t)&&!s?Xl(e,n,0!==(8772&n.subtreeFlags)):$l(e,n),Al=i,Dl=s}break;case 30:break;default:$l(e,n)}}function Ll(e){var t=e.alternate;null!==t&&(e.alternate=null,Ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&$e(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ml=null,Fl=!1;function Ul(e,t,n){for(n=n.child;null!==n;)zl(e,t,n),n=n.sibling}function zl(e,t,n){if(ve&&"function"===typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ye,n)}catch(s){}switch(n.tag){case 26:Dl||kl(n,t),Ul(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Dl||kl(n,t);var r=Ml,i=Fl;Th(n.type)&&(Ml=n.stateNode,Fl=!1),Ul(e,t,n),Uh(n.stateNode),Ml=r,Fl=i;break;case 5:Dl||kl(n,t);case 6:if(r=Ml,i=Fl,Ml=null,Ul(e,t,n),Fl=i,null!==(Ml=r))if(Fl)try{(9===Ml.nodeType?Ml.body:"HTML"===Ml.nodeName?Ml.ownerDocument.body:Ml).removeChild(n.stateNode)}catch(a){Su(n,t,a)}else try{Ml.removeChild(n.stateNode)}catch(a){Su(n,t,a)}break;case 18:null!==Ml&&(Fl?(Ch(9===(e=Ml).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Kd(e)):Ch(Ml,n.stateNode));break;case 4:r=Ml,i=Fl,Ml=n.stateNode.containerInfo,Fl=!0,Ul(e,t,n),Ml=r,Fl=i;break;case 0:case 11:case 14:case 15:vl(2,n,t),Dl||vl(4,n,t),Ul(e,t,n);break;case 1:Dl||(kl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&wl(n,t,r)),Ul(e,t,n);break;case 21:Ul(e,t,n);break;case 22:Dl=(r=Dl)||null!==n.memoizedState,Ul(e,t,n),Dl=r;break;default:Ul(e,t,n)}}function Vl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Kd(e)}catch(n){Su(t,t.return,n)}}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Kd(e)}catch(n){Su(t,t.return,n)}}function ql(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Pl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Pl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Iu.bind(null,e,t);t.then(r,r)}})}function Hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Th(l.type)){Ml=l.stateNode,Fl=!1;break e}break;case 5:Ml=l.stateNode,Fl=!1;break e;case 3:case 4:Ml=l.stateNode.containerInfo,Fl=!0;break e}l=l.return}if(null===Ml)throw Error(a(160));zl(s,o,i),Ml=null,Fl=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Wl(t,e),t=t.sibling}var Kl=null;function Wl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),Gl(e),4&r&&(vl(3,e,e.return),yl(3,e),vl(5,e,e.return));break;case 1:Hl(t,e),Gl(e),512&r&&(Dl||null===n||kl(n,n.return)),64&r&&Al&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Kl;if(Hl(t,e),Gl(e),512&r&&(Dl||null===n||kl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Qe]||s[Ve]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),fh(s,r,n),s[Ve]=e,et(s),r=s;break e;case"link":var o=rd("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((s=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}fh(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(o=rd("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((s=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}fh(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(a(468,r))}s[Ve]=e,et(s),r=s}e.stateNode=r}else id(i,e.type,e.stateNode);else e.stateNode=Jh(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?id(i,e.type,e.stateNode):Jh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Sl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hl(t,e),Gl(e),512&r&&(Dl||null===n||kl(n,n.return)),null!==n&&4&r&&Sl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hl(t,e),Gl(e),512&r&&(Dl||null===n||kl(n,n.return)),32&e.flags){i=e.stateNode;try{St(i,"")}catch(m){Su(e,e.return,m)}}4&r&&null!=e.stateNode&&Sl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(Rl=!0);break;case 6:if(Hl(t,e),Gl(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Su(e,e.return,m)}}break;case 3:if(nd=null,i=Kl,Kl=Bh(t.containerInfo),Hl(t,e),Kl=i,Gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Kd(t.containerInfo)}catch(m){Su(e,e.return,m)}Rl&&(Rl=!1,Ql(e));break;case 4:r=Kl,Kl=Bh(e.stateNode.containerInfo),Hl(t,e),Gl(e),Kl=r;break;case 12:default:Hl(t,e),Gl(e);break;case 31:case 19:Hl(t,e),Gl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 13:Hl(t,e),Gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Pc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Al,h=Dl;if(Al=u||i,Dl=h||c,Hl(t,e),Dl=h,Al=u,Gl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Al||Dl||Yl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,i)"function"===typeof(o=s.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){Su(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(m){Su(c,c.return,m)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;i?Ih(p,!0):Ih(c.stateNode,!1)}catch(m){Su(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,ql(e,n))));case 30:case 21:}}function Gl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(_l(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;Cl(e,Nl(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(St(s,""),n.flags&=-33),Cl(e,Nl(e),s);break;case 3:case 4:var o=n.stateNode.containerInfo;Tl(e,Nl(e),o);break;default:throw Error(a(161))}}catch(l){Su(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ql(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ql(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function $l(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)jl(e,t.alternate,t),t=t.sibling}function Yl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Yl(t);break;case 1:kl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&wl(t,t.return,n),Yl(t);break;case 27:Uh(t.stateNode);case 26:case 5:kl(t,t.return),Yl(t);break;case 22:null===t.memoizedState&&Yl(t);break;default:Yl(t)}e=e.sibling}}function Xl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Xl(i,s,n),yl(4,s);break;case 1:if(Xl(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){Su(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Ns(l[i],o)}catch(c){Su(r,r.return,c)}}n&&64&a&&bl(s),xl(s,s.return);break;case 27:Il(s);case 26:case 5:Xl(i,s,n),n&&null===r&&4&a&&El(s),xl(s,s.return);break;case 12:Xl(i,s,n);break;case 31:Xl(i,s,n),n&&4&a&&Vl(i,s);break;case 13:Xl(i,s,n),n&&4&a&&Bl(i,s);break;case 22:null===s.memoizedState&&Xl(i,s,n),xl(s,s.return);break;case 30:break;default:Xl(i,s,n)}t=t.sibling}}function Jl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Vi(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vi(e))}function ec(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tc(e,t,n,r),t=t.sibling}function tc(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ec(e,t,n,r),2048&i&&yl(9,t);break;case 1:case 31:case 13:default:ec(e,t,n,r);break;case 3:ec(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vi(e)));break;case 12:if(2048&i){ec(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"===typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Su(t,t.return,l)}}else ec(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,null!==t.memoizedState?2&s._visibility?ec(e,t,n,r):rc(e,t):2&s._visibility?ec(e,t,n,r):(s._visibility|=2,nc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Jl(a,t);break;case 24:ec(e,t,n,r),2048&i&&Zl(t.alternate,t)}}function nc(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,a=t,o=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:nc(s,a,o,l,i),yl(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?nc(s,a,o,l,i):rc(s,a):(u._visibility|=2,nc(s,a,o,l,i)),i&&2048&c&&Jl(a.alternate,a);break;case 24:nc(s,a,o,l,i),i&&2048&c&&Zl(a.alternate,a);break;default:nc(s,a,o,l,i)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:rc(n,r),2048&i&&Jl(r.alternate,r);break;case 24:rc(n,r),2048&i&&Zl(r.alternate,r);break;default:rc(n,r)}t=t.sibling}}var ic=8192;function sc(e,t,n){if(e.subtreeFlags&ic)for(e=e.child;null!==e;)ac(e,t,n),e=e.sibling}function ac(e,t,n){switch(e.tag){case 26:sc(e,t,n),e.flags&ic&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Gh(r.href),s=t.querySelector(Qh(i));if(s)return null!==(t=s._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=od.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void et(s);s=t.ownerDocument||t,r=$h(r),(i=zh.get(i))&&ed(r,i),et(s=s.createElement("link"));var a=s;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),fh(s,"link",r),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=od.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Kl,e.memoizedState,e.memoizedProps);break;case 5:default:sc(e,t,n);break;case 3:case 4:var r=Kl;Kl=Bh(e.stateNode.containerInfo),sc(e,t,n),Kl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ic,ic=16777216,sc(e,t,n),ic=r):sc(e,t,n))}}function oc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ol=r,hc(r,e)}oc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cc(e),e=e.sibling}function cc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uc(e)):lc(e)}}function uc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Ol=r,hc(r,e)}oc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),uc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uc(t));break;default:uc(t)}e=e.sibling}}function hc(e,t){for(;null!==Ol;){var n=Ol;switch(n.tag){case 0:case 11:case 15:vl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Vi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Ol=r;else e:for(n=e;null!==Ol;){var i=(r=Ol).sibling,s=r.return;if(Ll(r),r===n){Ol=null;break e}if(null!==i){i.return=s,Ol=i;break e}Ol=s}}}var dc={getCacheForType:function(e){var t=Pi(Ui),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Pi(Ui).controller.signal}},fc="function"===typeof WeakMap?WeakMap:Map,pc=0,mc=null,gc=null,yc=0,vc=0,bc=null,wc=!1,xc=!1,kc=!1,Ec=0,Sc=0,_c=0,Nc=0,Tc=0,Cc=0,Ic=0,Ac=null,Dc=null,Rc=!1,Pc=0,Oc=0,jc=1/0,Lc=null,Mc=null,Fc=0,Uc=null,zc=null,Vc=0,Bc=0,qc=null,Hc=null,Kc=0,Wc=null;function Gc(){return 0!==(2&pc)&&0!==yc?yc&-yc:null!==O.T?qu():Fe()}function Qc(){if(0===Cc)if(0===(536870912&yc)||hi){var e=Se;0===(3932160&(Se<<=1))&&(Se=262144),Cc=e}else Cc=536870912;return null!==(e=Ps.current)&&(e.flags|=32),Cc}function $c(e,t,n){(e!==mc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(nu(e,0),Zc(e,yc,Cc,!1)),Re(e,n),0!==(2&pc)&&e===mc||(e===mc&&(0===(2&pc)&&(Nc|=n),4===Sc&&Zc(e,yc,Cc,!1)),Lu(e))}function Yc(e,t,n){if(0!==(6&pc))throw Error(a(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ce(e,t),i=r?function(e,t){var n=pc;pc|=2;var r=su(),i=au();mc!==e||yc!==t?(Lc=null,jc=le()+500,nu(e,t)):xc=Ce(e,t);e:for(;;)try{if(0!==vc&&null!==gc){t=gc;var s=bc;t:switch(vc){case 1:vc=0,bc=null,fu(e,t,s,1);break;case 2:case 9:if(ns(s)){vc=0,bc=null,du(t);break}t=function(){2!==vc&&9!==vc||mc!==e||(vc=7),Lu(e)},s.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:ns(s)?(vc=0,bc=null,du(t)):(vc=0,bc=null,fu(e,t,s,7));break;case 5:var o=null;switch(gc.tag){case 26:o=gc.memoizedState;case 5:case 27:var l=gc;if(o?sd(o):l.stateNode.complete){vc=0,bc=null;var c=l.sibling;if(null!==c)gc=c;else{var u=l.return;null!==u?(gc=u,pu(u)):gc=null}break t}}vc=0,bc=null,fu(e,t,s,5);break;case 6:vc=0,bc=null,fu(e,t,s,6);break;case 8:tu(),Sc=6;break e;default:throw Error(a(462))}}uu();break}catch(h){ru(e,h)}return Si=Ei=null,O.H=r,O.A=i,pc=n,null!==gc?0:(mc=null,yc=0,Ar(),Sc)}(e,t):lu(e,t,!0),s=r;;){if(0===i){xc&&!r&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!s||Jc(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=Ac;var c=l.current.memoizedState.isDehydrated;if(c&&(nu(l,o).flags|=256),2!==(o=lu(l,o,!1))){if(kc&&!c){l.errorRecoveryDisabledLanes|=s,Nc|=s,i=4;break e}s=Dc,Dc=i,null!==s&&(null===Dc?Dc=s:Dc.push.apply(Dc,s))}i=o}if(s=!1,2!==i)continue}}if(1===i){nu(e,0),Zc(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Zc(r,t,Cc,!wc);break e;case 2:Dc=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=Pc+300-le())){if(Zc(r,t,Cc,!wc),0!==Te(r,0,!0))break e;Vc=t,r.timeoutHandle=kh(Xc.bind(null,r,n,Dc,Lc,Rc,t,Cc,Nc,Ic,wc,s,"Throttled",-0,0),i)}else Xc(r,n,Dc,Lc,Rc,t,Cc,Nc,Ic,wc,s,null,-0,0)}break}i=lu(e,t,!1),s=!1}Lu(e)}function Xc(e,t,n,r,i,s,a,o,l,c,u,h,d,f){if(e.timeoutHandle=-1,8192&(h=t.subtreeFlags)||16785408===(16785408&h)){ac(t,s,h={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rt});var p=(62914560&s)===s?Pc-le():(4194048&s)===s?Oc-le():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&cd(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&cd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ad&&(ad=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],s=i.transferSize,a=i.initiatorType,o=i.duration;if(s&&o&&ph(a)){for(a=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var u=l.transferSize,h=l.initiatorType;u&&ph(h)&&(a+=u*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--r,t+=8*(s+a)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&cd(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ad?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(h,p)))return Vc=s,e.cancelPendingCommit=p(gu.bind(null,e,t,s,n,r,i,a,o,l,u,h,null,d,f)),void Zc(e,s,a,!c)}gu(e,t,s,n,r,i,a,o,l)}function Jc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Jn(s(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,r){t&=~Tc,t&=~Nc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-we(i),a=1<<s;r[s]=-1,i&=~a}0!==n&&Pe(e,n,t)}function eu(){return 0!==(6&pc)||(Mu(0,!1),!1)}function tu(){if(null!==gc){if(0===vc)var e=gc.return;else Si=Ei=null,oa(e=gc),ls=null,cs=0,e=gc;for(;null!==e;)gl(e.alternate,e),e=e.return;gc=null}}function nu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Eh(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc=0,tu(),mc=e,gc=n=zr(e.current,null),yc=t,vc=0,bc=null,wc=!1,xc=Ce(e,t),kc=!1,Ic=Cc=Tc=Nc=_c=Sc=0,Dc=Ac=null,Rc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-we(r),s=1<<i;t|=e[i],r&=~s}return Ec=t,Ar(),n}function ru(e,t){qs=null,O.H=go,t===Ji||t===es?(t=as(),vc=3):t===Zi?(t=as(),vc=4):vc=t===Po?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===gc&&(Sc=1,Co(e,Qr(t,e.current)))}function iu(){var e=Ps.current;return null===e||((4194048&yc)===yc?null===Os:((62914560&yc)===yc||0!==(536870912&yc))&&e===Os)}function su(){var e=O.H;return O.H=go,null===e?go:e}function au(){var e=O.A;return O.A=dc,e}function ou(){Sc=4,wc||(4194048&yc)!==yc&&null!==Ps.current||(xc=!0),0===(134217727&_c)&&0===(134217727&Nc)||null===mc||Zc(mc,yc,Cc,!1)}function lu(e,t,n){var r=pc;pc|=2;var i=su(),s=au();mc===e&&yc===t||(Lc=null,nu(e,t)),t=!1;var a=Sc;e:for(;;)try{if(0!==vc&&null!==gc){var o=gc,l=bc;switch(vc){case 8:tu(),a=6;break e;case 3:case 2:case 9:case 6:null===Ps.current&&(t=!0);var c=vc;if(vc=0,bc=null,fu(e,o,l,c),n&&xc){a=0;break e}break;default:c=vc,vc=0,bc=null,fu(e,o,l,c)}}cu(),a=Sc;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,Si=Ei=null,pc=r,O.H=i,O.A=s,null===gc&&(mc=null,yc=0,Ar()),a}function cu(){for(;null!==gc;)hu(gc)}function uu(){for(;null!==gc&&!ae();)hu(gc)}function hu(e){var t=ol(e.alternate,e,Ec);e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function du(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Wo(n,t,t.pendingProps,t.type,void 0,yc);break;case 11:t=Wo(n,t,t.pendingProps,t.type.render,t.ref,yc);break;case 5:oa(t);default:gl(n,t),t=ol(n,t=gc=Vr(t,Ec),Ec)}e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function fu(e,t,n,r){Si=Ei=null,oa(t),ls=null,cs=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ii(t,n,i,!0),null!==(n=Ps.current)){switch(n.tag){case 31:case 13:return null===Os?ou():null===n.alternate&&0===Sc&&(Sc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===ts?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),_u(e,r,i)),!1;case 22:return n.flags|=65536,r===ts?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),_u(e,r,i)),!1}throw Error(a(435,n.tag))}return _u(e,r,i),ou(),!1}if(hi)return null!==(t=Ps.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==pi&&xi(Qr(e=Error(a(422),{cause:r}),n))):(r!==pi&&xi(Qr(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Qr(r,n),ks(e,i=Ao(e.stateNode,r,i)),4!==Sc&&(Sc=2)),!1;var s=Error(a(520),{cause:r});if(s=Qr(s,n),null===Ac?Ac=[s]:Ac.push(s),4!==Sc&&(Sc=2),null===t)return!0;r=Qr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,ks(n,e=Ao(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===Mc||!Mc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Ro(i=Do(i),e,n,r),ks(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,yc))return Sc=1,Co(e,Qr(n,e.current)),void(gc=null)}catch(s){if(null!==i)throw gc=i,s;return Sc=1,Co(e,Qr(n,e.current)),void(gc=null)}32768&t.flags?(hi||1===r?e=!0:xc||0!==(536870912&yc)?e=!1:(wc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Ps.current)&&13===r.tag&&(r.flags|=16384))),mu(t,e)):pu(t)}function pu(e){var t=e;do{if(0!==(32768&t.flags))return void mu(t,wc);e=t.return;var n=pl(t.alternate,t,Ec);if(null!==n)return void(gc=n);if(null!==(t=t.sibling))return void(gc=t);gc=t=e}while(null!==t);0===Sc&&(Sc=5)}function mu(e,t){do{var n=ml(e.alternate,e);if(null!==n)return n.flags&=32767,void(gc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gc=e);gc=e=n}while(null!==e);Sc=6,gc=null}function gu(e,t,n,r,i,s,o,l,c){e.cancelPendingCommit=null;do{xu()}while(0!==Fc);if(0!==(6&pc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-we(n),h=1<<u;o[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Pe(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,n,s|=Ir,o,l,c),e===mc&&(gc=mc=null,yc=0),zc=t,Uc=e,Vc=n,Bc=s,qc=i,Hc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(de,function(){return ku(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=O.T,O.T=null,i=j.p,j.p=2,o=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,mh=wd,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==s||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=o),f===s&&++h===r&&(c=o),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gh={focusedElem:e,selectionRange:n},wd=!1,Ol=t;null!==Ol;)if(e=(t=Ol).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ol=e;else for(;null!==Ol;){switch(s=(t=Ol).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=So(n.type,i);e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){Su(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Ah(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ah(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Ol=e;break}Ol=t.return}}(e,t)}finally{pc=o,j.p=i,O.T=r}}Fc=1,yu(),vu(),bu()}}function yu(){if(1===Fc){Fc=0;var e=Uc,t=zc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=O.T,O.T=null;var r=j.p;j.p=2;var i=pc;pc|=4;try{Wl(t,e);var s=gh,a=rr(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&nr(o.ownerDocument.documentElement,o)){if(null!==l&&ir(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var h=o.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(a=g,g=m,m=a);var y=tr(o,m),v=tr(o,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var b=h.createRange();b.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),f.addRange(b))}}}}for(h=[],f=o;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<h.length;o++){var w=h[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}wd=!!mh,gh=mh=null}finally{pc=i,j.p=r,O.T=n}}e.current=t,Fc=2}}function vu(){if(2===Fc){Fc=0;var e=Uc,t=zc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=O.T,O.T=null;var r=j.p;j.p=2;var i=pc;pc|=4;try{jl(e,t.alternate,t)}finally{pc=i,j.p=r,O.T=n}}Fc=3}}function bu(){if(4===Fc||3===Fc){Fc=0,oe();var e=Uc,t=zc,n=Vc,r=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Fc=5:(Fc=0,zc=Uc=null,wu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Mc=null),Me(n),t=t.stateNode,ve&&"function"===typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ye,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=O.T,i=j.p,j.p=2,O.T=null;try{for(var s=e.onRecoverableError,a=0;a<r.length;a++){var o=r[a];s(o.value,{componentStack:o.stack})}}finally{O.T=t,j.p=i}}0!==(3&Vc)&&xu(),Lu(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Wc?Kc++:(Kc=0,Wc=e):Kc=0,Mu(0,!1)}}function wu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Vi(t)))}function xu(){return yu(),vu(),bu(),ku()}function ku(){if(5!==Fc)return!1;var e=Uc,t=Bc;Bc=0;var n=Me(Vc),r=O.T,i=j.p;try{j.p=32>n?32:n,O.T=null,n=qc,qc=null;var s=Uc,o=Vc;if(Fc=0,zc=Uc=null,Vc=0,0!==(6&pc))throw Error(a(331));var l=pc;if(pc|=4,cc(s.current),tc(s,s.current,o,n),pc=l,Mu(0,!1),ve&&"function"===typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ye,s)}catch(c){}return!0}finally{j.p=i,O.T=r,wu(e,t)}}function Eu(e,t,n){t=Qr(n,t),null!==(e=ws(e,t=Ao(e.stateNode,t,2),2))&&(Re(e,2),Lu(e))}function Su(e,t,n){if(3===e.tag)Eu(e,e,n);else for(;null!==t;){if(3===t.tag){Eu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Mc||!Mc.has(r))){e=Qr(n,e),null!==(r=ws(t,n=Do(2),2))&&(Ro(n,r,t,e),Re(r,2),Lu(r));break}}t=t.return}}function _u(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(kc=!0,i.add(n),e=Nu.bind(null,e,t,n),t.then(e,e))}function Nu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(yc&n)===n&&(4===Sc||3===Sc&&(62914560&yc)===yc&&300>le()-Pc?0===(2&pc)&&nu(e,0):Tc|=n,Ic===yc&&(Ic=0)),Lu(e)}function Tu(e,t){0===t&&(t=Ae()),null!==(e=Pr(e,t))&&(Re(e,t),Lu(e))}function Cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tu(e,n)}var Au=null,Du=null,Ru=!1,Pu=!1,Ou=!1,ju=0;function Lu(e){e!==Du&&null===e.next&&(null===Du?Au=Du=e:Du=Du.next=e),Pu=!0,Ru||(Ru=!0,_h(function(){0!==(6&pc)?ie(ue,Fu):Uu()}))}function Mu(e,t){if(!Ou&&Pu){Ou=!0;do{for(var n=!1,r=Au;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var a=r.suspendedLanes,o=r.pingedLanes;s=(1<<31-we(42|e)+1)-1,s=201326741&(s&=i&~(a&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Bu(r,s))}else s=yc,0===(3&(s=Te(r,r===mc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ce(r,s)||(n=!0,Bu(r,s));r=r.next}}while(n);Ou=!1}}function Fu(){Uu()}function Uu(){Pu=Ru=!1;var e=0;0!==ju&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==xh&&(xh=e,!0);return xh=null,!1}()&&(e=ju);for(var t=le(),n=null,r=Au;null!==r;){var i=r.next,s=zu(r,t);0===s?(r.next=null,null===n?Au=i:n.next=i,null===i&&(Du=n)):(n=r,(0!==e||0!==(3&s))&&(Pu=!0)),r=i}0!==Fc&&5!==Fc||Mu(e,!1),0!==ju&&(ju=0)}function zu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-we(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=Ie(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=yc,n=Te(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&se(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ce(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&se(r),Me(n)){case 2:case 8:n=he;break;case 32:default:n=de;break;case 268435456:n=pe}return r=Vu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&se(r),e.callbackPriority=2,e.callbackNode=null,2}function Vu(e,t){if(0!==Fc&&5!==Fc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=yc;return 0===(r=Te(e,e===mc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Yc(e,r,t),zu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Vu.bind(null,e):null)}function Bu(e,t){if(xu())return null;Yc(e,t,!0)}function qu(){if(0===ju){var e=Hi;0===e&&(e=Ee,0===(261888&(Ee<<=1))&&(Ee=256)),ju=e}return ju}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Dt(""+e)}function Ku(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Wu=0;Wu<Sr.length;Wu++){var Gu=Sr[Wu];_r(Gu.toLowerCase(),"on"+(Gu[0].toUpperCase()+Gu.slice(1)))}_r(gr,"onAnimationEnd"),_r(yr,"onAnimationIteration"),_r(vr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(br,"onTransitionRun"),_r(wr,"onTransitionStart"),_r(xr,"onTransitionCancel"),_r(kr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$u=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function Yu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){Nr(u)}i.currentTarget=null,s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;s=o,i.currentTarget=c;try{s(i)}catch(u){Nr(u)}i.currentTarget=null,s=l}}}}function Xu(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var r=e+"__bubble";n.has(r)||(th(t,e,2,!1),n.add(r))}function Ju(e,t,n){var r=0;t&&(r|=4),th(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function eh(e){if(!e[Zu]){e[Zu]=!0,tt.forEach(function(t){"selectionchange"!==t&&($u.has(t)||Ju(t,!1,e),Ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,Ju("selectionchange",!1,t))}}function th(e,t,n,r){switch(Td(t)){case 2:var i=xd;break;case 8:i=kd;break;default:i=Ed}n=i.bind(null,t,n,e),i=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nh(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==o;){if(null===(a=Ye(o)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=s=a;continue e}o=o.parentNode}}r=r.return}Ut(function(){var r=s,i=Ot(n),a=[];e:{var o=Er.get(e);if(void 0!==o){var c=nn,u=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":c=vn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=wn;break;case gr:case yr:case vr:c=un;break;case kr:c=xn;break;case"scroll":case"scrollend":c=sn;break;case"wheel":c=kn;break;case"copy":case"cut":case"paste":c=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=En}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==o?o+"Capture":null:o;h=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=zt(m,f))&&h.push(rh(m,g,p)),d)break;m=m.return}0<h.length&&(o=new c(o,u,null,n,i),a.push({event:o,listeners:h}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Pt||!(u=n.relatedTarget||n.fromElement)||!Ye(u)&&!u[qe])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ye(u):null)&&(d=l(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=r),c!==u)){if(h=on,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=bn,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==c?o:Je(c),p=null==u?o:Je(u),(o=new h(g,m+"leave",c,n,i)).target=d,o.relatedTarget=p,g=null,Ye(i)===r&&((h=new h(f,m+"enter",u,n,i)).target=p,h.relatedTarget=d,g=h),d=g,c&&u)e:{for(h=sh,m=u,p=0,g=f=c;g;g=h(g))p++;g=0;for(var y=m;y;y=h(y))g++;for(;0<p-g;)f=h(f),p--;for(;0<g-p;)m=h(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){h=f;break e}f=h(f),m=h(m)}h=null}else h=null;null!==c&&ah(a,o,c,h,!1),null!==u&&null!==d&&ah(a,d,u,h,!0)}if("select"===(c=(o=r?Je(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var v=Vn;else if(jn(o))if(Bn)v=Xn;else{v=$n;var b=Qn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Ct(r.elementType)&&(v=Vn):v=Yn;switch(v&&(v=v(e,r))?Ln(a,v,n,i):(b&&b(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&wt(o,"number",o.value)),b=r?Je(r):window,e){case"focusin":(jn(b)||"true"===b.contentEditable)&&(ar=b,or=r,lr=null);break;case"focusout":lr=or=ar=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(a,n,i);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":ur(a,n,i)}var w;if(_n)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Pn?Dn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(Cn&&"ko"!==n.locale&&(Pn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Pn&&(w=Gt()):(Kt="value"in(Ht=i)?Ht.value:Ht.textContent,Pn=!0)),0<(b=ih(r,x)).length&&(x=new dn(x,e,null,n,i),a.push({event:x,listeners:b}),w?x.data=w:null!==(w=Rn(n))&&(x.data=w))),(w=Tn?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(An=!0,In);case"textInput":return(e=t.data)===In&&An?null:e;default:return null}}(e,n):function(e,t){if(Pn)return"compositionend"===e||!_n&&Dn(e,t)?(e=Gt(),Wt=Kt=Ht=null,Pn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=ih(r,"onBeforeInput")).length&&(b=new dn("onBeforeInput","beforeinput",null,n,i),a.push({event:b,listeners:x}),b.data=w)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Hu((i[Be]||null).action),a=r.submitter;a&&null!==(t=(t=a[Be]||null)?Hu(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new nn("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==ju){var e=a?Ku(i,a):new FormData(i);to(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(o.preventDefault(),e=a?Ku(i,a):new FormData(i),to(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(a,e,r,n,i)}Yu(a,t)})}function rh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ih(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=zt(e,n))&&r.unshift(rh(e,i,s)),null!=(i=zt(e,t))&&r.push(rh(e,i,s))),3===e.tag)return r;e=e.return}return[]}function sh(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ah(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=zt(n,s))&&a.unshift(rh(n,c,l)):i||null!=(c=zt(n,s))&&a.push(rh(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var oh=/\r\n?/g,lh=/\u0000|\uFFFD/g;function ch(e){return("string"===typeof e?e:""+e).replace(oh,"\n").replace(lh,"")}function uh(e,t){return t=ch(t),ch(e)===t}function hh(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||St(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&St(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Tt(e,r,s);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Dt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&hh(e,t,"name",i.name,i,null),hh(e,t,"formEncType",i.formEncType,i,null),hh(e,t,"formMethod",i.formMethod,i,null),hh(e,t,"formTarget",i.formTarget,i,null)):(hh(e,t,"encType",i.encType,i,null),hh(e,t,"method",i.method,i,null),hh(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Dt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Rt);break;case"onScroll":null!=r&&Xu("scroll",e);break;case"onScrollEnd":null!=r&&Xu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Dt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Xu("beforetoggle",e),Xu("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=It.get(n)||n,r)}}function dh(e,t,n,r,i,s){switch(n){case"style":Tt(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?St(e,r):("number"===typeof r||"bigint"===typeof r)&&St(e,""+r);break;case"onScroll":null!=r&&Xu("scroll",e);break;case"onScrollEnd":null!=r&&Xu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Rt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Be]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function fh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xu("error",e),Xu("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:hh(e,t,r,o,n,null)}}return s&&hh(e,t,"srcSet",n.srcSet,n,null),void(i&&hh(e,t,"src",n.src,n,null));case"input":Xu("invalid",e);var l=r=o=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":o=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:hh(e,t,i,h,n,null)}}return void bt(e,r,l,c,u,o,s,!1);case"select":for(s in Xu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:hh(e,t,s,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?xt(e,!!i,t,!1):null!=n&&xt(e,!!i,n,!0));case"textarea":for(o in Xu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:hh(e,t,o,l,n,null)}return void Et(e,i,s,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else hh(e,t,c,i,n,null);return;case"dialog":Xu("beforetoggle",e),Xu("toggle",e),Xu("cancel",e),Xu("close",e);break;case"iframe":case"object":Xu("load",e);break;case"video":case"audio":for(i=0;i<Qu.length;i++)Xu(Qu[i],e);break;case"image":Xu("error",e),Xu("load",e);break;case"details":Xu("toggle",e);break;case"embed":case"source":case"link":Xu("error",e),Xu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:hh(e,t,u,i,n,null)}return;default:if(Ct(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&dh(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&hh(e,t,l,i,n,null))}function ph(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var mh=null,gh=null;function yh(e){return 9===e.nodeType?e:e.ownerDocument}function vh(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wh(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var xh=null;var kh="function"===typeof setTimeout?setTimeout:void 0,Eh="function"===typeof clearTimeout?clearTimeout:void 0,Sh="function"===typeof Promise?Promise:void 0,_h="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Sh?function(e){return Sh.resolve(null).then(e).catch(Nh)}:kh;function Nh(e){setTimeout(function(){throw e})}function Th(e){return"head"===e}function Ch(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Kd(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)Uh(e.ownerDocument.documentElement);else if("head"===n){Uh(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var a=s.nextSibling,o=s.nodeName;s[Qe]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}else"body"===n&&Uh(e.ownerDocument.body);n=i}while(n);Kd(t)}function Ih(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Ah(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ah(n),$e(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Dh(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Oh(e.nextSibling)))return null}return e}function Rh(e){return"$?"===e.data||"$~"===e.data}function Ph(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Oh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var jh=null;function Lh(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Oh(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Mh(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Fh(e,t,n){switch(t=yh(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function Uh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);$e(e)}var zh=new Map,Vh=new Set;function Bh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var qh=j.d;j.d={f:function(){var e=qh.f(),t=eu();return e||t},r:function(e){var t=Xe(e);null!==t&&5===t.tag&&"form"===t.type?ro(t):qh.r(e)},D:function(e){qh.D(e),Kh("dns-prefetch",e,null)},C:function(e,t){qh.C(e,t),Kh("preconnect",e,t)},L:function(e,t,n){qh.L(e,t,n);var r=Hh;if(r&&e&&t){var i='link[rel="preload"][as="'+yt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+yt(n.imageSizes)+'"]')):i+='[href="'+yt(e)+'"]';var s=i;switch(t){case"style":s=Gh(e);break;case"script":s=Yh(e)}zh.has(s)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),zh.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Qh(s))||"script"===t&&r.querySelector(Xh(s))||(fh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){qh.m(e,t);var n=Hh;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+yt(r)+'"][href="'+yt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Yh(e)}if(!zh.has(s)&&(e=f({rel:"modulepreload",href:e},t),zh.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Xh(s)))return}fh(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){qh.X(e,t);var n=Hh;if(n&&e){var r=Ze(n).hoistableScripts,i=Yh(e),s=r.get(i);s||((s=n.querySelector(Xh(i)))||(e=f({src:e,async:!0},t),(t=zh.get(i))&&td(e,t),et(s=n.createElement("script")),fh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){qh.S(e,t,n);var r=Hh;if(r&&e){var i=Ze(r).hoistableStyles,s=Gh(e);t=t||"default";var a=i.get(s);if(!a){var o={loading:0,preload:null};if(a=r.querySelector(Qh(s)))o.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=zh.get(s))&&ed(e,n);var l=a=r.createElement("link");et(l),fh(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Zh(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:o},i.set(s,a)}}},M:function(e,t){qh.M(e,t);var n=Hh;if(n&&e){var r=Ze(n).hoistableScripts,i=Yh(e),s=r.get(i);s||((s=n.querySelector(Xh(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=zh.get(i))&&td(e,t),et(s=n.createElement("script")),fh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Hh="undefined"===typeof document?null:document;function Kh(e,t,n){var r=Hh;if(r&&"string"===typeof t&&t){var i=yt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Vh.has(i)||(Vh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(fh(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Wh(e,t,n,r){var i,s,o,l,c=(c=W.current)?Bh(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Gh(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Gh(n.href);var u=Ze(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Qh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),zh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},zh.set(e,n),u||(i=c,s=e,o=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),fh(s,"link",o),et(s),i.head.appendChild(s))))),t&&null===r)throw Error(a(528,""));return h}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Yh(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Gh(e){return'href="'+yt(e)+'"'}function Qh(e){return'link[rel="stylesheet"]['+e+"]"}function $h(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Yh(e){return'[src="'+yt(e)+'"]'}function Xh(e){return"script[async]"+e}function Jh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+yt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),fh(r,"style",i),Zh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Gh(n.href);var s=e.querySelector(Qh(i));if(s)return t.state.loading|=4,t.instance=s,et(s),s;r=$h(n),(i=zh.get(i))&&ed(r,i),et(s=(e.ownerDocument||e).createElement("link"));var o=s;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),fh(s,"link",r),t.state.loading|=4,Zh(s,n.precedence,e),t.instance=s;case"script":return s=Yh(n.src),(i=e.querySelector(Xh(s)))?(t.instance=i,et(i),i):(r=n,(i=zh.get(s))&&td(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),fh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zh(r,n.precedence,e));return t.instance}function Zh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,a=0;a<r.length;a++){var o=r[a];if(o.dataset.precedence===t)s=o;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function ed(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function td(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var nd=null;function rd(e,t,n){if(null===nd){var r=new Map,i=nd=new Map;i.set(n,r)}else(r=(i=nd).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Qe]||s[Ve]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=r.get(a);o?o.push(s):r.set(a,[s])}}return r}function id(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function sd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var ad=0;function od(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)cd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var ld=null;function cd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,ld=new Map,t.forEach(ud,e),ld=null,od.call(e))}function ud(e,t){if(!(4&t.state.loading)){var n=ld.get(e);if(n)var r=n.get(null);else{n=new Map,ld.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var a=i[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(s=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=od.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var hd={$$typeof:x,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function dd(e,t,n,r,i,s,a,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=De(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=De(0),this.hiddenUpdates=De(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function fd(e,t,n,r,i,s,a,o,l,c,u,h){return e=new dd(e,t,n,a,l,c,u,h,o),t=1,!0===s&&(t|=24),s=Fr(3,null,null,t),e.current=s,s.stateNode=e,(t=zi()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ys(s),e}function pd(e){return e?e=Lr:Lr}function md(e,t,n,r,i,s){i=pd(i),null===r.context?r.context=i:r.pendingContext=i,(r=bs(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=ws(e,r,t))&&($c(n,0,t),xs(n,e,t))}function gd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function yd(e,t){gd(e,t),(e=e.alternate)&&gd(e,t)}function vd(e){if(13===e.tag||31===e.tag){var t=Pr(e,67108864);null!==t&&$c(t,0,67108864),yd(e,67108864)}}function bd(e){if(13===e.tag||31===e.tag){var t=Gc(),n=Pr(e,t=Le(t));null!==n&&$c(n,0,t),yd(e,t)}}var wd=!0;function xd(e,t,n,r){var i=O.T;O.T=null;var s=j.p;try{j.p=2,Ed(e,t,n,r)}finally{j.p=s,O.T=i}}function kd(e,t,n,r){var i=O.T;O.T=null;var s=j.p;try{j.p=8,Ed(e,t,n,r)}finally{j.p=s,O.T=i}}function Ed(e,t,n,r){if(wd){var i=Sd(r);if(null===i)nh(e,t,r,_d,n),Ld(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Id=Md(Id,e,t,n,r,i),!0;case"dragenter":return Ad=Md(Ad,e,t,n,r,i),!0;case"mouseover":return Dd=Md(Dd,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Rd.set(s,Md(Rd.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pd.set(s,Md(Pd.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ld(e,r),4&t&&-1<jd.indexOf(e)){for(;null!==i;){var s=Xe(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=Ne(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-we(a);o.entanglements[1]|=l,a&=~l}Lu(s),0===(6&pc)&&(jc=le()+500,Mu(0,!1))}}break;case 31:case 13:null!==(o=Pr(s,2))&&$c(o,0,2),eu(),yd(s,2)}if(null===(s=Sd(r))&&nh(e,t,r,_d,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else nh(e,t,r,null,n)}}function Sd(e){return Nd(e=Ot(e))}var _d=null;function Nd(e){if(_d=null,null!==(e=Ye(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _d=e,null}function Td(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case he:return 8;case de:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Cd=!1,Id=null,Ad=null,Dd=null,Rd=new Map,Pd=new Map,Od=[],jd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ld(e,t){switch(e){case"focusin":case"focusout":Id=null;break;case"dragenter":case"dragleave":Ad=null;break;case"mouseover":case"mouseout":Dd=null;break;case"pointerover":case"pointerout":Rd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pd.delete(t.pointerId)}}function Md(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Xe(t))&&vd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Fd(e){var t=Ye(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void Ue(e.priority,function(){bd(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void Ue(e.priority,function(){bd(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ud(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Sd(e.nativeEvent);if(null!==n)return null!==(t=Xe(n))&&vd(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Pt=r,n.target.dispatchEvent(r),Pt=null,t.shift()}return!0}function zd(e,t,n){Ud(e)&&n.delete(t)}function Vd(){Cd=!1,null!==Id&&Ud(Id)&&(Id=null),null!==Ad&&Ud(Ad)&&(Ad=null),null!==Dd&&Ud(Dd)&&(Dd=null),Rd.forEach(zd),Pd.forEach(zd)}function Bd(e,t){e.blockedOn===t&&(e.blockedOn=null,Cd||(Cd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Vd)))}var qd=null;function Hd(e){qd!==e&&(qd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qd===e&&(qd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Nd(r||n))continue;break}var s=Xe(n);null!==s&&(e.splice(t,3),t-=3,to(s,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Kd(e){function t(t){return Bd(t,e)}null!==Id&&Bd(Id,e),null!==Ad&&Bd(Ad,e),null!==Dd&&Bd(Dd,e),Rd.forEach(t),Pd.forEach(t);for(var n=0;n<Od.length;n++){var r=Od[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Od.length&&null===(n=Od[0]).blockedOn;)Fd(n),null===n.blockedOn&&Od.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],a=i[Be]||null;if("function"===typeof s)a||Hd(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(i=s,a=s[Be]||null)o=a.formAction;else if(null!==Nd(i))continue}else o=a.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Hd(n)}}}function Wd(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Gd(e){this._internalRoot=e}function Qd(e){this._internalRoot=e}Qd.prototype.render=Gd.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));md(t.current,Gc(),e,t,null,null)},Qd.prototype.unmount=Gd.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;md(e.current,2,null,e,null,null),eu(),t[qe]=null}},Qd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Od.length&&0!==t&&t<Od[n].priority;n++);Od.splice(n,0,e),0===n&&Fd(e)}};var $d=i.version;if("19.2.4"!==$d)throw Error(a(527,$d,"19.2.4"));j.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return h(i),e;if(s===r)return h(i),t;s=s.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=s;break}if(c===r){o=!0,r=i,n=s;break}c=c.sibling}if(!o){for(c=s.child;c;){if(c===n){o=!0,n=s,r=i;break}if(c===r){o=!0,r=s,n=i;break}c=c.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Yd={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.4"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Xd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xd.isDisabled&&Xd.supportsFiber)try{ye=Xd.inject(Yd),ve=Xd}catch(Zd){}}t.createRoot=function(e,t){if(!o(e))throw Error(a(299));var n=!1,r="",i=_o,s=No,l=To;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=fd(e,1,!1,null,0,n,r,null,i,s,l,Wd),e[qe]=t.current,eh(e),new Gd(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(a(299));var r=!1,i="",s=_o,l=No,c=To,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=fd(e,1,!0,t,0,r,i,u,s,l,c,Wd)).context=pd(null),n=t.current,(i=bs(r=Le(r=Gc()))).callback=null,ws(n,i,r),n=r,t.current.lanes=n,Re(t,n),Lu(t),e[qe]=t.current,eh(e),new Qd(t)},t.version="19.2.4"},672(e,t,n){var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var a={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.4"},391(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},799(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},288(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||m}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=v.prototype;var x=w.prototype=new b;x.constructor=w,g(x,v.prototype),x.isPureReactComponent=!0;var k=Array.isArray;function E(){}var S={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function N(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return A((u=e._init)(e._payload),t,i,s,a)}}if(u)return a=a(e),u=""===s?"."+I(e,0):s,k(a)?(i="",null!=u&&(i=u.replace(C,"$&/")+"/"),A(a,t,i,"",function(e){return e})):null!=a&&(T(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+u,a=N(l.type,c,l.props)),t.push(a)),1;u=0;var h,f=""===s?".":s+":";if(k(e))for(var m=0;m<e.length;m++)u+=A(s=e[m],t,i,o=f+I(s,m),a);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=A(s=s.value,t,i,o=f+I(s,m++),a);else if("object"===o){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(E,E):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function D(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",function(e){return t.call(n,e,i++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},O={map:D,forEach:function(e,t,n){D(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return D(e,function(){t++}),t},toArray:function(e){return D(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=O,t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return S.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.key&&(i=""+t.key),t)!_.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),o=0;o<s;o++)a[o]=arguments[o+2];r.children=a}return N(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)_.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return N(e,s,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=S.T,n={};S.T=n;try{var r=e(),i=S.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(E,P)}catch(s){P(s)}finally{null!==t&&null!==n.types&&(t.types=n.types),S.T=t}},t.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},t.use=function(e){return S.H.use(e)},t.useActionState=function(e,t,n){return S.H.useActionState(e,t,n)},t.useCallback=function(e,t){return S.H.useCallback(e,t)},t.useContext=function(e){return S.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return S.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return S.H.useEffect(e,t)},t.useEffectEvent=function(e){return S.H.useEffectEvent(e)},t.useId=function(){return S.H.useId()},t.useImperativeHandle=function(e,t,n){return S.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return S.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return S.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return S.H.useMemo(e,t)},t.useOptimistic=function(e,t){return S.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return S.H.useReducer(e,t,n)},t.useRef=function(e){return S.H.useRef(e)},t.useState=function(e){return S.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return S.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return S.H.useTransition()},t.version="19.2.4"},43(e,t,n){e.exports=n(288)},579(e,t,n){e.exports=n(799)},896(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function k(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,S||(S=!0,E());else{var t=r(u);null!==t&&R(k,t.startTime-e)}}var E,S=!1,_=-1,N=5,T=-1;function C(){return!!y||!(t.unstable_now()-T<N)}function I(){if(y=!1,S){var e=t.unstable_now();T=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(_),_=-1),p=!0;var s=f;try{t:{for(x(e),d=r(c);null!==d&&!(d.expirationTime>e&&C());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){d.callback=o,x(e),n=!0;break t}d===r(c)&&i(c),x(e)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&R(k,l.startTime-e),n=!1}}break e}finally{d=null,f=s,p=!1}n=void 0}}finally{n?E():S=!1}}}if("function"===typeof w)E=function(){w(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=I,E=function(){D.postMessage(null)}}else E=function(){v(I,0)};function R(e,n){_=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(b(_),_=-1):g=!0,R(k,s-a))):(e.sortIndex=o,n(c,e),m||p||(m=!0,S||(S=!0,E()))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853(e,t,n){e.exports=n(896)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".5668fd6b.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="ses-portfolio-app:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,s,[a,o,l]=r,c=0;if(a.some(t=>0!==e[t])){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkses_portfolio_app=self.webpackChunkses_portfolio_app||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),i=n(391);const s=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==l)throw new o;const c=t<<2|s>>4;if(r.push(c),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==l){const e=a<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class o extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const l=function(e){return function(e){const t=s(e);return a.encodeByteArray(t,!0)}(e).replace(/\./g,"")},c=function(e){try{return a.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const u=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,h=()=>{try{return u()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&c(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},d=e=>{var t,n;return null===(n=null===(t=h())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},f=e=>{const t=d(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},p=()=>{var e;return null===(e=h())||void 0===e?void 0:e.config},m=e=>{var t;return null===(t=h())||void 0===t?void 0:t["_".concat(e)]};class g{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function y(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(s)),""].join(".")}function v(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function b(){try{return"object"===typeof indexedDB}catch(e){return!1}}class w extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,w.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,x.prototype.create)}}class x{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(k,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new w(n,s,t)}}const k=/\{\$([^}]+)}/g;function E(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(S(n)&&S(s)){if(!E(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function S(e){return null!==e&&"object"===typeof e}function _(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function N(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function T(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class C{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=I),void 0===r.error&&(r.error=I),void 0===r.complete&&(r.complete=I);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function I(){}function A(e){return e&&e._delegate?e._delegate:e}class D{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const R="[DEFAULT]";class P{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new g;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:R})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===R?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;return this.component?this.component.multipleInstances?e:R:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class O{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new P(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const j=[];var L;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(L||(L={}));const M={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},F=L.INFO,U={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},z=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=U[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class V{constructor(e){this.name=e,this._logLevel=F,this._logHandler=z,this._userLogHandler=null,j.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in L))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?M[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...t),this._logHandler(this,L.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...t),this._logHandler(this,L.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,L.INFO,...t),this._logHandler(this,L.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,L.WARN,...t),this._logHandler(this,L.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,L.ERROR,...t),this._logHandler(this,L.ERROR,...t)}}function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function q(e){var t=function(e,t){if("object"!=B(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==B(t)?t:t+""}function H(e,t,n){return(t=q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach(function(t){H(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}let G,Q;const $=new WeakMap,Y=new WeakMap,X=new WeakMap,J=new WeakMap,Z=new WeakMap;let ee={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Y.get(e);if("objectStoreNames"===t)return e.objectStoreNames||X.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return re(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function te(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Q||(Q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ie(this),n),re($.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return re(e.apply(ie(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(ie(this),t,...r);return X.set(s,t.sort?t.sort():[t]),re(s)}}function ne(e){return"function"===typeof e?te(e):(e instanceof IDBTransaction&&function(e){if(Y.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});Y.set(e,t)}(e),t=e,(G||(G=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,ee):e);var t}function re(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(re(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&$.set(t,e)}).catch(()=>{}),Z.set(t,e),t}(e);if(J.has(e))return J.get(e);const t=ne(e);return t!==e&&(J.set(e,t),Z.set(t,e)),t}const ie=e=>Z.get(e);const se=["get","getKey","getAll","getAllKeys","count"],ae=["put","add","delete","clear"],oe=new Map;function le(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(oe.get(t))return oe.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!se.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return oe.set(t,s),s}ee=(e=>W(W({},e),{},{get:(t,n,r)=>le(t,n)||e.get(t,n,r),has:(t,n)=>!!le(t,n)||e.has(t,n)}))(ee);class ce{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const ue="@firebase/app",he="0.9.13",de=new V("@firebase/app"),fe="@firebase/app-compat",pe="@firebase/analytics-compat",me="@firebase/analytics",ge="@firebase/app-check-compat",ye="@firebase/app-check",ve="@firebase/auth",be="@firebase/auth-compat",we="@firebase/database",xe="@firebase/database-compat",ke="@firebase/functions",Ee="@firebase/functions-compat",Se="@firebase/installations",_e="@firebase/installations-compat",Ne="@firebase/messaging",Te="@firebase/messaging-compat",Ce="@firebase/performance",Ie="@firebase/performance-compat",Ae="@firebase/remote-config",De="@firebase/remote-config-compat",Re="@firebase/storage",Pe="@firebase/storage-compat",Oe="@firebase/firestore",je="@firebase/firestore-compat",Le="firebase",Me="[DEFAULT]",Fe={[ue]:"fire-core",[fe]:"fire-core-compat",[me]:"fire-analytics",[pe]:"fire-analytics-compat",[ye]:"fire-app-check",[ge]:"fire-app-check-compat",[ve]:"fire-auth",[be]:"fire-auth-compat",[we]:"fire-rtdb",[xe]:"fire-rtdb-compat",[ke]:"fire-fn",[Ee]:"fire-fn-compat",[Se]:"fire-iid",[_e]:"fire-iid-compat",[Ne]:"fire-fcm",[Te]:"fire-fcm-compat",[Ce]:"fire-perf",[Ie]:"fire-perf-compat",[Ae]:"fire-rc",[De]:"fire-rc-compat",[Re]:"fire-gcs",[Pe]:"fire-gcs-compat",[Oe]:"fire-fst",[je]:"fire-fst-compat","fire-js":"fire-js",[Le]:"fire-js-all"},Ue=new Map,ze=new Map;function Ve(e,t){try{e.container.addComponent(t)}catch(n){de.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Be(e){const t=e.name;if(ze.has(t))return de.debug("There were multiple attempts to register component ".concat(t,".")),!1;ze.set(t,e);for(const n of Ue.values())Ve(n,e);return!0}function qe(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const He=new x("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ke{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new D("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw He.create("app-deleted",{appName:this._name})}}const We="9.23.0";function Ge(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Me,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw He.create("bad-app-name",{appName:String(i)});if(n||(n=p()),!n)throw He.create("no-options");const s=Ue.get(i);if(s){if(E(n,s.options)&&E(r,s.config))return s;throw He.create("duplicate-app",{appName:i})}const a=new O(i);for(const l of ze.values())a.addComponent(l);const o=new Ke(n,r,a);return Ue.set(i,o),o}function Qe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me;const t=Ue.get(e);if(!t&&e===Me&&p())return Ge();if(!t)throw He.create("no-app",{appName:e});return t}function $e(e,t,n){var r;let i=null!==(r=Fe[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void de.warn(e.join(" "))}Be(new D("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const Ye="firebase-heartbeat-store";let Xe=null;function Je(){return Xe||(Xe=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=re(a);return r&&a.addEventListener("upgradeneeded",e=>{r(re(a.result),e.oldVersion,e.newVersion,re(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Ye)}}).catch(e=>{throw He.create("idb-open",{originalErrorMessage:e.message})})),Xe}async function Ze(e,t){try{const n=(await Je()).transaction(Ye,"readwrite"),r=n.objectStore(Ye);await r.put(t,et(e)),await n.done}catch(n){if(n instanceof w)de.warn(n.message);else{const e=He.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});de.warn(e.message)}}}function et(e){return"".concat(e.name,"!").concat(e.options.appId)}class tt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new rt(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=nt();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=nt(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),it(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),it(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=l(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function nt(){return(new Date).toISOString().substring(0,10)}class rt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!b()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Je();return await t.transaction(Ye).objectStore(Ye).get(et(e))}catch(t){if(t instanceof w)de.warn(t.message);else{const e=He.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});de.warn(e.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ze(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ze(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function it(e){return l(JSON.stringify({version:2,heartbeats:e})).length}var st;st="",Be(new D("platform-logger",e=>new ce(e),"PRIVATE")),Be(new D("heartbeat",e=>new tt(e),"PRIVATE")),$e(ue,he,st),$e(ue,he,"esm2017"),$e("fire-js","");$e("firebase","9.23.0","app");function at(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function ot(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lt=ot,ct=new x("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ut=new V("@firebase/auth");function ht(e){if(ut.logLevel<=L.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ut.error("Auth (".concat(We,"): ").concat(e),...n)}}function dt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw gt(e,...n)}function ft(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return gt(e,...n)}function pt(e,t,n){const r=Object.assign(Object.assign({},lt()),{[t]:n});return new x("auth","Firebase",r).create(t,{appName:e.name})}function mt(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&dt(e,"argument-error"),pt(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function gt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return ct.create(e,...n)}function yt(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw gt(t,...r)}}function vt(e){const t="INTERNAL ASSERTION FAILED: "+e;throw ht(t),new Error(t)}function bt(e,t){e||vt(t)}function wt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function xt(){return"http:"===kt()||"https:"===kt()}function kt(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Et(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(xt()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class St{constructor(e,t){this.shortDelay=e,this.longDelay=t,bt(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(v())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Et()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _t(e,t){bt(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Nt{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void vt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void vt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void vt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ct=new St(3e4,6e4);function It(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function At(e,t,n,r){return Dt(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=_(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),Nt.fetch()(Pt(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))})}async function Dt(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Tt),t);try{const t=new Ot(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw jt(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw jt(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw jt(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw jt(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw pt(e,o,a);dt(e,o)}}catch(i){if(i instanceof w)throw i;dt(e,"network-request-failed",{message:String(i)})}}async function Rt(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await At(e,t,n,r,i);return"mfaPendingCredential"in s&&dt(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Pt(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?_t(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}class Ot{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(ft(this.auth,"network-request-failed")),Ct.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jt(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=ft(e,t,r);return i.customData._tokenResponse=n,i}function Lt(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Mt(e){return 1e3*Number(e)}function Ft(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ht("JWT malformed, contained fewer than 3 sections"),null;try{const e=c(n);return e?JSON.parse(e):(ht("Failed to decode base64 JWT payload"),null)}catch(i){return ht("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function Ut(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof w&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class zt{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Vt{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lt(this.lastLoginAt),this.creationTime=Lt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Bt(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Ut(e,async function(e,t){return At(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));yt(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map(e=>{var{providerId:t}=e,n=at(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}):[];const o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Vt(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class qt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){yt(e.idToken,"internal-error"),yt("undefined"!==typeof e.idToken,"internal-error"),yt("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Ft(e);return yt(t,"internal-error"),yt("undefined"!==typeof t.exp,"internal-error"),yt("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return yt(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Dt(e,{},async()=>{const n=_({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Pt(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Nt.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new qt;return n&&(yt("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(yt("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(yt("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qt,this.toJSON())}_performRefresh(){return vt("not implemented")}}function Ht(e,t){yt("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Kt{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=at(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Vt(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ut(this,this.stsTokenManager.getToken(this.auth,e));return yt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=A(e),r=await n.getIdToken(t),i=Ft(r);yt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Lt(Mt(i.auth_time)),issuedAtTime:Lt(Mt(i.iat)),expirationTime:Lt(Mt(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=A(e);await Bt(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(yt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Kt(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Bt(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ut(this,async function(e,t){return At(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:k}=t;yt(v&&k,e,"internal-error");const E=qt.fromJSON(this.name,k);yt("string"===typeof v,e,"internal-error"),Ht(u,e.name),Ht(h,e.name),yt("boolean"===typeof b,e,"internal-error"),yt("boolean"===typeof w,e,"internal-error"),Ht(d,e.name),Ht(f,e.name),Ht(p,e.name),Ht(m,e.name),Ht(g,e.name),Ht(y,e.name);const S=new Kt({uid:v,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(S.providerData=x.map(e=>Object.assign({},e))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new qt;r.updateFromServerResponse(t);const i=new Kt({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Bt(i),i}}const Wt=new Map;function Gt(e){bt(e instanceof Function,"Expected a class definition");let t=Wt.get(e);return t?(bt(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Wt.set(e,t),t)}class Qt{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Qt.type="NONE";const $t=Qt;function Yt(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Xt{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Yt(this.userKey,r.apiKey,i),this.fullPersistenceKey=Yt("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Kt._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Xt(Gt($t),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Gt($t);const s=Yt(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=Kt._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new Xt(i,e,n)):new Xt(i,e,n)}}function Jt(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(nn(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zt(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(sn(t))return"Blackberry";if(an(t))return"Webos";if(en(t))return"Safari";if((t.includes("chrome/")||tn(t))&&!t.includes("edge/"))return"Chrome";if(rn(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Zt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v();return/firefox\//i.test(e)}function en(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:v()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v();return/crios\//i.test(e)}function nn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v();return/iemobile/i.test(e)}function rn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v();return/android/i.test(e)}function sn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v();return/blackberry/i.test(e)}function an(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v();return/webos/i.test(e)}function on(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ln(){return function(){const e=v();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function cn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v();return on(e)||rn(e)||an(e)||sn(e)||/windows phone/i.test(e)||nn(e)}function un(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Jt(v());break;case"Worker":t="".concat(Jt(v()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(We,"/").concat(r)}async function hn(e,t){return At(e,"GET","/v2/recaptchaConfig",It(e,t))}function dn(e){return void 0!==e&&void 0!==e.enterprise}class fn{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(e=>"EMAIL_PASSWORD_PROVIDER"===e.provider&&"OFF"!==e.enforcementState)}}function pn(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=ft("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})}function mn(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class gn{constructor(e){this.type="recaptcha-enterprise",this.auth=wn(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;dn(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{hn(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new fn(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&dn(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));pn("https://www.google.com/recaptcha/enterprise.js?render="+i).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function yn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new gn(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}class vn{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class bn{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new xn(this),this.idTokenSubscription=new xn(this),this.beforeStateQueue=new vn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ct,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Gt(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Xt.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Bt(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?A(e):null;return t&&yt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&yt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Gt(e))})}async initializeRecaptchaConfig(){const e=await hn(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),t=new fn(e);if(null==this.tenantId?this._agentRecaptchaConfig=t:this._tenantRecaptchaConfigs[this.tenantId]=t,t.emailPasswordEnabled){new gn(this).verify()}}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new x("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Gt(e)||this._popupRedirectResolver;yt(t,this,"argument-error"),this.redirectPersistenceManager=await Xt.create(this,[Gt(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return yt(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=un(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(ut.logLevel<=L.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];ut.warn("Auth (".concat(We,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function wn(e){return A(e)}class xn{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new C(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function kn(e,t,n){const r=wn(e);yt(r._canInitEmulator,r,"emulator-config-failed"),yt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=En(t),{host:a,port:o}=function(e){const t=En(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Sn(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Sn(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function En(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Sn(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class _n{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return vt("not implemented")}_getIdTokenResponse(e){return vt("not implemented")}_linkToIdToken(e,t){return vt("not implemented")}_getReauthenticationResolver(e){return vt("not implemented")}}async function Nn(e,t){return At(e,"POST","/v1/accounts:update",t)}async function Tn(e,t){return Rt(e,"POST","/v1/accounts:signInWithPassword",It(e,t))}class Cn extends _n{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Cn(e,t,"password")}static _fromEmailAndCode(e,t){return new Cn(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){var t;switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(null===(t=e._getRecaptchaConfig())||void 0===t?void 0:t.emailPasswordEnabled){const t=await yn(e,n,"signInWithPassword");return Tn(e,t)}return Tn(e,n).catch(async t=>{if(t.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const t=await yn(e,n,"signInWithPassword");return Tn(e,t)}return Promise.reject(t)});case"emailLink":return async function(e,t){return Rt(e,"POST","/v1/accounts:signInWithEmailLink",It(e,t))}(e,{email:this._email,oobCode:this._password});default:dt(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Nn(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(e,t){return Rt(e,"POST","/v1/accounts:signInWithEmailLink",It(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:dt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function In(e,t){return Rt(e,"POST","/v1/accounts:signInWithIdp",It(e,t))}class An extends _n{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new An(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):dt("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=at(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new An(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return In(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,In(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,In(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=_(t)}return e}}const Dn={USER_NOT_FOUND:"user-not-found"};class Rn extends _n{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Rn({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Rn({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Rt(e,"POST","/v1/accounts:signInWithPhoneNumber",It(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Rt(e,"POST","/v1/accounts:signInWithPhoneNumber",It(e,t));if(n.temporaryProof)throw jt(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Rt(e,"POST","/v1/accounts:signInWithPhoneNumber",It(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Dn)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Rn({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Pn{constructor(e){var t,n,r,i,s,a;const o=N(T(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);yt(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=N(T(e)).link,n=t?N(T(t)).deep_link_id:null,r=N(T(e)).deep_link_id;return(r?N(T(r)).link:null)||r||n||t||e}(e);try{return new Pn(t)}catch(n){return null}}}class On{constructor(){this.providerId=On.PROVIDER_ID}static credential(e,t){return Cn._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Pn.parseLink(t);return yt(n,"argument-error"),Cn._fromEmailAndCode(e,n.code,n.tenantId)}}On.PROVIDER_ID="password",On.EMAIL_PASSWORD_SIGN_IN_METHOD="password",On.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class jn{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ln extends jn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Mn extends Ln{constructor(){super("facebook.com")}static credential(e){return An._fromParams({providerId:Mn.PROVIDER_ID,signInMethod:Mn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mn.credentialFromTaggedObject(e)}static credentialFromError(e){return Mn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Mn.credential(t.oauthAccessToken)}catch(n){return null}}}Mn.FACEBOOK_SIGN_IN_METHOD="facebook.com",Mn.PROVIDER_ID="facebook.com";class Fn extends Ln{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return An._fromParams({providerId:Fn.PROVIDER_ID,signInMethod:Fn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Fn.credentialFromTaggedObject(e)}static credentialFromError(e){return Fn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Fn.credential(n,r)}catch(i){return null}}}Fn.GOOGLE_SIGN_IN_METHOD="google.com",Fn.PROVIDER_ID="google.com";class Un extends Ln{constructor(){super("github.com")}static credential(e){return An._fromParams({providerId:Un.PROVIDER_ID,signInMethod:Un.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Un.credentialFromTaggedObject(e)}static credentialFromError(e){return Un.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Un.credential(t.oauthAccessToken)}catch(n){return null}}}Un.GITHUB_SIGN_IN_METHOD="github.com",Un.PROVIDER_ID="github.com";class zn extends Ln{constructor(){super("twitter.com")}static credential(e,t){return An._fromParams({providerId:zn.PROVIDER_ID,signInMethod:zn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zn.credentialFromTaggedObject(e)}static credentialFromError(e){return zn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return zn.credential(n,r)}catch(i){return null}}}async function Vn(e,t){return Rt(e,"POST","/v1/accounts:signUp",It(e,t))}zn.TWITTER_SIGN_IN_METHOD="twitter.com",zn.PROVIDER_ID="twitter.com";class Bn{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Kt._fromIdTokenResponse(e,n,r),s=qn(n);return new Bn({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=qn(n);return new Bn({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function qn(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Hn extends w{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Hn.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Hn(e,t,n,r)}}function Kn(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Hn._fromErrorAndOperation(e,n,t,r);throw n})}async function Wn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Ut(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Bn._forOperation(e,"link",r)}async function Gn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await Ut(e,Kn(r,i,t,e),n);yt(s.idToken,r,"internal-error");const a=Ft(s.idToken);yt(a,r,"internal-error");const{sub:o}=a;return yt(e.uid===o,r,"user-mismatch"),Bn._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&dt(r,"user-mismatch"),s}}async function Qn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await Kn(e,r,t),s=await Bn._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function $n(e,t){return Qn(wn(e),t)}new WeakMap;const Yn="__sak";class Xn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Yn,"1"),this.storage.removeItem(Yn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Jn extends Xn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=v();return en(e)||on(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=cn(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);ln()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Jn.type="LOCAL";const Zn=Jn;class er extends Xn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}er.type="SESSION";const tr=er;class nr{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new nr(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function rr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}nr.receivers=[];class ir{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=rr("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function sr(){return window}function ar(){return"undefined"!==typeof sr().WorkerGlobalScope&&"function"===typeof sr().importScripts}const or="firebaseLocalStorageDb",lr="firebaseLocalStorage",cr="fbase_key";class ur{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function hr(e,t){return e.transaction([lr],t?"readwrite":"readonly").objectStore(lr)}function dr(){const e=indexedDB.open(or,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(lr,{keyPath:cr})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(lr)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(or);return new ur(e).toPromise()}(),t(await dr()))})})}async function fr(e,t,n){const r=hr(e,!0).put({[cr]:t,value:n});return new ur(r).toPromise()}function pr(e,t){const n=hr(e,!0).delete(t);return new ur(n).toPromise()}class mr{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await dr()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ar()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nr._getInstance(ar()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new ir(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dr();return await fr(e,Yn,"1"),await pr(e,Yn),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>fr(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=hr(e,!1).get(t),r=await new ur(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>pr(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=hr(e,!1).getAll();return new ur(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}mr.type="LOCAL";const gr=mr;mn("rcb"),new St(3e4,6e4);const yr="recaptcha";async function vr(e,t,n){var r;const i=await n.verify();try{let s;if(yt("string"===typeof i,e,"argument-error"),yt(n.type===yr,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){yt("enroll"===t.type,e,"internal-error");const n=await function(e,t){return At(e,"POST","/v2/accounts/mfaEnrollment:start",It(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{yt("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;yt(n,e,"missing-multi-factor-info");const a=await function(e,t){return At(e,"POST","/v2/accounts/mfaSignIn:start",It(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return At(e,"POST","/v1/accounts:sendVerificationCode",It(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class br{constructor(e){this.providerId=br.PROVIDER_ID,this.auth=wn(e)}verifyPhoneNumber(e,t){return vr(this.auth,e,A(t))}static credential(e,t){return Rn._fromVerification(e,t)}static credentialFromResult(e){const t=e;return br.credentialFromTaggedObject(t)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Rn._fromTokenResponse(n,r):null}}function wr(e,t){return t?Gt(t):(yt(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}br.PROVIDER_ID="phone",br.PHONE_SIGN_IN_METHOD="phone";class xr extends _n{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return In(e,this._buildIdpRequest())}_linkToIdToken(e,t){return In(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return In(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function kr(e){return Qn(e.auth,new xr(e),e.bypassAuthState)}function Er(e){const{auth:t,user:n}=e;return yt(n,t,"internal-error"),Gn(n,new xr(e),e.bypassAuthState)}async function Sr(e){const{auth:t,user:n}=e;return yt(n,t,"internal-error"),Wn(n,new xr(e),e.bypassAuthState)}class _r{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kr;case"linkViaPopup":case"linkViaRedirect":return Sr;case"reauthViaPopup":case"reauthViaRedirect":return Er;default:dt(this.auth,"internal-error")}}resolve(e){bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){bt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Nr=new St(2e3,1e4);class Tr extends _r{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Tr.currentPopupAction&&Tr.currentPopupAction.cancel(),Tr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return yt(e,this.auth,"internal-error"),e}async onExecution(){bt(1===this.filter.length,"Popup operations only handle one event");const e=rr();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(ft(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(ft(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Tr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ft(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Nr.get())};e()}}Tr.currentPopupAction=null;const Cr=new Map;class Ir extends _r{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Cr.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Pr(t),r=Rr(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Cr.set(this.auth._key(),e)}return this.bypassAuthState||Cr.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Ar(e,t){return Rr(e)._set(Pr(t),"true")}function Dr(e,t){Cr.set(e._key(),t)}function Rr(e){return Gt(e._redirectPersistence)}function Pr(e){return Yt("pendingRedirect",e.config.apiKey,e.name)}function Or(e,t,n){return async function(e,t,n){const r=wn(e);mt(e,t,jn),await r._initializationPromise;const i=wr(r,n);return await Ar(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}async function jr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=wn(e),i=wr(r,t),s=new Ir(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Lr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Fr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(ft(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mr(e))}saveEventToCache(e){this.cachedEventUids.add(Mr(e)),this.lastProcessedEventTime=Date.now()}}function Mr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Fr(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Ur=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zr=/^https?/;async function Vr(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return At(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Br(r))return}catch(n){}dt(e,"unauthorized-domain")}function Br(e){const t=wt(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!zr.test(n))return!1;if(Ur.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const qr=new St(3e4,6e4);function Hr(){const e=sr().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let Kr=null;function Wr(e){return Kr=Kr||function(e){return new Promise((t,n)=>{var r,i,s;function a(){Hr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Hr(),n(ft(e,"network-request-failed"))},timeout:qr.get()})}if(null===(i=null===(r=sr().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=sr().gapi)||void 0===s?void 0:s.load)){const t=mn("iframefcb");return sr()[t]=()=>{gapi.load?a():n(ft(e,"network-request-failed"))},pn("https://apis.google.com/js/api.js?onload=".concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw Kr=null,e})}(e),Kr}const Gr=new St(5e3,15e3),Qr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$r=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yr(e){const t=e.config;yt(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?_t(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:We},i=$r.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(_(r).slice(1))}const Xr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Jr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Zr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Xr),{width:r.toString(),height:i.toString(),top:s,left:a}),c=v().toLowerCase();n&&(o=tn(c)?"_blank":n),Zt(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return on(arguments.length>0&&void 0!==arguments[0]?arguments[0]:v())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Jr(null);const h=window.open(t||"",o,u);yt(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Jr(h)}const ei="__/auth/handler",ti="emulator/auth/handler",ni=encodeURIComponent("fac");async function ri(e,t,n,r,i,s){yt(e.config.authDomain,e,"auth-domain-config-required"),yt(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:We,eventId:i};if(t instanceof jn){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof Ln){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(ni,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ei);return _t(t,ti)}(e),"?").concat(_(o).slice(1)).concat(c)}const ii="webStorageSupport";const si=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tr,this._completeRedirectFn=jr,this._overrideRedirectResult=Dr}async _openPopup(e,t,n,r){var i;bt(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Zr(e,await ri(e,t,n,wt(),r),rr())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){sr().location.href=e}(await ri(e,t,n,wt(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(bt(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await async function(e){const t=await Wr(e),n=sr().gapi;return yt(n,e,"internal-error"),t.open({where:document.body,url:Yr(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qr,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=ft(e,"network-request-failed"),s=sr().setTimeout(()=>{r(i)},Gr.get());function a(){sr().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}(e),n=new Lr(e);return t.register("authEvent",t=>{yt(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ii,{type:ii},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ii];void 0!==i&&t(!!i),dt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Vr(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cn()||en()||on()}};var ai="@firebase/auth",oi="0.23.2";class li{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ci=m("authIdTokenMaxAge")||300;let ui=null;var hi;hi="Browser",Be(new D("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;yt(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:hi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:un(hi)},c=new bn(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Gt);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Be(new D("auth-internal",e=>(e=>new li(e))(wn(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),$e(ai,oi,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(hi)),$e(ai,oi,"esm2017");var di,fi="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},pi={},mi=mi||{},gi=fi||self;function yi(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function vi(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var bi="closure_uid_"+(1e9*Math.random()>>>0),wi=0;function xi(e,t,n){return e.call.apply(e.bind,arguments)}function ki(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ei(e,t,n){return(Ei=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xi:ki).apply(null,arguments)}function Si(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function _i(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Ni(){this.s=this.s,this.o=this.o}Ni.prototype.s=!1,Ni.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,bi)&&e[bi]||(e[bi]=++wi))},Ni.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ti=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ci(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ii(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(yi(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Ai(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Ai.prototype.h=function(){this.defaultPrevented=!0};var Di=function(){if(!gi.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{gi.addEventListener("test",()=>{},t),gi.removeEventListener("test",()=>{},t)}catch(n){}return e}();function Ri(e){return/^[\s\xa0]*$/.test(e)}function Pi(){var e=gi.navigator;return e&&(e=e.userAgent)?e:""}function Oi(e){return-1!=Pi().indexOf(e)}function ji(e){return ji[" "](e),e}ji[" "]=function(){};var Li,Mi,Fi=Oi("Opera"),Ui=Oi("Trident")||Oi("MSIE"),zi=Oi("Edge"),Vi=zi||Ui,Bi=Oi("Gecko")&&!(-1!=Pi().toLowerCase().indexOf("webkit")&&!Oi("Edge"))&&!(Oi("Trident")||Oi("MSIE"))&&!Oi("Edge"),qi=-1!=Pi().toLowerCase().indexOf("webkit")&&!Oi("Edge");function Hi(){var e=gi.document;return e?e.documentMode:void 0}e:{var Ki="",Wi=function(){var e=Pi();return Bi?/rv:([^\);]+)(\)|;)/.exec(e):zi?/Edge\/([\d\.]+)/.exec(e):Ui?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):qi?/WebKit\/(\S+)/.exec(e):Fi?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Wi&&(Ki=Wi?Wi[1]:""),Ui){var Gi=Hi();if(null!=Gi&&Gi>parseFloat(Ki)){Li=String(Gi);break e}}Li=Ki}if(gi.document&&Ui){var Qi=Hi();Mi=Qi||(parseInt(Li,10)||void 0)}else Mi=void 0;var $i=Mi;function Yi(e,t){if(Ai.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Bi){e:{try{ji(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Xi[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Yi.$.h.call(this)}}_i(Yi,Ai);var Xi={2:"touch",3:"pen",4:"mouse"};Yi.prototype.h=function(){Yi.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Ji="closure_listenable_"+(1e6*Math.random()|0),Zi=0;function es(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Zi,this.fa=this.ia=!1}function ts(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ns(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function rs(e){const t={};for(const n in e)t[n]=e[n];return t}const is="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ss(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<is.length;t++)n=is[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function as(e){this.src=e,this.g={},this.h=0}function os(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Ti(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ts(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ls(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}as.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=ls(e,t,r,i);return-1<a?(t=e[a],n||(t.ia=!1)):((t=new es(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var cs="closure_lm_"+(1e6*Math.random()|0),us={};function hs(e,t,n,r,i){if(r&&r.once)return fs(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)hs(e,t[s],n,r,i);return null}return n=ws(n),e&&e[Ji]?e.O(t,n,vi(r)?!!r.capture:!!r,i):ds(e,t,n,!1,r,i)}function ds(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=vi(i)?!!i.capture:!!i,o=vs(e);if(o||(e[cs]=o=new as(e)),(n=o.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ys;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Di||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(gs(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function fs(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)fs(e,t[s],n,r,i);return null}return n=ws(n),e&&e[Ji]?e.P(t,n,vi(r)?!!r.capture:!!r,i):ds(e,t,n,!0,r,i)}function ps(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)ps(e,t[s],n,r,i);else r=vi(r)?!!r.capture:!!r,n=ws(n),e&&e[Ji]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ls(s=e.g[t],n,r,i))&&(ts(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=vs(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ls(t,n,r,i)),(n=-1<e?t[e]:null)&&ms(n))}function ms(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Ji])os(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(gs(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=vs(t))?(os(n,e),0==n.h&&(n.src=null,t[cs]=null)):ts(e)}}}function gs(e){return e in us?us[e]:us[e]="on"+e}function ys(e,t){if(e.fa)e=!0;else{t=new Yi(t,this);var n=e.listener,r=e.la||e.src;e.ia&&ms(e),e=n.call(r,t)}return e}function vs(e){return(e=e[cs])instanceof as?e:null}var bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ws(e){return"function"===typeof e?e:(e[bs]||(e[bs]=function(t){return e.handleEvent(t)}),e[bs])}function xs(){Ni.call(this),this.i=new as(this),this.S=this,this.J=null}function ks(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Ai(t,e);else if(t instanceof Ai)t.target=t.target||e;else{var i=t;ss(t=new Ai(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=Es(a,r,!0,t)&&i}if(i=Es(a=t.g=e,r,!0,t)&&i,i=Es(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Es(a=t.g=n[s],r,!1,t)&&i}function Es(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.fa&&a.capture==n){var o=a.listener,l=a.la||a.src;a.ia&&os(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}_i(xs,Ni),xs.prototype[Ji]=!0,xs.prototype.removeEventListener=function(e,t,n,r){ps(this,e,t,n,r)},xs.prototype.N=function(){if(xs.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ts(n[r]);delete t.g[e],t.h--}}this.J=null},xs.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},xs.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ss=gi.JSON.stringify;function _s(){var e=Rs;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ns=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Ts,e=>e.reset());class Ts{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Cs(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Is(e){gi.setTimeout(()=>{throw e},0)}let As,Ds=!1,Rs=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ns.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Ps=()=>{const e=gi.Promise.resolve(void 0);As=()=>{e.then(Os)}};var Os=()=>{for(var e;e=_s();){try{e.h.call(e.g)}catch(n){Is(n)}var t=Ns;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ds=!1};function js(e,t){xs.call(this),this.h=e||1,this.g=t||gi,this.j=Ei(this.qb,this),this.l=Date.now()}function Ls(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Ms(e,t,n){if("function"===typeof e)n&&(e=Ei(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ei(e.handleEvent,e)}return 2147483647<Number(t)?-1:gi.setTimeout(e,t||0)}function Fs(e){e.g=Ms(()=>{e.g=null,e.i&&(e.i=!1,Fs(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}_i(js,xs),(di=js.prototype).ga=!1,di.T=null,di.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ks(this,"tick"),this.ga&&(Ls(this),this.start()))}},di.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},di.N=function(){js.$.N.call(this),Ls(this),delete this.g};class Us extends Ni{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Fs(this)}N(){super.N(),this.g&&(gi.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zs(e){Ni.call(this),this.h=e,this.g={}}_i(zs,Ni);var Vs=[];function Bs(e,t,n,r){Array.isArray(n)||(n&&(Vs[0]=n.toString()),n=Vs);for(var i=0;i<n.length;i++){var s=hs(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function qs(e){ns(e.g,function(e,t){this.g.hasOwnProperty(t)&&ms(e)},e),e.g={}}function Hs(){this.g=!0}function Ks(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return Ss(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}zs.prototype.N=function(){zs.$.N.call(this),qs(this)},zs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Hs.prototype.Ea=function(){this.g=!1},Hs.prototype.info=function(){};var Ws={},Gs=null;function Qs(){return Gs=Gs||new xs}function $s(e){Ai.call(this,Ws.Ta,e)}function Ys(e){const t=Qs();ks(t,new $s(t))}function Xs(e,t){Ai.call(this,Ws.STAT_EVENT,e),this.stat=t}function Js(e){const t=Qs();ks(t,new Xs(t,e))}function Zs(e,t){Ai.call(this,Ws.Ua,e),this.size=t}function ea(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return gi.setTimeout(function(){e()},t)}Ws.Ta="serverreachability",_i($s,Ai),Ws.STAT_EVENT="statevent",_i(Xs,Ai),Ws.Ua="timingevent",_i(Zs,Ai);var ta={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},na={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ra(){}function ia(e){return e.h||(e.h=e.i())}function sa(){}ra.prototype.h=null;var aa,oa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function la(){Ai.call(this,"d")}function ca(){Ai.call(this,"c")}function ua(){}function ha(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new zs(this),this.P=fa,e=Vi?125:void 0,this.V=new js(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new da}function da(){this.i=null,this.g="",this.h=!1}_i(la,Ai),_i(ca,Ai),_i(ua,ra),ua.prototype.g=function(){return new XMLHttpRequest},ua.prototype.i=function(){return{}},aa=new ua;var fa=45e3,pa={},ma={};function ga(e,t,n){e.L=1,e.v=ja(Aa(t)),e.s=n,e.S=!0,ya(e,null)}function ya(e,t){e.G=Date.now(),xa(e),e.A=Aa(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Qa(n.i,"t",r),e.C=0,n=e.l.J,e.h=new da,e.g=Yo(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Us(Ei(e.Pa,e,e.g),e.O)),Bs(e.U,e.g,"readystatechange",e.nb),t=e.I?rs(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Ys(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.j,e.u,e.A,e.m,e.W,e.s)}function va(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function ba(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=wa(e,n),r==ma){4==t&&(e.o=4,Js(14),i=!1),Ks(e.j,e.m,null,"[Incomplete Response]");break}if(r==pa){e.o=4,Js(15),Ks(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ks(e.j,e.m,r,null),Na(e,r)}va(e)&&r!=ma&&r!=pa&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Js(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bo(t),t.M=!0,Js(11))):(Ks(e.j,e.m,n,"[Invalid Chunked Response]"),_a(e),Sa(e))}function wa(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ma:(n=Number(t.substring(n,r)),isNaN(n)?pa:(r+=1)+n>t.length?ma:(t=t.slice(r,r+n),e.C=r+n,t))}function xa(e){e.Y=Date.now()+e.P,ka(e,e.P)}function ka(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ea(Ei(e.lb,e),t)}function Ea(e){e.B&&(gi.clearTimeout(e.B),e.B=null)}function Sa(e){0==e.l.H||e.J||Ko(e.l,e)}function _a(e){Ea(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Ls(e.V),qs(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Na(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||to(n.i,e)))if(!e.K&&to(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Ho(n),Oo(n)}Vo(n),Js(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=ea(Ei(n.ib,n),6e3));if(1>=eo(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Go(n,11)}else if((e.K||n.g==e)&&Ho(n),!Ri(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(no(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Oa(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var a=e;if((r=n).wa=$o(r,r.J?r.pa:null,r.Y),a.K){ro(r.i,a);var o=a,l=r.L;l&&o.setTimeout(l),o.B&&(Ea(o),xa(o)),r.g=a}else zo(r);0<n.j.length&&Lo(n)}else"stop"!=c[0]&&"close"!=c[0]||Go(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Go(n,7):Po(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Ys()}catch(c){}}function Ta(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(yi(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(yi(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(yi(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(di=ha.prototype).setTimeout=function(e){this.P=e},di.nb=function(e){e=e.target;const t=this.M;t&&3==To(e)?t.l():this.Pa(e)},di.Pa=function(e){try{if(e==this.g)e:{const u=To(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Vi||this.g&&(this.h.h||this.g.ja()||Co(this.g)))){this.J||4!=u||7==t||Ys(),Ea(this);var n=this.g.da();this.ca=n;t:if(va(this)){var r=Co(this.g);e="";var i=r.length,s=4==To(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){_a(this),Sa(this);var a="";break t}this.h.i=new gi.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var o,l=this.g;if((o=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ri(o)){var c=o;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,Js(12),_a(this),Sa(this);break e}Ks(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Na(this,n)}this.S?(ba(this,u,a),Vi&&this.i&&3==u&&(Bs(this.U,this.V,"tick",this.mb),this.V.start())):(Ks(this.j,this.m,a,null),Na(this,a)),4==u&&_a(this),this.i&&!this.J&&(4==u?Ko(this.l,this):(this.i=!1,xa(this)))}else(function(e){const t={};e=(e.g&&2<=To(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Ri(e[r]))continue;var n=Cs(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.o=3,Js(12)):(this.o=0,Js(13)),_a(this),Sa(this)}}}catch(u){}},di.mb=function(){if(this.g){var e=To(this.g),t=this.g.ja();this.C<t.length&&(Ea(this),ba(this,e,t),this.i&&4!=e&&xa(this))}},di.cancel=function(){this.J=!0,_a(this)},di.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Ys(),Js(17)),_a(this),this.o=2,Sa(this)):ka(this,this.Y-e)};var Ca=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ia){this.h=e.h,Da(this,e.j),this.s=e.s,this.g=e.g,Ra(this,e.m),this.l=e.l;var t=e.i,n=new Ha;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Pa(this,n),this.o=e.o}else e&&(t=String(e).match(Ca))?(this.h=!1,Da(this,t[1]||"",!0),this.s=La(t[2]||""),this.g=La(t[3]||"",!0),Ra(this,t[4]),this.l=La(t[5]||"",!0),Pa(this,t[6]||"",!0),this.o=La(t[7]||"")):(this.h=!1,this.i=new Ha(null,this.h))}function Aa(e){return new Ia(e)}function Da(e,t,n){e.j=n?La(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Ra(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Pa(e,t,n){t instanceof Ha?(e.i=t,function(e,t){t&&!e.j&&(Ka(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Wa(this,t),Qa(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=Ma(t,Ba)),e.i=new Ha(t,e.h))}function Oa(e,t,n){e.i.set(t,n)}function ja(e){return Oa(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function La(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ma(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Fa),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Fa(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ia.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ma(t,Ua,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ma(t,Ua,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ma(n,"/"==n.charAt(0)?Va:za,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ma(n,qa)),e.join("")};var Ua=/[#\/\?@]/g,za=/[#\?:]/g,Va=/[#\?]/g,Ba=/[#\?@]/g,qa=/#/g;function Ha(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ka(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Wa(e,t){Ka(e),t=$a(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Ga(e,t){return Ka(e),t=$a(e,t),e.g.has(t)}function Qa(e,t,n){Wa(e,t),0<n.length&&(e.i=null,e.g.set($a(e,t),Ci(n)),e.h+=n.length)}function $a(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(di=Ha.prototype).add=function(e,t){Ka(this),this.i=null,e=$a(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},di.forEach=function(e,t){Ka(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},di.ta=function(){Ka(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},di.Z=function(e){Ka(this);let t=[];if("string"===typeof e)Ga(this,e)&&(t=t.concat(this.g.get($a(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},di.set=function(e,t){return Ka(this),this.i=null,Ga(this,e=$a(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},di.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},di.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")};var Ya=class{constructor(e,t){this.g=e,this.map=t}};function Xa(e){this.l=e||Ja,gi.PerformanceNavigationTiming?e=0<(e=gi.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(gi.g&&gi.g.Ka&&gi.g.Ka()&&gi.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ja=10;function Za(e){return!!e.h||!!e.g&&e.g.size>=e.j}function eo(e){return e.h?1:e.g?e.g.size:0}function to(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function no(e,t){e.g?e.g.add(t):e.h=t}function ro(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function io(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Ci(e.i)}Xa.prototype.cancel=function(){if(this.i=io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var so,ao=class{stringify(e){return gi.JSON.stringify(e,void 0)}parse(e){return gi.JSON.parse(e,void 0)}};function oo(){this.g=new ao}function lo(e,t,n){const r=n||"";try{Ta(e,function(e,n){let i=e;vi(e)&&(i=Ss(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function co(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function uo(e){this.l=e.fc||null,this.j=e.ob||!1}function ho(e,t){xs.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=fo,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_i(uo,ra),uo.prototype.g=function(){return new ho(this.l,this.j)},uo.prototype.i=(so={},function(){return so}),_i(ho,xs);var fo=0;function po(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function mo(e){e.readyState=4,e.l=null,e.j=null,e.A=null,go(e)}function go(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(di=ho.prototype).open=function(e,t){if(this.readyState!=fo)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,go(this)},di.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||gi).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},di.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mo(this)),this.readyState=fo},di.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,go(this)),this.g&&(this.readyState=3,go(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof gi.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;po(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},di.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?mo(this):go(this),3==this.readyState&&po(this)}},di.Za=function(e){this.g&&(this.response=this.responseText=e,mo(this))},di.Ya=function(e){this.g&&(this.response=e,mo(this))},di.ka=function(){this.g&&mo(this)},di.setRequestHeader=function(e,t){this.v.append(e,t)},di.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},di.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ho.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var yo=gi.JSON.parse;function vo(e){xs.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=bo,this.L=this.M=!1}_i(vo,xs);var bo="",wo=/^https?$/i,xo=["POST","PUT"];function ko(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Eo(e),_o(e)}function Eo(e){e.F||(e.F=!0,ks(e,"complete"),ks(e,"error"))}function So(e){if(e.h&&"undefined"!=typeof mi&&(!e.C[1]||4!=To(e)||2!=e.da()))if(e.v&&4==To(e))Ms(e.La,0,e);else if(ks(e,"readystatechange"),4==To(e)){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===o){var i=String(e.I).match(Ca)[1]||null;!i&&gi.self&&gi.self.location&&(i=gi.self.location.protocol.slice(0,-1)),r=!wo.test(i?i.toLowerCase():"")}n=r}if(n)ks(e,"complete"),ks(e,"success");else{e.m=6;try{var s=2<To(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.da()+"]",Eo(e)}}finally{_o(e)}}}function _o(e,t){if(e.g){No(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||ks(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function No(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(gi.clearTimeout(e.A),e.A=null)}function To(e){return e.g?e.g.readyState:0}function Co(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case bo:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Pl){return null}}function Io(e){let t="";return ns(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Ao(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Io(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Oa(e,t,n))}function Do(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ro(e){this.Ga=0,this.j=[],this.l=new Hs,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Do("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Do("baseRetryDelayMs",5e3,e),this.hb=Do("retryDelaySeedMs",1e4,e),this.eb=Do("forwardChannelMaxRetries",2,e),this.xa=Do("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new Xa(e&&e.concurrentRequestLimit),this.Ja=new oo,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Po(e){if(jo(e),3==e.H){var t=e.W++,n=Aa(e.I);if(Oa(n,"SID",e.K),Oa(n,"RID",t),Oa(n,"TYPE","terminate"),Fo(e,n),(t=new ha(e,e.l,t)).L=2,t.v=ja(Aa(n)),n=!1,gi.navigator&&gi.navigator.sendBeacon)try{n=gi.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&gi.Image&&((new Image).src=t.v,n=!0),n||(t.g=Yo(t.l,null),t.g.ha(t.v)),t.G=Date.now(),xa(t)}Qo(e)}function Oo(e){e.g&&(Bo(e),e.g.cancel(),e.g=null)}function jo(e){Oo(e),e.u&&(gi.clearTimeout(e.u),e.u=null),Ho(e),e.i.cancel(),e.m&&("number"===typeof e.m&&gi.clearTimeout(e.m),e.m=null)}function Lo(e){if(!Za(e.i)&&!e.m){e.m=!0;var t=e.Na;As||Ps(),Ds||(As(),Ds=!0),Rs.add(t,e),e.C=0}}function Mo(e,t){var n;n=t?t.m:e.W++;const r=Aa(e.I);Oa(r,"SID",e.K),Oa(r,"RID",n),Oa(r,"AID",e.V),Fo(e,r),e.o&&e.s&&Ao(r,e.o,e.s),n=new ha(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Uo(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),no(e.i,n),ga(n,r,t)}function Fo(e,t){e.na&&ns(e.na,function(e,n){Oa(t,n,e)}),e.h&&Ta({},function(e,n){Oa(t,n,e)})}function Uo(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Ei(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{lo(o,e,"req"+n+"_")}catch(Hl){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function zo(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;As||Ps(),Ds||(As(),Ds=!0),Rs.add(t,e),e.A=0}}function Vo(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=ea(Ei(e.Ma,e),Wo(e,e.A)),e.A++,!0)}function Bo(e){null!=e.B&&(gi.clearTimeout(e.B),e.B=null)}function qo(e){e.g=new ha(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Aa(e.wa);Oa(t,"RID","rpc"),Oa(t,"SID",e.K),Oa(t,"AID",e.V),Oa(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Oa(t,"TO",e.qa),Oa(t,"TYPE","xmlhttp"),Fo(e,t),e.o&&e.s&&Ao(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=ja(Aa(t)),n.s=null,n.S=!0,ya(n,e)}function Ho(e){null!=e.v&&(gi.clearTimeout(e.v),e.v=null)}function Ko(e,t){var n=null;if(e.g==t){Ho(e),Bo(e),e.g=null;var r=2}else{if(!to(e.i,t))return;n=t.F,ro(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;ks(r=Qs(),new Zs(r,n)),Lo(e)}else zo(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(eo(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=ea(Ei(e.Na,e,t),Wo(e,e.C)),e.C++,!0))}(e,t)||2==r&&Vo(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Go(e,5);break;case 4:Go(e,10);break;case 3:Go(e,6);break;default:Go(e,2)}}function Wo(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Go(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Ei(e.pb,e);n||(n=new Ia("//www.google.com/images/cleardot.gif"),gi.location&&"http"==gi.location.protocol||Da(n,"https"),ja(n)),function(e,t){const n=new Hs;if(gi.Image){const r=new Image;r.onload=Si(co,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Si(co,n,r,"TestLoadImage: error",!1,t),r.onabort=Si(co,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Si(co,n,r,"TestLoadImage: timeout",!1,t),gi.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Js(2);e.H=0,e.h&&e.h.za(t),Qo(e),jo(e)}function Qo(e){if(e.H=0,e.ma=[],e.h){const t=io(e.i);0==t.length&&0==e.j.length||(Ii(e.ma,t),Ii(e.ma,e.j),e.i.i.length=0,Ci(e.j),e.j.length=0),e.h.ya()}}function $o(e,t,n){var r=n instanceof Ia?Aa(n):new Ia(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Ra(r,r.m);else{var i=gi.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Ia(null);r&&Da(s,r),t&&(s.g=t),i&&Ra(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Oa(r,n,t),Oa(r,"VER",e.ra),Fo(e,r),r}function Yo(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new vo(new uo({ob:!0})):new vo(e.va)).Oa(e.J),t}function Xo(){}function Jo(){if(Ui&&!(10<=Number($i)))throw Error("Environmental error: no available transport.")}function Zo(e,t){xs.call(this),this.g=new Ro(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Ri(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ri(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new nl(this)}function el(e){la.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function tl(){ca.call(this),this.status=1}function nl(e){this.g=e}function rl(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function il(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function sl(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(di=vo.prototype).Oa=function(e){this.M=e},di.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():aa.g(),this.C=this.u?ia(this.u):ia(aa),this.g.onreadystatechange=Ei(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void ko(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=gi.FormData&&e instanceof gi.FormData,!(0<=Ti(xo,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{No(this),0<this.B&&((this.L=function(e){return Ui&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ei(this.ua,this)):this.A=Ms(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){ko(this,s)}},di.ua=function(){"undefined"!=typeof mi&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ks(this,"timeout"),this.abort(8))},di.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,ks(this,"complete"),ks(this,"abort"),_o(this))},di.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_o(this,!0)),vo.$.N.call(this)},di.La=function(){this.s||(this.G||this.v||this.l?So(this):this.kb())},di.kb=function(){So(this)},di.isActive=function(){return!!this.g},di.da=function(){try{return 2<To(this)?this.g.status:-1}catch(so){return-1}},di.ja=function(){try{return this.g?this.g.responseText:""}catch(so){return""}},di.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),yo(t)}},di.Ia=function(){return this.m},di.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(di=Ro.prototype).ra=8,di.H=1,di.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new ha(this,this.l,e);let s=this.s;if(this.U&&(s?(s=rs(s),ss(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Uo(this,i,t),Oa(n=Aa(this.I),"RID",e),Oa(n,"CVER",22),this.F&&Oa(n,"X-HTTP-Session-Id",this.F),Fo(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Io(s)))+"&"+t:this.o&&Ao(n,this.o,s)),no(this.i,i),this.bb&&Oa(n,"TYPE","init"),this.P?(Oa(n,"$req",t),Oa(n,"SID","null"),i.aa=!0,ga(i,n,null)):ga(i,n,t),this.H=2}}else 3==this.H&&(e?Mo(this,e):0==this.j.length||Za(this.i)||Mo(this))},di.Ma=function(){if(this.u=null,qo(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=ea(Ei(this.jb,this),e)}},di.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Js(10),Oo(this),qo(this))},di.ib=function(){null!=this.v&&(this.v=null,Oo(this),Vo(this),Js(19))},di.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Js(2)):(this.l.info("Failed to ping google.com"),Js(1))},di.isActive=function(){return!!this.h&&this.h.isActive(this)},(di=Xo.prototype).Ba=function(){},di.Aa=function(){},di.za=function(){},di.ya=function(){},di.isActive=function(){return!0},di.Va=function(){},Jo.prototype.g=function(e,t){return new Zo(e,t)},_i(Zo,xs),Zo.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Js(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=$o(e,null,e.Y),Lo(e)},Zo.prototype.close=function(){Po(this.g)},Zo.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ss(e),e=n);t.j.push(new Ya(t.fb++,e)),3==t.H&&Lo(t)},Zo.prototype.N=function(){this.g.h=null,delete this.j,Po(this.g),delete this.g,Zo.$.N.call(this)},_i(el,la),_i(tl,ca),_i(nl,Xo),nl.prototype.Ba=function(){ks(this.g,"a")},nl.prototype.Aa=function(e){ks(this.g,new el(e))},nl.prototype.za=function(e){ks(this.g,new tl)},nl.prototype.ya=function(){ks(this.g,"b")},_i(rl,function(){this.blockSize=-1}),rl.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},rl.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)il(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){il(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){il(this,r),i=0;break}}this.h=i,this.i+=t},rl.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var al={};function ol(e){return-128<=e&&128>e?function(e,t){var n=al;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new sl([0|e],0>e?-1:0)}):new sl([0|e],0>e?-1:0)}function ll(e){if(isNaN(e)||!isFinite(e))return ul;if(0>e)return ml(ll(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=cl;return new sl(t,0)}var cl=4294967296,ul=ol(0),hl=ol(1),dl=ol(16777216);function fl(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function pl(e){return-1==e.h}function ml(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new sl(n,~e.h).add(hl)}function gl(e,t){return e.add(ml(t))}function yl(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function vl(e,t){this.g=e,this.h=t}function bl(e,t){if(fl(t))throw Error("division by zero");if(fl(e))return new vl(ul,ul);if(pl(e))return t=bl(ml(e),t),new vl(ml(t.g),ml(t.h));if(pl(t))return t=bl(e,ml(t)),new vl(ml(t.g),t.h);if(30<e.g.length){if(pl(e)||pl(t))throw Error("slowDivide_ only works with positive integers.");for(var n=hl,r=t;0>=r.X(e);)n=wl(n),r=wl(r);var i=xl(n,1),s=xl(r,1);for(r=xl(r,2),n=xl(n,2);!fl(r);){var a=s.add(r);0>=a.X(e)&&(i=i.add(n),s=a),r=xl(r,1),n=xl(n,1)}return t=gl(e,i.R(t)),new vl(i,t)}for(i=ul;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),a=(s=ll(n)).R(t);pl(a)||0<a.X(e);)a=(s=ll(n-=r)).R(t);fl(s)&&(s=hl),i=i.add(s),e=gl(e,a)}return new vl(i,e)}function wl(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new sl(n,e.h)}function xl(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new sl(i,e.h)}(di=sl.prototype).ea=function(){if(pl(this))return-ml(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:cl+r)*t,t*=cl}return e},di.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(fl(this))return"0";if(pl(this))return"-"+ml(this).toString(e);for(var t=ll(Math.pow(e,6)),n=this,r="";;){var i=bl(n,t).g,s=((0<(n=gl(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(fl(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},di.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},di.X=function(e){return pl(e=gl(this,e))?-1:fl(e)?0:1},di.abs=function(){return pl(this)?ml(this):this},di.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),a=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=a>>>16,s&=65535,a&=65535,n[i]=a<<16|s}return new sl(n,-2147483648&n[n.length-1]?-1:0)},di.R=function(e){if(fl(this)||fl(e))return ul;if(pl(this))return pl(e)?ml(this).R(ml(e)):ml(ml(this).R(e));if(pl(e))return ml(this.R(ml(e)));if(0>this.X(dl)&&0>e.X(dl))return ll(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,a=65535&this.D(r),o=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=a*l,yl(n,2*r+2*i),n[2*r+2*i+1]+=s*l,yl(n,2*r+2*i+1),n[2*r+2*i+1]+=a*o,yl(n,2*r+2*i+1),n[2*r+2*i+2]+=s*o,yl(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new sl(n,0)},di.gb=function(e){return bl(this,e).h},di.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new sl(n,this.h&e.h)},di.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new sl(n,this.h|e.h)},di.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new sl(n,this.h^e.h)},Jo.prototype.createWebChannel=Jo.prototype.g,Zo.prototype.send=Zo.prototype.u,Zo.prototype.open=Zo.prototype.m,Zo.prototype.close=Zo.prototype.close,ta.NO_ERROR=0,ta.TIMEOUT=8,ta.HTTP_ERROR=6,na.COMPLETE="complete",sa.EventType=oa,oa.OPEN="a",oa.CLOSE="b",oa.ERROR="c",oa.MESSAGE="d",xs.prototype.listen=xs.prototype.O,vo.prototype.listenOnce=vo.prototype.P,vo.prototype.getLastError=vo.prototype.Sa,vo.prototype.getLastErrorCode=vo.prototype.Ia,vo.prototype.getStatus=vo.prototype.da,vo.prototype.getResponseJson=vo.prototype.Wa,vo.prototype.getResponseText=vo.prototype.ja,vo.prototype.send=vo.prototype.ha,vo.prototype.setWithCredentials=vo.prototype.Oa,rl.prototype.digest=rl.prototype.l,rl.prototype.reset=rl.prototype.reset,rl.prototype.update=rl.prototype.j,sl.prototype.add=sl.prototype.add,sl.prototype.multiply=sl.prototype.R,sl.prototype.modulo=sl.prototype.gb,sl.prototype.compare=sl.prototype.X,sl.prototype.toNumber=sl.prototype.ea,sl.prototype.toString=sl.prototype.toString,sl.prototype.getBits=sl.prototype.D,sl.fromNumber=ll,sl.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return ml(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=ll(Math.pow(n,8)),i=ul,s=0;s<t.length;s+=8){var a=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+a),n);8>a?(a=ll(Math.pow(n,a)),i=i.R(a).add(ll(o))):i=(i=i.R(r)).add(ll(o))}return i};var kl=pi.createWebChannelTransport=function(){return new Jo},El=pi.getStatEventTarget=function(){return Qs()},Sl=pi.ErrorCode=ta,_l=pi.EventType=na,Nl=pi.Event=Ws,Tl=pi.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Cl=pi.FetchXmlHttpFactory=uo,Il=pi.WebChannel=sa,Al=pi.XhrIo=vo,Dl=pi.Md5=rl,Rl=pi.Integer=sl;const Pl="@firebase/firestore";class Ol{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ol.UNAUTHENTICATED=new Ol(null),Ol.GOOGLE_CREDENTIALS=new Ol("google-credentials-uid"),Ol.FIRST_PARTY=new Ol("first-party-uid"),Ol.MOCK_USER=new Ol("mock-user");let jl="9.23.0";const Ll=new V("@firebase/firestore");function Ml(){return Ll.logLevel}function Fl(e){if(Ll.logLevel<=L.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Vl);Ll.debug("Firestore (".concat(jl,"): ").concat(e),...i)}}function Ul(e){if(Ll.logLevel<=L.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Vl);Ll.error("Firestore (".concat(jl,"): ").concat(e),...i)}}function zl(e){if(Ll.logLevel<=L.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Vl);Ll.warn("Firestore (".concat(jl,"): ").concat(e),...i)}}function Vl(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Bl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(jl,") INTERNAL ASSERTION FAILED: ")+e;throw Ul(t),new Error(t)}function ql(e,t){e||Bl()}function Hl(e,t){return e}const Kl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Wl extends w{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Gl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ql{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class $l{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ol.UNAUTHENTICATED))}shutdown(){}}class Yl{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Xl{constructor(e){this.t=e,this.currentUser=Ol.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Gl;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Gl,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{Fl("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(Fl("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Gl)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Fl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(ql("string"==typeof t.accessToken),new Ql(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ql(null===e||"string"==typeof e),new Ol(e)}}class Jl{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Ol.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Zl{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Jl(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ol.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ec{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class tc{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Fl("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,Fl("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Fl("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):Fl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(ql("string"==typeof e.token),this.T=e.token,new ec(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function nc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class rc{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=nc(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function ic(e,t){return e<t?-1:e>t?1:0}function sc(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class ac{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Wl(Kl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Wl(Kl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Wl(Kl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Wl(Kl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ac.fromMillis(Date.now())}static fromDate(e){return ac.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new ac(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ic(this.nanoseconds,e.nanoseconds):ic(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class oc{constructor(e){this.timestamp=e}static fromTimestamp(e){return new oc(e)}static min(){return new oc(new ac(0,0))}static max(){return new oc(new ac(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class lc{constructor(e,t,n){void 0===t?t=0:t>e.length&&Bl(),void 0===n?n=e.length-t:n>e.length-t&&Bl(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===lc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof lc?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class cc extends lc{construct(e,t,n){return new cc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Wl(Kl.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new cc(e)}static emptyPath(){return new cc([])}}const uc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hc extends lc{construct(e,t,n){return new hc(e,t,n)}static isValidIdentifier(e){return uc.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hc.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hc(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Wl(Kl.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Wl(Kl.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Wl(Kl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Wl(Kl.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hc(t)}static emptyPath(){return new hc([])}}class dc{constructor(e){this.path=e}static fromPath(e){return new dc(cc.fromString(e))}static fromName(e){return new dc(cc.fromString(e).popFirst(5))}static empty(){return new dc(cc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new dc(new cc(e.slice()))}}class fc{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}fc.UNKNOWN_ID=-1;function pc(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=oc.fromTimestamp(1e9===r?new ac(n+1,0):new ac(n,r));return new gc(i,dc.empty(),t)}function mc(e){return new gc(e.readTime,e.key,-1)}class gc{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new gc(oc.min(),dc.empty(),-1)}static max(){return new gc(oc.max(),dc.empty(),-1)}}function yc(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=dc.comparator(e.documentKey,t.documentKey),0!==n?n:ic(e.largestBatchId,t.largestBatchId))}const vc="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function wc(e){if(e.code!==Kl.FAILED_PRECONDITION||e.message!==vc)throw e;Fl("LocalStore","Unexpectedly lost primary lease")}class xc{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Bl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new xc((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof xc?t:xc.resolve(t)}catch(e){return xc.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):xc.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):xc.reject(t)}static resolve(e){return new xc((t,n)=>{t(e)})}static reject(e){return new xc((t,n)=>{n(e)})}static waitFor(e){return new xc((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=xc.resolve(!1);for(const n of e)t=t.next(e=>e?xc.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new xc((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new xc((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function kc(e){return"IndexedDbTransactionError"===e.name}class Ec{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Sc(e){return null==e}function _c(e){return 0===e&&1/e==-1/0}function Nc(e){return"number"==typeof e&&Number.isInteger(e)&&!_c(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Ec.ct=-1;const Tc=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Cc=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ic=Cc;function Ac(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Dc(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Rc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Pc{constructor(e,t){this.comparator=e,this.root=t||jc.EMPTY}insert(e,t){return new Pc(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jc.BLACK,null,null))}remove(e){return new Pc(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jc.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jc{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:jc.RED,this.left=null!=r?r:jc.EMPTY,this.right=null!=i?i:jc.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new jc(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return jc.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return jc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jc.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Bl();if(this.right.isRed())throw Bl();const e=this.left.check();if(e!==this.right.check())throw Bl();return e+(this.isRed()?0:1)}}jc.EMPTY=null,jc.RED=!0,jc.BLACK=!1,jc.EMPTY=new class{constructor(){this.size=0}get key(){throw Bl()}get value(){throw Bl()}get color(){throw Bl()}get left(){throw Bl()}get right(){throw Bl()}copy(e,t,n,r,i){return this}insert(e,t,n){return new jc(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Lc{constructor(e){this.comparator=e,this.data=new Pc(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Mc(this.data.getIterator())}getIteratorFrom(e){return new Mc(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Lc))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Lc(this.comparator);return t.data=e,t}}class Mc{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fc{constructor(e){this.fields=e,e.sort(hc.comparator)}static empty(){return new Fc([])}unionWith(e){let t=new Lc(hc.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Fc(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sc(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Uc extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class zc{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Uc("Invalid base64 string: "+e):e}}(e);return new zc(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new zc(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ic(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zc.EMPTY_BYTE_STRING=new zc("");const Vc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Bc(e){if(ql(!!e),"string"==typeof e){let t=0;const n=Vc.exec(e);if(ql(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:qc(e.seconds),nanos:qc(e.nanos)}}function qc(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Hc(e){return"string"==typeof e?zc.fromBase64String(e):zc.fromUint8Array(e)}function Kc(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Wc(e){const t=e.mapValue.fields.__previous_value__;return Kc(t)?Wc(t):t}function Gc(e){const t=Bc(e.mapValue.fields.__local_write_time__.timestampValue);return new ac(t.seconds,t.nanos)}class Qc{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class $c{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new $c("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $c&&e.projectId===this.projectId&&e.database===this.database}}const Yc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Kc(e)?4:hu(e)?9007199254740991:10:Bl()}function Jc(e,t){if(e===t)return!0;const n=Xc(e);if(n!==Xc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Gc(e).isEqual(Gc(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Bc(e.timestampValue),r=Bc(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Hc(e.bytesValue).isEqual(Hc(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return qc(e.geoPointValue.latitude)===qc(t.geoPointValue.latitude)&&qc(e.geoPointValue.longitude)===qc(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return qc(e.integerValue)===qc(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=qc(e.doubleValue),r=qc(t.doubleValue);return n===r?_c(n)===_c(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return sc(e.arrayValue.values||[],t.arrayValue.values||[],Jc);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ac(n)!==Ac(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Jc(n[i],r[i])))return!1;return!0}(e,t);default:return Bl()}}function Zc(e,t){return void 0!==(e.values||[]).find(e=>Jc(e,t))}function eu(e,t){if(e===t)return 0;const n=Xc(e),r=Xc(t);if(n!==r)return ic(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ic(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=qc(e.integerValue||e.doubleValue),r=qc(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return tu(e.timestampValue,t.timestampValue);case 4:return tu(Gc(e),Gc(t));case 5:return ic(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Hc(e),r=Hc(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=ic(n[i],r[i]);if(0!==e)return e}return ic(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ic(qc(e.latitude),qc(t.latitude));return 0!==n?n:ic(qc(e.longitude),qc(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=eu(n[i],r[i]);if(e)return e}return ic(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Yc.mapValue&&t===Yc.mapValue)return 0;if(e===Yc.mapValue)return 1;if(t===Yc.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=ic(r[a],s[a]);if(0!==e)return e;const t=eu(n[r[a]],i[s[a]]);if(0!==t)return t}return ic(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Bl()}}function tu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ic(e,t);const n=Bc(e),r=Bc(t),i=ic(n.seconds,r.seconds);return 0!==i?i:ic(n.nanos,r.nanos)}function nu(e){return ru(e)}function ru(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Bc(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Hc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,dc.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=ru(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(ru(e.fields[i]));return n+"}"}(e.mapValue):Bl();var t,n}function iu(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function su(e){return!!e&&"integerValue"in e}function au(e){return!!e&&"arrayValue"in e}function ou(e){return!!e&&"nullValue"in e}function lu(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function cu(e){return!!e&&"mapValue"in e}function uu(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Dc(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=uu(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=uu(e.arrayValue.values[n]);return t}return Object.assign({},e)}function hu(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class du{constructor(e){this.value=e}static empty(){return new du({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!cu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uu(t)}setAll(e){let t=hc.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=uu(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());cu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];cu(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Dc(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new du(uu(this.value))}}function fu(e){const t=[];return Dc(e.fields,(e,n)=>{const r=new hc([e]);if(cu(n)){const e=fu(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Fc(t)}class pu{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new pu(e,0,oc.min(),oc.min(),oc.min(),du.empty(),0)}static newFoundDocument(e,t,n,r){return new pu(e,1,t,oc.min(),n,r,0)}static newNoDocument(e,t){return new pu(e,2,t,oc.min(),oc.min(),du.empty(),0)}static newUnknownDocument(e,t){return new pu(e,3,t,oc.min(),oc.min(),du.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(oc.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=du.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=du.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oc.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof pu&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pu(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class mu{constructor(e,t){this.position=e,this.inclusive=t}}function gu(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?dc.comparator(dc.fromName(a.referenceValue),n.key):eu(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function yu(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Jc(e.position[n],t.position[n]))return!1;return!0}class vu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function bu(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class wu{}class xu extends wu{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Iu(e,t,n):"array-contains"===t?new Pu(e,n):"in"===t?new Ou(e,n):"not-in"===t?new ju(e,n):"array-contains-any"===t?new Lu(e,n):new xu(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Au(e,n):new Du(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(eu(t,this.value)):null!==t&&Xc(this.value)===Xc(t)&&this.matchesComparison(eu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Bl()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ku extends wu{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new ku(e,t)}matches(e){return Eu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Eu(e){return"and"===e.op}function Su(e){return _u(e)&&Eu(e)}function _u(e){for(const t of e.filters)if(t instanceof ku)return!1;return!0}function Nu(e){if(e instanceof xu)return e.field.canonicalString()+e.op.toString()+nu(e.value);if(Su(e))return e.filters.map(e=>Nu(e)).join(",");{const t=e.filters.map(e=>Nu(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Tu(e,t){return e instanceof xu?function(e,t){return t instanceof xu&&e.op===t.op&&e.field.isEqual(t.field)&&Jc(e.value,t.value)}(e,t):e instanceof ku?function(e,t){return t instanceof ku&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Tu(n,t.filters[r]),!0)}(e,t):void Bl()}function Cu(e){return e instanceof xu?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(nu(e.value))}(e):e instanceof ku?function(e){return e.op.toString()+" {"+e.getFilters().map(Cu).join(" ,")+"}"}(e):"Filter"}class Iu extends xu{constructor(e,t,n){super(e,t,n),this.key=dc.fromName(n.referenceValue)}matches(e){const t=dc.comparator(e.key,this.key);return this.matchesComparison(t)}}class Au extends xu{constructor(e,t){super(e,"in",t),this.keys=Ru("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Du extends xu{constructor(e,t){super(e,"not-in",t),this.keys=Ru("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ru(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>dc.fromName(e.referenceValue))}class Pu extends xu{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return au(t)&&Zc(t.arrayValue,this.value)}}class Ou extends xu{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Zc(this.value.arrayValue,t)}}class ju extends xu{constructor(e,t){super(e,"not-in",t)}matches(e){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Zc(this.value.arrayValue,t)}}class Lu extends xu{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!au(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Zc(this.value.arrayValue,e))}}class Mu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.dt=null}}function Fu(e){return new Mu(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Uu(e){const t=Hl(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Nu(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Sc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>nu(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>nu(e)).join(",")),t.dt=e}return t.dt}function zu(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!bu(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Tu(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!yu(e.startAt,t.startAt)&&yu(e.endAt,t.endAt)}function Vu(e){return dc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Bu{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.wt=null,this._t=null,this.startAt,this.endAt}}function qu(e,t,n,r,i,s,a,o){return new Bu(e,t,n,r,i,s,a,o)}function Hu(e){return new Bu(e)}function Ku(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Wu(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Gu(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Qu(e){return null!==e.collectionGroup}function $u(e){const t=Hl(e);if(null===t.wt){t.wt=[];const e=Gu(t),n=Wu(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new vu(e)),t.wt.push(new vu(hc.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new vu(hc.keyField(),e))}}}return t.wt}function Yu(e){const t=Hl(e);if(!t._t)if("F"===t.limitType)t._t=Fu(t.path,t.collectionGroup,$u(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of $u(t)){const t="desc"===i.dir?"asc":"desc";e.push(new vu(i.field,t))}const n=t.endAt?new mu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mu(t.startAt.position,t.startAt.inclusive):null;t._t=Fu(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Xu(e,t){t.getFirstInequalityField(),Gu(e);const n=e.filters.concat([t]);return new Bu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ju(e,t,n){return new Bu(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Zu(e,t){return zu(Yu(e),Yu(t))&&e.limitType===t.limitType}function eh(e){return"".concat(Uu(Yu(e)),"|lt:").concat(e.limitType)}function th(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Cu(e)).join(", "),"]")),Sc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>nu(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>nu(e)).join(",")),"Target(".concat(t,")")}(Yu(e)),"; limitType=").concat(e.limitType,")")}function nh(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):dc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of $u(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=gu(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,$u(e),t))&&!(e.endAt&&!function(e,t,n){const r=gu(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,$u(e),t))}(e,t)}function rh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ih(e){return(t,n)=>{let r=!1;for(const i of $u(e)){const e=sh(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function sh(e,t,n){const r=e.field.isKeyField()?dc.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?eu(r,i):Bl()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Bl()}}class ah{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Dc(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Rc(this.inner)}size(){return this.innerSize}}const oh=new Pc(dc.comparator);function lh(){return oh}const ch=new Pc(dc.comparator);function uh(){let e=ch;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function hh(e){let t=ch;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function dh(){return ph()}function fh(){return ph()}function ph(){return new ah(e=>e.toString(),(e,t)=>e.isEqual(t))}const mh=new Pc(dc.comparator),gh=new Lc(dc.comparator);function yh(){let e=gh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const vh=new Lc(ic);function bh(){return vh}function wh(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(t)?"-0":t}}function xh(e){return{integerValue:""+e}}function kh(e,t){return Nc(t)?xh(t):wh(e,t)}class Eh{constructor(){this._=void 0}}function Sh(e,t,n){return e instanceof Th?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Kc(t)&&(t=Wc(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Ch?Ih(e,t):e instanceof Ah?Dh(e,t):function(e,t){const n=Nh(e,t),r=Ph(n)+Ph(e.gt);return su(n)&&su(e.gt)?xh(r):wh(e.serializer,r)}(e,t)}function _h(e,t,n){return e instanceof Ch?Ih(e,t):e instanceof Ah?Dh(e,t):n}function Nh(e,t){return e instanceof Rh?su(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Th extends Eh{}class Ch extends Eh{constructor(e){super(),this.elements=e}}function Ih(e,t){const n=Oh(t);for(const r of e.elements)n.some(e=>Jc(e,r))||n.push(r);return{arrayValue:{values:n}}}class Ah extends Eh{constructor(e){super(),this.elements=e}}function Dh(e,t){let n=Oh(t);for(const r of e.elements)n=n.filter(e=>!Jc(e,r));return{arrayValue:{values:n}}}class Rh extends Eh{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Ph(e){return qc(e.integerValue||e.doubleValue)}function Oh(e){return au(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class jh{constructor(e,t){this.field=e,this.transform=t}}class Lh{constructor(e,t){this.version=e,this.transformResults=t}}class Mh{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Mh}static exists(e){return new Mh(void 0,e)}static updateTime(e){return new Mh(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Uh{}function zh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Yh(e.key,Mh.none()):new Kh(e.key,e.data,Mh.none());{const n=e.data,r=du.empty();let i=new Lc(hc.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Wh(e.key,r,new Fc(i.toArray()),Mh.none())}}function Vh(e,t,n){e instanceof Kh?function(e,t,n){const r=e.value.clone(),i=Qh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Wh?function(e,t,n){if(!Fh(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Qh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Gh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Bh(e,t,n,r){return e instanceof Kh?function(e,t,n,r){if(!Fh(e.precondition,t))return n;const i=e.value.clone(),s=$h(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Wh?function(e,t,n,r){if(!Fh(e.precondition,t))return n;const i=$h(e.fieldTransforms,r,t),s=t.data;return s.setAll(Gh(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Fh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function qh(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Nh(r.transform,e||null);null!=i&&(null===n&&(n=du.empty()),n.set(r.field,i))}return n||null}function Hh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&sc(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ch&&t instanceof Ch||e instanceof Ah&&t instanceof Ah?sc(e.elements,t.elements,Jc):e instanceof Rh&&t instanceof Rh?Jc(e.gt,t.gt):e instanceof Th&&t instanceof Th}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Kh extends Uh{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Wh extends Uh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Gh(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Qh(e,t,n){const r=new Map;ql(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,_h(a,o,n[i]))}return r}function $h(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Sh(e,s,t))}return r}class Yh extends Uh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xh extends Uh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Jh{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Vh(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Bh(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Bh(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=fh();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=zh(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(oc.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),yh())}isEqual(e){return this.batchId===e.batchId&&sc(this.mutations,e.mutations,(e,t)=>Hh(e,t))&&sc(this.baseMutations,e.baseMutations,(e,t)=>Hh(e,t))}}class Zh{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){ql(e.mutations.length===n.length);let r=mh;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Zh(e,t,n,r)}}class ed{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class td{constructor(e,t){this.count=e,this.unchangedNames=t}}var nd,rd;function id(e){switch(e){default:return Bl();case Kl.CANCELLED:case Kl.UNKNOWN:case Kl.DEADLINE_EXCEEDED:case Kl.RESOURCE_EXHAUSTED:case Kl.INTERNAL:case Kl.UNAVAILABLE:case Kl.UNAUTHENTICATED:return!1;case Kl.INVALID_ARGUMENT:case Kl.NOT_FOUND:case Kl.ALREADY_EXISTS:case Kl.PERMISSION_DENIED:case Kl.FAILED_PRECONDITION:case Kl.ABORTED:case Kl.OUT_OF_RANGE:case Kl.UNIMPLEMENTED:case Kl.DATA_LOSS:return!0}}function sd(e){if(void 0===e)return Ul("GRPC error has no .code"),Kl.UNKNOWN;switch(e){case nd.OK:return Kl.OK;case nd.CANCELLED:return Kl.CANCELLED;case nd.UNKNOWN:return Kl.UNKNOWN;case nd.DEADLINE_EXCEEDED:return Kl.DEADLINE_EXCEEDED;case nd.RESOURCE_EXHAUSTED:return Kl.RESOURCE_EXHAUSTED;case nd.INTERNAL:return Kl.INTERNAL;case nd.UNAVAILABLE:return Kl.UNAVAILABLE;case nd.UNAUTHENTICATED:return Kl.UNAUTHENTICATED;case nd.INVALID_ARGUMENT:return Kl.INVALID_ARGUMENT;case nd.NOT_FOUND:return Kl.NOT_FOUND;case nd.ALREADY_EXISTS:return Kl.ALREADY_EXISTS;case nd.PERMISSION_DENIED:return Kl.PERMISSION_DENIED;case nd.FAILED_PRECONDITION:return Kl.FAILED_PRECONDITION;case nd.ABORTED:return Kl.ABORTED;case nd.OUT_OF_RANGE:return Kl.OUT_OF_RANGE;case nd.UNIMPLEMENTED:return Kl.UNIMPLEMENTED;case nd.DATA_LOSS:return Kl.DATA_LOSS;default:return Bl()}}(rd=nd||(nd={}))[rd.OK=0]="OK",rd[rd.CANCELLED=1]="CANCELLED",rd[rd.UNKNOWN=2]="UNKNOWN",rd[rd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rd[rd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rd[rd.NOT_FOUND=5]="NOT_FOUND",rd[rd.ALREADY_EXISTS=6]="ALREADY_EXISTS",rd[rd.PERMISSION_DENIED=7]="PERMISSION_DENIED",rd[rd.UNAUTHENTICATED=16]="UNAUTHENTICATED",rd[rd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rd[rd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rd[rd.ABORTED=10]="ABORTED",rd[rd.OUT_OF_RANGE=11]="OUT_OF_RANGE",rd[rd.UNIMPLEMENTED=12]="UNIMPLEMENTED",rd[rd.INTERNAL=13]="INTERNAL",rd[rd.UNAVAILABLE=14]="UNAVAILABLE",rd[rd.DATA_LOSS=15]="DATA_LOSS";class ad{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return od}static getOrCreateInstance(){return null===od&&(od=new ad),od}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let od=null;function ld(){return new TextEncoder}const cd=new Rl([4294967295,4294967295],0);function ud(e){const t=ld().encode(e),n=new Dl;return n.update(t),new Uint8Array(n.digest())}function hd(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Rl([n,r],0),new Rl([i,s],0)]}class dd{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new fd("Invalid padding: ".concat(t));if(n<0)throw new fd("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new fd("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new fd("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=Rl.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(Rl.fromNumber(n)));return 1===r.compare(cd)&&(r=new Rl([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=ud(e),[n,r]=hd(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new dd(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.It)return;const t=ud(e),[n,r]=hd(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class fd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pd{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,md.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new pd(oc.min(),r,new Pc(ic),lh(),yh())}}class md{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new md(n,t,yh(),yh(),yh())}}class gd{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class yd{constructor(e,t){this.targetId=e,this.Vt=t}}class vd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:zc.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class bd{constructor(){this.St=0,this.Dt=kd(),this.Ct=zc.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=yh(),t=yh(),n=yh();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Bl()}}),new md(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=kd()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class wd{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=lh(),this.zt=xd(),this.Wt=new Pc(ic)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Bl()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(Vu(s))if(0===r){const e=new dc(s.path);this.Yt(n,e,pu.newNoDocument(e,oc.min()))}else ql(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=ad.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,a,o,l;const c={localCacheCount:t,existenceFilterCount:n.count},u=n.unchangedNames;return u&&(c.bloomFilter={applied:0===e,hashCount:null!==(r=null==u?void 0:u.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(a=null===(s=null===(i=null==u?void 0:u.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==a?a:0,padding:null!==(l=null===(o=null==u?void 0:u.bits)||void 0===o?void 0:o.padding)&&void 0!==l?l:0}),c}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=n;let o,l;try{o=Hc(i).toUint8Array()}catch(e){if(e instanceof Uc)return zl("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new dd(o,s,a)}catch(e){return zl(e instanceof fd?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const i=this.Gt.ue(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(s)||(this.Yt(e,n,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((n,r)=>{const i=this.se(r);if(i){if(n.current&&Vu(i.target)){const t=new dc(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,pu.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=yh();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));const r=new pd(e,t,this.Wt,this.jt,n);return this.jt=lh(),this.zt=xd(),this.Wt=new Pc(ic),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new bd,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Lc(ic),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Fl("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new bd),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function xd(){return new Pc(dc.comparator)}function kd(){return new Pc(dc.comparator)}const Ed={asc:"ASCENDING",desc:"DESCENDING"},Sd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_d={and:"AND",or:"OR"};class Nd{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Td(e,t){return e.useProto3Json||Sc(t)?t:{value:t}}function Cd(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Id(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ad(e,t){return Cd(e,t.toTimestamp())}function Dd(e){return ql(!!e),oc.fromTimestamp(function(e){const t=Bc(e);return new ac(t.seconds,t.nanos)}(e))}function Rd(e,t){return function(e){return new cc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Pd(e){const t=cc.fromString(e);return ql(Zd(t)),t}function Od(e,t){return Rd(e.databaseId,t.path)}function jd(e,t){const n=Pd(t);if(n.get(1)!==e.databaseId.projectId)throw new Wl(Kl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Wl(Kl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new dc(Ud(n))}function Ld(e,t){return Rd(e.databaseId,t)}function Md(e){const t=Pd(e);return 4===t.length?cc.emptyPath():Ud(t)}function Fd(e){return new cc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ud(e){return ql(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function zd(e,t,n){return{name:Od(e,t),fields:n.value.mapValue.fields}}function Vd(e,t){let n;if(t instanceof Kh)n={update:zd(e,t.key,t.value)};else if(t instanceof Yh)n={delete:Od(e,t.key)};else if(t instanceof Wh)n={update:zd(e,t.key,t.data),updateMask:Jd(t.fieldMask)};else{if(!(t instanceof Xh))return Bl();n={verify:Od(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Th)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ch)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ah)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Rh)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Bl()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ad(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Bl()}(e,t.precondition)),n}function Bd(e,t){return{documents:[Ld(e,t.path)]}}function qd(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ld(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ld(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Xd(ku.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:$d(e.field),direction:Wd(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Td(e,t.limit);var o;return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Hd(e){let t=Md(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ql(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Kd(e);return t instanceof ku&&Su(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>function(e){return new vu(Yd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Sc(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new mu(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new mu(n,t)}(n.endAt)),qu(t,i,a,s,o,"F",l,c)}function Kd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Yd(e.unaryFilter.field);return xu.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Yd(e.unaryFilter.field);return xu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Yd(e.unaryFilter.field);return xu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Yd(e.unaryFilter.field);return xu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Bl()}}(e):void 0!==e.fieldFilter?function(e){return xu.create(Yd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Bl()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return ku.create(e.compositeFilter.filters.map(e=>Kd(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Bl()}}(e.compositeFilter.op))}(e):Bl()}function Wd(e){return Ed[e]}function Gd(e){return Sd[e]}function Qd(e){return _d[e]}function $d(e){return{fieldPath:e.canonicalString()}}function Yd(e){return hc.fromServerFormat(e.fieldPath)}function Xd(e){return e instanceof xu?function(e){if("=="===e.op){if(lu(e.value))return{unaryFilter:{field:$d(e.field),op:"IS_NAN"}};if(ou(e.value))return{unaryFilter:{field:$d(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(lu(e.value))return{unaryFilter:{field:$d(e.field),op:"IS_NOT_NAN"}};if(ou(e.value))return{unaryFilter:{field:$d(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$d(e.field),op:Gd(e.op),value:e.value}}}(e):e instanceof ku?function(e){const t=e.getFilters().map(e=>Xd(e));return 1===t.length?t[0]:{compositeFilter:{op:Qd(e.op),filters:t}}}(e):Bl()}function Jd(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Zd(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ef{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:oc.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:oc.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:zc.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new ef(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ef(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ef(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ef(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tf{constructor(e){this.fe=e}}function nf(e){const t=Hd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ju(t,t.limit,"L"):t}class rf{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(qc(e.integerValue));else if("doubleValue"in e){const n=qc(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),_c(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Hc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?hu(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Bl()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),dc.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}rf.Ve=new rf;class sf{constructor(){this.rn=new af}addToCollectionParentIndex(e,t){return this.rn.add(t),xc.resolve()}getCollectionParents(e,t){return xc.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return xc.resolve()}deleteFieldIndex(e,t){return xc.resolve()}getDocumentsMatchingTarget(e,t){return xc.resolve(null)}getIndexType(e,t){return xc.resolve(0)}getFieldIndexes(e,t){return xc.resolve([])}getNextCollectionGroupToUpdate(e){return xc.resolve(null)}getMinOffset(e,t){return xc.resolve(gc.min())}getMinOffsetFromCollectionGroup(e,t){return xc.resolve(gc.min())}updateCollectionGroup(e,t,n){return xc.resolve()}updateIndexEntries(e,t){return xc.resolve()}}class af{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Lc(cc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Lc(cc.comparator)).toArray()}}new Uint8Array(0);class of{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new of(e,of.DEFAULT_COLLECTION_PERCENTILE,of.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}of.DEFAULT_COLLECTION_PERCENTILE=10,of.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,of.DEFAULT=new of(41943040,of.DEFAULT_COLLECTION_PERCENTILE,of.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),of.DISABLED=new of(-1,0,0);class lf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new lf(0)}static Mn(){return new lf(-1)}}class cf{constructor(){this.changes=new ah(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pu.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?xc.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uf{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class hf{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Bh(n.mutation,e,Fc.empty(),ac.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,yh()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yh();const r=dh();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=uh();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=dh();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,yh()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=lh();const s=ph(),a=ph();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Wh)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Bh(a.mutation,t,a.mutation.getFieldMask(),ac.now())):s.set(t.key,Fc.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new uf(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=ph();let r=new Pc((e,t)=>e-t),i=yh();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Fc.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||yh()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=fh();l.forEach(e=>{if(!i.has(e)){const r=zh(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return xc.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return dc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Qu(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):xc.resolve(dh());let a=-1,o=i;return s.next(t=>xc.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?xc.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,yh())).next(e=>({batchId:a,changes:hh(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new dc(t)).next(e=>{let t=uh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=uh();return this.indexManager.getCollectionParents(e,r).next(s=>xc.forEach(s,s=>{const a=function(e,t){return new Bu(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,a,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,pu.newInvalidDocument(r)))});let n=uh();return e.forEach((e,i)=>{const s=r.get(e);void 0!==s&&Bh(s.mutation,i,Fc.empty(),ac.now()),nh(t,i)&&(n=n.insert(e,i))}),n})}}class df{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return xc.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Dd(n.createTime)}),xc.resolve()}getNamedQuery(e,t){return xc.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:nf(e.bundledQuery),readTime:Dd(e.readTime)}}(t)),xc.resolve()}}class ff{constructor(){this.overlays=new Pc(dc.comparator),this.ls=new Map}getOverlay(e,t){return xc.resolve(this.overlays.get(t))}getOverlays(e,t){const n=dh();return xc.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),xc.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),xc.resolve()}getOverlaysForCollection(e,t,n){const r=dh(),i=t.length+1,s=new dc(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return xc.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Pc((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=dh(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=dh(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return xc.resolve(a)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ed(t,n));let i=this.ls.get(t);void 0===i&&(i=yh(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class pf{constructor(){this.fs=new Lc(mf.ds),this.ws=new Lc(mf._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new mf(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new mf(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){const t=new dc(new cc([])),n=new mf(t,e),r=new mf(t,e+1),i=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),i.push(e.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new dc(new cc([])),n=new mf(t,e),r=new mf(t,e+1);let i=yh();return this.ws.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new mf(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class mf{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return dc.comparator(e.key,t.key)||ic(e.As,t.As)}static _s(e,t){return ic(e.As,t.As)||dc.comparator(e.key,t.key)}}class gf{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Lc(mf.ds)}checkEmpty(e){return xc.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Jh(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.Rs=this.Rs.add(new mf(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return xc.resolve(s)}lookupMutationBatch(e,t){return xc.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return xc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return xc.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return xc.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new mf(t,0),r=new mf(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],e=>{const t=this.Ps(e.As);i.push(t)}),xc.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Lc(ic);return t.forEach(e=>{const t=new mf(e,0),r=new mf(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),xc.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;dc.isDocumentKey(i)||(i=i.child(""));const s=new mf(new dc(i),0);let a=new Lc(ic);return this.Rs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.As)),!0)},s),xc.resolve(this.Vs(a))}Vs(e){const t=[];return e.forEach(e=>{const n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){ql(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return xc.forEach(t.mutations,r=>{const i=new mf(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new mf(t,0),r=this.Rs.firstAfterOrEqual(n);return xc.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,xc.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class yf{constructor(e){this.Ds=e,this.docs=new Pc(dc.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return xc.resolve(n?n.document.mutableCopy():pu.newInvalidDocument(t))}getEntries(e,t){let n=lh();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():pu.newInvalidDocument(e))}),xc.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=lh();const s=t.path,a=new dc(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||yc(mc(a),n)<=0||(r.has(a.key)||nh(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return xc.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Bl()}Cs(e,t){return xc.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new vf(this)}getSize(e){return xc.resolve(this.size)}}class vf extends cf{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),xc.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class bf{constructor(e){this.persistence=e,this.xs=new ah(e=>Uu(e),zu),this.lastRemoteSnapshotVersion=oc.min(),this.highestTargetId=0,this.Ns=0,this.ks=new pf,this.targetCount=0,this.Ms=lf.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),xc.resolve()}getLastRemoteSnapshotVersion(e){return xc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xc.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),xc.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),xc.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new lf(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,xc.resolve()}updateTargetData(e,t){return this.Fn(t),xc.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,xc.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),xc.waitFor(i).next(()=>r)}getTargetCount(e){return xc.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return xc.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),xc.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),xc.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),xc.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return xc.resolve(n)}containsKey(e,t){return xc.resolve(this.ks.containsKey(t))}}class wf{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ec(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new bf(this),this.indexManager=new sf,this.remoteDocumentCache=function(e){return new yf(e)}(e=>this.referenceDelegate.Ls(e)),this.serializer=new tf(t),this.qs=new df(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ff,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new gf(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Fl("MemoryPersistence","Starting transaction:",e);const r=new xf(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return xc.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class xf extends bc{constructor(e){super(),this.currentSequenceNumber=e}}class kf{constructor(e){this.persistence=e,this.Qs=new pf,this.js=null}static zs(e){return new kf(e)}get Ws(){if(this.js)return this.js;throw Bl()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),xc.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),xc.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),xc.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xc.forEach(this.Ws,n=>{const r=dc.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,oc.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return xc.or([()=>xc.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class Ef{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=yh(),r=yh();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ef(e,t.fromCache,n,r)}}class Sf{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(i=>i||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if(Ku(t))return xc.resolve(null);let n=Yu(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Ju(t,null,"F"),n=Yu(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=yh(...r);return this.Ui.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,Ju(t,null,"F")):this.Wi(e,s,t,n)}))})))}Gi(e,t,n,r){return Ku(t)||r.isEqual(oc.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(Ml()<=L.DEBUG&&Fl("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),th(t)),this.Wi(e,s,t,pc(r,-1)))})}ji(e,t){let n=new Lc(ih(e));return t.forEach((t,r)=>{nh(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return Ml()<=L.DEBUG&&Fl("QueryEngine","Using full collection scan to execute query:",th(t)),this.Ui.getDocumentsMatchingQuery(e,t,gc.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class _f{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new Pc(ic),this.Yi=new ah(e=>Uu(e),zu),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hf(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Nf(e,t,n,r){return new _f(e,t,n,r)}async function Tf(e,t){const n=Hl(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=yh();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({er:e,removedBatchIds:i,addedBatchIds:s}))})})}function Cf(e){const t=Hl(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function If(e,t,n){let r=yh(),i=yh();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=lh();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(oc.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Fl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{nr:r,sr:i}})}function Af(e,t){const n=Hl(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Df(e,t){const n=Hl(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Bs.getTargetData(e,t).next(i=>i?(r=i,xc.resolve(r)):n.Bs.allocateTargetId(e).next(i=>(r=new ef(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e})}async function Rf(e,t,n){const r=Hl(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!kc(e))throw e;Fl("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function Pf(e,t,n){const r=Hl(e);let i=oc.min(),s=yh();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Hl(e),i=r.Yi.get(n);return void 0!==i?xc.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Yu(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:oc.min(),n?s:yh())).next(e=>(Of(r,rh(t),e),{documents:e,ir:s})))}function Of(e,t,n){let r=e.Xi.get(t)||oc.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Xi.set(t,r)}class jf{constructor(){this.activeTargetIds=bh()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lf{constructor(){this.Hr=new jf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new jf,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Mf{Yr(e){}shutdown(){}}class Ff{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Fl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Fl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Uf=null;function zf(){return null===Uf?Uf=268435456+Math.round(2147483648*Math.random()):Uf++,"0x"+Uf.toString(16)}const Vf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Bf{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const qf="WebChannelConnection";class Hf extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=zf(),a=this.To(e,t);Fl("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={};return this.Eo(o,r,i),this.Ao(e,a,o,n).then(t=>(Fl("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw zl("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+jl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){const n=Vf[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=zf();return new Promise((s,a)=>{const o=new Al;o.setWithCredentials(!0),o.listenOnce(_l.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Sl.NO_ERROR:const t=o.getResponseJson();Fl(qf,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Sl.TIMEOUT:Fl(qf,"RPC '".concat(e,"' ").concat(i," timed out")),a(new Wl(Kl.DEADLINE_EXCEEDED,"Request time out"));break;case Sl.HTTP_ERROR:const n=o.getStatus();if(Fl(qf,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Kl).indexOf(t)>=0?t:Kl.UNKNOWN}(t.status);a(new Wl(e,t.message))}else a(new Wl(Kl.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Wl(Kl.UNAVAILABLE,"Connection failed."));break;default:Bl()}}finally{Fl(qf,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);Fl(qf,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)})}Ro(e,t,n){const r=zf(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=kl(),a=El(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.xmlHttpFactory=new Cl({})),this.Eo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");Fl(qf,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let h=!1,d=!1;const f=new Bf({ro:t=>{d?Fl(qf,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Fl(qf,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Fl(qf,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},oo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,Il.EventType.OPEN,()=>{d||Fl(qf,"RPC '".concat(e,"' stream ").concat(r," transport opened."))}),p(u,Il.EventType.CLOSE,()=>{d||(d=!0,Fl(qf,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.wo())}),p(u,Il.EventType.ERROR,t=>{d||(d=!0,zl(qf,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.wo(new Wl(Kl.UNAVAILABLE,"The operation could not be completed")))}),p(u,Il.EventType.MESSAGE,t=>{var n;if(!d){const i=t.data[0];ql(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){Fl(qf,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=nd[e];if(void 0!==t)return sd(t)}(t),i=a.message;void 0===n&&(n=Kl.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,f.wo(new Wl(n,i)),u.close()}else Fl(qf,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f._o(i)}}),p(a,Nl.STAT_EVENT,t=>{t.stat===Tl.PROXY?Fl(qf,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Tl.NOPROXY&&Fl(qf,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.fo()},0),f}}function Kf(){return"undefined"!=typeof document?document:null}function Wf(e){return new Nd(e,!0)}class Gf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Fl("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Qf{constructor(e,t,n,r,i,s,a,o){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Gf(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Kl.RESOURCE_EXHAUSTED?(Ul(t.toString()),Ul("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Kl.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)},t=>{e(()=>{const e=new Wl(Kl.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Fl("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Fl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $f extends Qf{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Bl()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(ql(void 0===t||"string"==typeof t),zc.fromBase64String(t||"")):(ql(void 0===t||t instanceof Uint8Array),zc.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Kl.UNKNOWN:sd(e.code);return new Wl(t,e.message||"")}(a);n=new vd(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=jd(e,r.document.name),s=Dd(r.document.updateTime),a=r.document.createTime?Dd(r.document.createTime):oc.min(),o=new du({mapValue:{fields:r.document.fields}}),l=pu.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new gd(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=jd(e,r.document),s=r.readTime?Dd(r.readTime):oc.min(),a=pu.newNoDocument(i,s),o=r.removedTargetIds||[];n=new gd([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=jd(e,r.document),s=r.removedTargetIds||[];n=new gd([],s,i,null)}else{if(!("filter"in t))return Bl();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new td(r,i),a=e.targetId;n=new yd(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return oc.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?oc.min():t.readTime?Dd(t.readTime):oc.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Fd(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Vu(r)?{documents:Bd(e,r)}:{query:qd(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Id(e,t.resumeToken);const r=Td(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(oc.min())>0){n.readTime=Cd(e,t.snapshotVersion.toTimestamp());const r=Td(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Bl()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Fd(this.serializer),t.removeTarget=e,this.Wo(t)}}class Yf extends Qf{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(ql(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(ql(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?Dd(e.updateTime):Dd(t);return n.isEqual(oc.min())&&(n=Dd(t)),new Lh(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Dd(e.commitTime);return this.listener.cu(n,t)}return ql(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Fd(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Vd(this.serializer,e))};this.Wo(t)}}class Xf extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Wl(Kl.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Kl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Wl(Kl.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.vo(e,t,n,s,a,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Kl.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Wl(Kl.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class Jf{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Ul(t),this.mu=!1):Fl("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class Zf{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{lp(this)&&(Fl("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Hl(e);t.vu.add(4),await tp(t),t.bu.set("Unknown"),t.vu.delete(4),await ep(t)}(this))})}),this.bu=new Jf(n,r)}}async function ep(e){if(lp(e))for(const t of e.Ru)await t(!0)}async function tp(e){for(const t of e.Ru)await t(!1)}function np(e,t){const n=Hl(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),op(n)?ap(n):Np(n).Ko()&&ip(n,t))}function rp(e,t){const n=Hl(e),r=Np(n);n.Au.delete(t),r.Ko()&&sp(n,t),0===n.Au.size&&(r.Ko()?r.jo():lp(n)&&n.bu.set("Unknown"))}function ip(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(oc.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Np(e).su(t)}function sp(e,t){e.Vu.qt(t),Np(e).iu(t)}function ap(e){e.Vu=new wd({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),Np(e).start(),e.bu.gu()}function op(e){return lp(e)&&!Np(e).Uo()&&e.Au.size>0}function lp(e){return 0===Hl(e).vu.size}function cp(e){e.Vu=void 0}async function up(e){e.Au.forEach((t,n)=>{ip(e,t)})}async function hp(e,t){cp(e),op(e)?(e.bu.Iu(t),ap(e)):e.bu.set("Unknown")}async function dp(e,t,n){if(e.bu.set("Online"),t instanceof vd&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){Fl("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await fp(e,n)}else if(t instanceof gd?e.Vu.Ht(t):t instanceof yd?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(oc.min()))try{const t=await Cf(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(zc.EMPTY_BYTE_STRING,r.snapshotVersion)),sp(e,t);const i=new ef(r.target,t,n,r.sequenceNumber);ip(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Fl("RemoteStore","Failed to raise snapshot:",t),await fp(e,t)}}async function fp(e,t,n){if(!kc(t))throw t;e.vu.add(1),await tp(e),e.bu.set("Offline"),n||(n=()=>Cf(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Fl("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await ep(e)})}function pp(e,t){return t().catch(n=>fp(e,n,t))}async function mp(e){const t=Hl(e),n=Tp(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;gp(t);)try{const e=await Af(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,yp(t,e)}catch(e){await fp(t,e)}vp(t)&&bp(t)}function gp(e){return lp(e)&&e.Eu.length<10}function yp(e,t){e.Eu.push(t);const n=Tp(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function vp(e){return lp(e)&&!Tp(e).Uo()&&e.Eu.length>0}function bp(e){Tp(e).start()}async function wp(e){Tp(e).hu()}async function xp(e){const t=Tp(e);for(const n of e.Eu)t.uu(n.mutations)}async function kp(e,t,n){const r=e.Eu.shift(),i=Zh.from(r,t,n);await pp(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await mp(e)}async function Ep(e,t){t&&Tp(e).ou&&await async function(e,t){if(id(n=t.code)&&n!==Kl.ABORTED){const n=e.Eu.shift();Tp(e).Qo(),await pp(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await mp(e)}var n}(e,t),vp(e)&&bp(e)}async function Sp(e,t){const n=Hl(e);n.asyncQueue.verifyOperationInProgress(),Fl("RemoteStore","RemoteStore received new credentials");const r=lp(n);n.vu.add(3),await tp(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await ep(n)}async function _p(e,t){const n=Hl(e);t?(n.vu.delete(2),await ep(n)):t||(n.vu.add(2),await tp(n),n.bu.set("Unknown"))}function Np(e){return e.Su||(e.Su=function(e,t,n){const r=Hl(e);return r.fu(),new $f(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:up.bind(null,e),ao:hp.bind(null,e),nu:dp.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),op(e)?ap(e):e.bu.set("Unknown")):(await e.Su.stop(),cp(e))})),e.Su}function Tp(e){return e.Du||(e.Du=function(e,t,n){const r=Hl(e);return r.fu(),new Yf(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:wp.bind(null,e),ao:Ep.bind(null,e),au:xp.bind(null,e),cu:kp.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await mp(e)):(await e.Du.stop(),e.Eu.length>0&&(Fl("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))})),e.Du}class Cp{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Gl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Cp(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Wl(Kl.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ip(e,t){if(Ul("AsyncQueue","".concat(t,": ").concat(e)),kc(e))return new Wl(Kl.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Ap{constructor(e){this.comparator=e?(t,n)=>e(t,n)||dc.comparator(t.key,n.key):(e,t)=>dc.comparator(e.key,t.key),this.keyedMap=uh(),this.sortedSet=new Pc(this.comparator)}static emptySet(e){return new Ap(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ap))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Ap;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Dp{constructor(){this.Cu=new Pc(dc.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Bl():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class Rp{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Rp(e,t,Ap.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Pp{constructor(){this.Nu=void 0,this.listeners=[]}}class Op{constructor(){this.queries=new ah(e=>eh(e),Zu),this.onlineState="Unknown",this.ku=new Set}}async function jp(e,t){const n=Hl(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Pp),i)try{s.Nu=await n.onListen(r)}catch(e){const n=Ip(e,"Initialization of query '".concat(th(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&Up(n)}async function Lp(e,t){const n=Hl(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Mp(e,t){const n=Hl(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&Up(n)}function Fp(e,t,n){const r=Hl(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Up(e){e.ku.forEach(e=>{e.next()})}class zp{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Rp(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=Rp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Vp{constructor(e){this.key=e}}class Bp{constructor(e){this.key=e}}class qp{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=yh(),this.mutatedKeys=yh(),this.tc=ih(e),this.ec=new Ap(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new Dp,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=nh(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.rc(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.tc(u,o)>0||l&&this.tc(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:a,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Bl()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);const s=t?this.uc():[],a=0===this.Zu.size&&this.current?1:0,o=a!==this.Xu;return this.Xu=a,0!==i.length||o?{snapshot:new Rp(this.query,e.ec,r,i,e.mutatedKeys,0===a,o,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Dp,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=yh(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});const t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new Bp(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new Vp(n))}),t}hc(e){this.Yu=e.ir,this.Zu=yh();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Rp.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Hp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Kp{constructor(e){this.key=e,this.fc=!1}}class Wp{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new ah(e=>eh(e),Zu),this._c=new Map,this.mc=new Set,this.gc=new Pc(dc.comparator),this.yc=new Map,this.Ic=new pf,this.Tc={},this.Ec=new Map,this.Ac=lf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function Gp(e,t){const n=hm(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await Df(n.localStore,Yu(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Qp(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&np(n.remoteStore,e)}return i}async function Qp(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await Pf(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.sc(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s);return sm(e,t.targetId,a.cc),a.snapshot}(e,t,n,r);const s=await Pf(e.localStore,t,!0),a=new qp(t,s.ir),o=a.sc(s.documents),l=md.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);sm(e,n,c.cc);const u=new Hp(t,n,a);return e.wc.set(t,u),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),c.snapshot}async function $p(e,t){const n=Hl(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(e=>!Zu(e,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Rf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),rp(n.remoteStore,r.targetId),rm(n,r.targetId)}).catch(wc)):(rm(n,r.targetId),await Rf(n.localStore,r.targetId,!0))}async function Yp(e,t){const n=Hl(e);try{const e=await function(e,t){const n=Hl(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Bs.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(zc.EMPTY_BYTE_STRING,oc.min()).withLastLimboFreeSnapshotVersion(oc.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Bs.updateTargetData(e,c))});let o=lh(),l=yh();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(If(e,s,t.documentUpdates).next(e=>{o=e.nr,l=e.sr})),!r.isEqual(oc.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next(t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return xc.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ji=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.yc.get(t);r&&(ql(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?ql(r.fc):e.removedDocuments.size>0&&(ql(r.fc),r.fc=!1))}),await lm(n,e,t)}catch(e){await wc(e)}}function Xp(e,t,n){const r=Hl(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Hl(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)}),r&&Up(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Jp(e,t,n){const r=Hl(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new Pc(dc.comparator);e=e.insert(s,pu.newNoDocument(s,oc.min()));const n=yh().add(s),i=new pd(oc.min(),new Map,new Pc(ic),e,n);await Yp(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),om(r)}else await Rf(r.localStore,t,!1).then(()=>rm(r,t,n)).catch(wc)}async function Zp(e,t){const n=Hl(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Hl(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=xc.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);ql(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=yh();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);nm(n,r,null),tm(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lm(n,e)}catch(e){await wc(e)}}async function em(e,t,n){const r=Hl(e);try{const e=await function(e,t){const n=Hl(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(ql(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);nm(r,t,n),tm(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await lm(r,e)}catch(n){await wc(n)}}function tm(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function nm(e,t,n){const r=Hl(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function rm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||im(e,t)})}function im(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(rp(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),om(e))}function sm(e,t,n){for(const r of n)r instanceof Vp?(e.Ic.addReference(r.key,t),am(e,r)):r instanceof Bp?(Fl("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||im(e,r.key)):Bl()}function am(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Fl("SyncEngine","New document in limbo: "+n),e.mc.add(r),om(e))}function om(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new dc(cc.fromString(t)),r=e.Ac.next();e.yc.set(r,new Kp(n)),e.gc=e.gc.insert(n,r),np(e.remoteStore,new ef(Yu(Hu(n.path)),r,"TargetPurposeLimboResolution",Ec.ct))}}async function lm(e,t,n){const r=Hl(e),i=[],s=[],a=[];r.wc.isEmpty()||(r.wc.forEach((e,o)=>{a.push(r.Rc(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(o.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Ef.Li(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.dc.nu(i),await async function(e,t){const n=Hl(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>xc.forEach(t,t=>xc.forEach(t.Fi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>xc.forEach(t.Bi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!kc(e))throw e;Fl("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function cm(e,t){const n=Hl(e);if(!n.currentUser.isEqual(t)){Fl("SyncEngine","User change. New user:",t.toKey());const e=await Tf(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new Wl(Kl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await lm(n,e.er)}}function um(e,t){const n=Hl(e),r=n.yc.get(t);if(r&&r.fc)return yh().add(r.key);{let e=yh();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function hm(e){const t=Hl(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Yp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=um.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Jp.bind(null,t),t.dc.nu=Mp.bind(null,t.eventManager),t.dc.Pc=Fp.bind(null,t.eventManager),t}function dm(e){const t=Hl(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Zp.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=em.bind(null,t),t}class fm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Wf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Nf(this.persistence,new Sf,e.initialUser,this.serializer)}createPersistence(e){return new wf(kf.zs,this.serializer)}createSharedClientState(e){return new Lf}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class pm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Xp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=cm.bind(null,this.syncEngine),await _p(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Op}createDatastore(e){const t=Wf(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Hf(r));var r;return function(e,t,n,r){return new Xf(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Xp(this.syncEngine,e,0),s=Ff.D()?new Ff:new Mf,new Zf(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Wp(e,t,n,r,i,s);return a&&(o.vc=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Hl(e);Fl("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await tp(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class mm{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Ul("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class gm{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ol.UNAUTHENTICATED,this.clientId=rc.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{Fl("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Fl("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Wl(Kl.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ip(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function ym(e,t){e.asyncQueue.verifyOperationInProgress(),Fl("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Tf(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function vm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await wm(e);Fl("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>Sp(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Sp(t.remoteStore,n)),e._onlineComponents=t}function bm(e){return"FirebaseError"===e.name?e.code===Kl.FAILED_PRECONDITION||e.code===Kl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function wm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Fl("FirestoreClient","Using user provided OfflineComponentProvider");try{await ym(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!bm(n))throw n;zl("Error using user provided cache. Falling back to memory cache: "+n),await ym(e,new fm)}}else Fl("FirestoreClient","Using default OfflineComponentProvider"),await ym(e,new fm);return e._offlineComponents}async function xm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Fl("FirestoreClient","Using user provided OnlineComponentProvider"),await vm(e,e._uninitializedComponentsProvider._online)):(Fl("FirestoreClient","Using default OnlineComponentProvider"),await vm(e,new pm))),e._onlineComponents}function km(e){return xm(e).then(e=>e.syncEngine)}async function Em(e){const t=await xm(e),n=t.eventManager;return n.onListen=Gp.bind(null,t.syncEngine),n.onUnlisten=$p.bind(null,t.syncEngine),n}function Sm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Gl;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new mm({next:s=>{t.enqueueAndForget(()=>Lp(e,a));const o=s.docs.has(n);!o&&s.fromCache?i.reject(new Wl(Kl.UNAVAILABLE,"Failed to get document because the client is offline.")):o&&s.fromCache&&r&&"server"===r.source?i.reject(new Wl(Kl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),a=new zp(Hu(n.path),s,{includeMetadataChanges:!0,Ku:!0});return jp(e,a)}(await Em(e),e.asyncQueue,t,n,r)),r.promise}function _m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Gl;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new mm({next:n=>{t.enqueueAndForget(()=>Lp(e,a)),n.fromCache&&"server"===r.source?i.reject(new Wl(Kl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new zp(n,s,{includeMetadataChanges:!0,Ku:!0});return jp(e,a)}(await Em(e),e.asyncQueue,t,n,r)),r.promise}function Nm(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Tm=new Map;function Cm(e,t,n){if(!n)throw new Wl(Kl.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Im(e){if(!dc.isDocumentKey(e))throw new Wl(Kl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Am(e){if(dc.isDocumentKey(e))throw new Wl(Kl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Dm(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Bl()}function Rm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Wl(Kl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dm(e);throw new Wl(Kl.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Pm{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Wl(Kl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Wl(Kl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Wl(Kl.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nm(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Wl(Kl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Wl(Kl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Wl(Kl.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class Om{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Pm({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Wl(Kl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Wl(Kl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Pm(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new $l;switch(e.type){case"firstParty":return new Zl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Wl(Kl.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Tm.get(e);t&&(Fl("ComponentProvider","Removing Datastore"),Tm.delete(e),t.terminate())}(this),Promise.resolve()}}class jm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jm(this.firestore,e,this._key)}}class Lm{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Lm(this.firestore,e,this._query)}}class Mm extends Lm{constructor(e,t,n){super(e,t,Hu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jm(this.firestore,null,new dc(e))}withConverter(e){return new Mm(this.firestore,e,this._path)}}function Fm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=A(e),Cm("collection","path",t),e instanceof Om){const n=cc.fromString(t,...r);return Am(n),new Mm(e,null,n)}{if(!(e instanceof jm||e instanceof Mm))throw new Wl(Kl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(cc.fromString(t,...r));return Am(n),new Mm(e.firestore,null,n)}}function Um(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=A(e),1===arguments.length&&(t=rc.A()),Cm("doc","path",t),e instanceof Om){const n=cc.fromString(t,...r);return Im(n),new jm(e,null,new dc(n))}{if(!(e instanceof jm||e instanceof Mm))throw new Wl(Kl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(cc.fromString(t,...r));return Im(n),new jm(e.firestore,e instanceof Mm?e.converter:null,new dc(n))}}class zm{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Gf(this,"async_queue_retry"),this.Xc=()=>{const e=Kf();e&&Fl("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=Kf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Kf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Gl;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!kc(e))throw e;Fl("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ul("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=Cp.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&Bl()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Vm extends Om{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new zm,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||qm(this),this._firestoreClient.terminate()}}function Bm(e){return e._firestoreClient||qm(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function qm(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Qc(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Nm(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new gm(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Hm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hm(zc.fromBase64String(e))}catch(e){throw new Wl(Kl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Hm(zc.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Km{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Wl(Kl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hc(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Wm{constructor(e){this._methodName=e}}class Gm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Wl(Kl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Wl(Kl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ic(this._lat,e._lat)||ic(this._long,e._long)}}const Qm=/^__.*__$/;class $m{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Wh(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kh(e,this.data,t,this.fieldTransforms)}}class Ym{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Wh(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Xm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Bl()}}class Jm{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Jm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return pg(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Xm(this.ca)&&Qm.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class Zm{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Wf(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Jm({ca:e,methodName:t,ga:n,path:hc.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eg(e){const t=e._freezeSettings(),n=Wf(e._databaseId);return new Zm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function tg(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.ya(s.merge||s.mergeFields?2:0,t,n,i);ug("Data must be an object, but it was:",a,r);const o=lg(r,a);let l,c;if(s.merge)l=new Fc(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=hg(t,r,n);if(!a.contains(i))throw new Wl(Kl.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));mg(e,i)||e.push(i)}l=new Fc(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new $m(new du(o),l,c)}class ng extends Wm{_toFieldTransform(e){if(2!==e.ca)throw 1===e.ca?e._a("".concat(this._methodName,"() can only appear at the top level of your update data")):e._a("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ng}}class rg extends Wm{_toFieldTransform(e){return new jh(e.path,new Th)}isEqual(e){return e instanceof rg}}function ig(e,t,n,r){const i=e.ya(1,t,n);ug("Data must be an object, but it was:",i,r);const s=[],a=du.empty();Dc(r,(e,r)=>{const o=fg(t,e,n);r=A(r);const l=i.da(o);if(r instanceof ng)s.push(o);else{const e=og(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new Fc(s);return new Ym(a,o,i.fieldTransforms)}function sg(e,t,n,r,i,s){const a=e.ya(1,t,n),o=[hg(t,r,n)],l=[i];if(s.length%2!=0)throw new Wl(Kl.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)o.push(hg(t,s[d])),l.push(s[d+1]);const c=[],u=du.empty();for(let d=o.length-1;d>=0;--d)if(!mg(c,o[d])){const e=o[d];let t=l[d];t=A(t);const n=a.da(e);if(t instanceof ng)c.push(e);else{const r=og(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Fc(c);return new Ym(u,h,a.fieldTransforms)}function ag(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return og(n,e.ya(r?4:3,t))}function og(e,t){if(cg(e=A(e)))return ug("Unsupported field value:",t,e),lg(e,t);if(e instanceof Wm)return function(e,t){if(!Xm(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=og(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=A(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return kh(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=ac.fromDate(e);return{timestampValue:Cd(t.serializer,n)}}if(e instanceof ac){const n=new ac(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Cd(t.serializer,n)}}if(e instanceof Gm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Hm)return{bytesValue:Id(t.serializer,e._byteString)};if(e instanceof jm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Rd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(Dm(e)))}(e,t)}function lg(e,t){const n={};return Rc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Dc(e,(e,r)=>{const i=og(r,t.ha(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function cg(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ac||e instanceof Gm||e instanceof Hm||e instanceof jm||e instanceof Wm)}function ug(e,t,n){if(!cg(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Dm(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function hg(e,t,n){if((t=A(t))instanceof Km)return t._internalPath;if("string"==typeof t)return fg(e,t);throw pg("Field path arguments must be of type string or ",e,!1,void 0,n)}const dg=new RegExp("[~\\*/\\[\\]]");function fg(e,t,n){if(t.search(dg)>=0)throw pg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Km(...t.split("."))._internalPath}catch(r){throw pg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function pg(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new Wl(Kl.INVALID_ARGUMENT,o+e+l)}function mg(e,t){return e.some(e=>e.isEqual(t))}class gg{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new jm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class yg extends gg{data(){return super.data()}}function vg(e,t){return"string"==typeof t?fg(e,t):t instanceof Km?t._internalPath:t._delegate._internalPath}function bg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Wl(Kl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wg{}class xg extends wg{}function kg(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof wg&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof _g).length,n=e.filter(e=>e instanceof Eg).length;if(t>1||t>0&&n>0)throw new Wl(Kl.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Eg extends xg{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Eg(e,t,n)}_apply(e){const t=this._parse(e);return Cg(e._query,t),new Lm(e.firestore,e.converter,Xu(e._query,t))}_parse(e){const t=eg(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Wl(Kl.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Tg(a,s);const t=[];for(const n of a)t.push(Ng(r,e,n));o={arrayValue:{values:t}}}else o=Ng(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Tg(a,s),o=ag(n,"where",a,"in"===s||"not-in"===s);return xu.create(i,s,o)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Sg(e,t,n){const r=t,i=vg("where",e);return Eg._create(i,r,n)}class _g extends wg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _g(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:ku.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Cg(n,i),n=Xu(n,i)}(e._query,t),new Lm(e.firestore,e.converter,Xu(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Ng(e,t,n){if("string"==typeof(n=A(n))){if(""===n)throw new Wl(Kl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Qu(t)&&-1!==n.indexOf("/"))throw new Wl(Kl.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(cc.fromString(n));if(!dc.isDocumentKey(r))throw new Wl(Kl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return iu(e,new dc(r))}if(n instanceof jm)return iu(e,n._key);throw new Wl(Kl.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Dm(n),"."))}function Tg(e,t){if(!Array.isArray(e)||0===e.length)throw new Wl(Kl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function Cg(e,t){if(t.isInequality()){const n=Gu(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Wl(Kl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=Wu(e);null!==i&&Ig(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Wl(Kl.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Wl(Kl.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function Ig(e,t,n){if(!n.isEqual(t))throw new Wl(Kl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class Ag{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Xc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qc(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Hc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Bl()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Dc(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new Gm(qc(e.latitude),qc(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Wc(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Gc(e));default:return null}}convertTimestamp(e){const t=Bc(e);return new ac(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=cc.fromString(e);ql(Zd(n));const r=new $c(n.get(1),n.get(3)),i=new dc(n.popFirst(5));return r.isEqual(t)||Ul("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Dg(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Rg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pg extends gg{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Og(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(vg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Og extends Pg{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class jg{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Rg(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Og(this._firestore,this._userDataWriter,n.key,n,new Rg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Wl(Kl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Og(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Rg(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Og(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Rg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Lg(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Lg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Bl()}}function Mg(e){e=Rm(e,jm);const t=Rm(e.firestore,Vm);return Sm(Bm(t),e._key).then(n=>Hg(t,e,n))}class Fg extends Ag{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new jm(this.firestore,null,t)}}function Ug(e){e=Rm(e,Lm);const t=Rm(e.firestore,Vm),n=Bm(t),r=new Fg(t);return bg(e._query),_m(n,e._query).then(n=>new jg(t,r,e,n))}function zg(e,t,n){e=Rm(e,jm);const r=Rm(e.firestore,Vm),i=eg(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=A(t))||t instanceof Km?sg(i,"updateDoc",e._key,t,n,o):ig(i,"updateDoc",e._key,t),qg(r,[s.toMutation(e._key,Mh.exists(!0))])}function Vg(e){return qg(Rm(e.firestore,Vm),[new Yh(e._key,Mh.none())])}function Bg(e,t){const n=Rm(e.firestore,Vm),r=Um(e),i=Dg(e.converter,t);return qg(n,[tg(eg(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Mh.exists(!1))]).then(()=>r)}function qg(e,t){return function(e,t){const n=new Gl;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=dm(e);try{const e=await function(e,t){const n=Hl(e),r=ac.now(),i=t.reduce((e,t)=>e.add(t.key),yh());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=lh(),l=yh();return n.Zi.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=qh(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Wh(e.key,t,fu(t.value.mapValue),Mh.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:hh(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new Pc(ic)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await lm(r,e.changes),await mp(r.remoteStore)}catch(e){const t=Ip(e,"Failed to persist write");n.reject(t)}}(await km(e),t,n)),n.promise}(Bm(e),t)}function Hg(e,t,n){const r=n.docs.get(t._key),i=new Fg(e);return new Pg(e,i,t._key,r,new Rg(n.hasPendingWrites,n.fromCache),t.converter)}function Kg(){return new rg("serverTimestamp")}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){jl=e}(We),Be(new D("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Vm(new Xl(e.getProvider("auth-internal")),new tc(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Wl(Kl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $c(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),$e(Pl,"3.13.0",e),$e(Pl,"3.13.0","esm2017")}();const Wg="firebasestorage.googleapis.com",Gg="storageBucket";class Qg extends w{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Xg(e),"Firebase Storage: ".concat(t," (").concat(Xg(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Qg.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Xg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var $g,Yg;function Xg(e){return"storage/"+e}function Jg(){return new Qg($g.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Zg(){return new Qg($g.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function ey(){return new Qg($g.CANCELED,"User canceled the upload/download.")}function ty(e){return new Qg($g.INVALID_ARGUMENT,e)}function ny(){return new Qg($g.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}($g||($g={}));class ry{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=ry.makeFromUrl(e,t)}catch(i){return new ry(e,"")}if(""===n.path)return n;throw r=e,new Qg($g.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(a,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===Wg?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new ry(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Qg($g.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class iy{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function sy(e,t,n,r){if(r<t)throw ty("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw ty("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function ay(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function oy(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Yg||(Yg={}));class ly{constructor(e,t,n,r,i,s,a,o,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new cy(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Yg.NO_ERROR,i=n.getStatus();if(!t||oy(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Yg.ABORT;return void e(!1,new cy(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new cy(s,n))})},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(s){r(s)}else if(null!==i){const e=Jg();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?ny():ey())}else{r(Zg())}};this.canceled_?t(0,new cy(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout(()=>{i=null,e(f,l())},t)}function d(){s&&clearTimeout(s)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||a)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(o=2),clearTimeout(i),h(0)):e||(o=1)))}return h(0),s=setTimeout(()=>{a=!0,m(!0)},n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class cy{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function uy(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class hy{constructor(e,t){this._service=e,this._location=t instanceof ry?t:ry.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new hy(e,t)}get root(){const e=new ry(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return uy(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new ry(this._location.bucket,e);return new hy(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Qg($g.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function dy(e,t){const n=null===t||void 0===t?void 0:t[Gg];return null==n?null:ry.makeFromBucketSpec(n,e)}class fy{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Wg,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?ry.makeFromBucketSpec(r,this._host):dy(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=ry.makeFromBucketSpec(this._url,e):this._bucket=dy(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new hy(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new iy(ny());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=ay(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new ly(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const py="@firebase/storage",my="0.11.2",gy="storage";function yy(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new fy(r,i,s,n,We)}Be(new D(gy,yy,"PUBLIC").setMultipleInstances(!0)),$e(py,my,""),$e(py,my,"esm2017");const vy={apiKey:"AIzaSyCMCCM1uIDRj7gcGdQx7ExcwGLj0rARtbM",authDomain:"ses-portfolio.firebaseapp.com",projectId:"ses-portfolio",storageBucket:"ses-portfolio.firebasestorage.app",messagingSenderId:"802049399246",appId:"1:802049399246:web:bcd8634a6fd5c79cfaf39f",measurementId:"G-DWCFGXTSMF"};let by,wy,xy,ky;try{by=Ge(vy),wy=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe();const t=qe(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=qe(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(E(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;dt(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:si,persistence:[gr,Zn,tr]}),r=m("authTokenSyncURL");if(r){const e=(i=r,async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ci)return;const r=null===t||void 0===t?void 0:t.token;ui!==r&&(ui=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){A(e).beforeAuthStateChanged(t,n)}(n,e,()=>e(n.currentUser)),function(e,t,n,r){A(e).onIdTokenChanged(t,n,r)}(n,t=>e(t))}var i;const s=d("auth");return s&&kn(n,"http://".concat(s)),n}(by),xy=function(e,t){const n="string"==typeof e?e:t||"(default)",r=qe("object"==typeof e?e:Qe(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=f("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Rm(e,Om))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&zl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ol.MOCK_USER;else{t=y(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Wl(Kl.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ol(s)}e._authCredentials=new Yl(new Ql(t,n))}}(r,...e)}return r}(by),ky=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe(),t=arguments.length>1?arguments[1]:void 0;e=A(e);const n=qe(e,gy).getImmediate({identifier:t}),r=f("storage");return r&&function(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:y(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}(n,...r),n}(by),console.log("\u2713 Firebase\u521d\u671f\u5316\u6210\u529f")}catch(rv){console.error("\u2717 Firebase\u521d\u671f\u5316\u30a8\u30e9\u30fc:",rv.message)}const Ey="projects",Sy="users",_y=async e=>{try{console.log("DEBUG: getProjects called with userId:",e);const t=kg(Fm(xy,Ey),Sg("userId","==",e)),n=(await Ug(t)).docs.map(e=>W({id:e.id},e.data()));return n.sort((e,t)=>{var n,r,i,s;const a=(null===(n=e.createdAt)||void 0===n||null===(r=n.toMillis)||void 0===r?void 0:r.call(n))||0;return((null===(i=t.createdAt)||void 0===i||null===(s=i.toMillis)||void 0===s?void 0:s.call(i))||0)-a}),console.log("\u2713 \u6848\u4ef6\u53d6\u5f97\u6210\u529f:",n.length,"\u4ef6"),console.log("DEBUG: \u53d6\u5f97\u3055\u308c\u305f\u30d7\u30ed\u30b8\u30a7\u30af\u30c8:",n),n}catch(rv){throw console.error("\u2717 \u6848\u4ef6\u53d6\u5f97\u30a8\u30e9\u30fc:",rv),console.error("ERROR CODE:",rv.code),console.error("ERROR MESSAGE:",rv.message),rv}},Ny="entries",Ty=async e=>{try{console.log("DEBUG: getEntries called with projectId:",e);const t=kg(Fm(xy,Ny),Sg("projectId","==",e)),n=(await Ug(t)).docs.map(e=>W({id:e.id},e.data()));return n.sort((e,t)=>{var n,r,i,s;const a=(null===(n=e.createdAt)||void 0===n||null===(r=n.toMillis)||void 0===r?void 0:r.call(n))||0;return((null===(i=t.createdAt)||void 0===i||null===(s=i.toMillis)||void 0===s?void 0:s.call(i))||0)-a}),console.log("\u2713 \u65e5\u8a18\u53d6\u5f97\u6210\u529f:",n.length,"\u4ef6"),n}catch(rv){throw console.error("\u2717 \u65e5\u8a18\u53d6\u5f97\u30a8\u30e9\u30fc:",rv),rv}},Cy=async e=>{if(null===e||void 0===e||!e.uid)return null;const t=Um(xy,Sy,e.uid),n=await Mg(t);if(!n.exists()){const n=Kg();return await function(e,t,n){e=Rm(e,jm);const r=Rm(e.firestore,Vm),i=Dg(e.converter,t,n);return qg(r,[tg(eg(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Mh.none())])}(t,{uid:e.uid,email:e.email||"",displayName:e.displayName||"",role:"user",createdAt:n,updatedAt:n}),{uid:e.uid,email:e.email||"",displayName:e.displayName||"",role:"user"}}return W({id:n.id},n.data())},Iy=async e=>{if(!e)return null;const t=Um(xy,Sy,e),n=await Mg(t);return n.exists()?W({id:n.id},n.data()):null};var Ay=n(579);function Dy(e){let{initialMode:t="login",onBack:n}=e;const[i,s]=(0,r.useState)("signup"!==t),[a,o]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),[d,f]=(0,r.useState)(!1);(0,r.useEffect)(()=>{s("signup"!==t),h(""),o(""),c("")},[t]);return(0,Ay.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center px-4",children:(0,Ay.jsxs)("div",{className:"bg-slate-900 rounded-lg shadow-2xl p-8 max-w-md w-full border border-slate-700",children:[n&&(0,Ay.jsx)("button",{onClick:n,className:"text-slate-400 hover:text-white text-sm mb-4 transition-colors",children:"\u2190 TOP\u306b\u623b\u308b"}),(0,Ay.jsx)("h1",{className:"text-3xl font-serif font-bold text-amber-400 mb-2 text-center",children:"SES \u30ad\u30e3\u30ea\u30a2\u8a18\u9332"}),(0,Ay.jsx)("p",{className:"text-slate-400 text-center mb-8",children:"\u6848\u4ef6\u306e\u5b9f\u7e3e\u3092\u7ba1\u7406\u3057\u3066\u8ee2\u8077\u6d3b\u52d5\u3092\u30b9\u30de\u30fc\u30c8\u306b"}),(0,Ay.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h(""),f(!0);try{i?await function(e,t,n){return $n(A(e),On.credential(t,n))}(wy,a,l):await async function(e,t,n){var r;const i=wn(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let a;if(null===(r=i._getRecaptchaConfig())||void 0===r?void 0:r.emailPasswordEnabled){const e=await yn(i,s,"signUpPassword");a=Vn(i,e)}else a=Vn(i,s).catch(async e=>{if(e.code==="auth/".concat("missing-recaptcha-token")){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const e=await yn(i,s,"signUpPassword");return Vn(i,e)}return Promise.reject(e)});const o=await a.catch(e=>Promise.reject(e)),l=await Bn._fromIdTokenResponse(i,"signIn",o);return await i._updateCurrentUser(l.user),l}(wy,a,l)}catch(t){h(t.message)}finally{f(!1)}},className:"space-y-4",children:[(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-slate-300 mb-2 text-sm",children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),(0,Ay.jsx)("input",{type:"email",value:a,onChange:e=>o(e.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded px-4 py-2 text-white placeholder-slate-500",placeholder:"example@email.com",required:!0})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-slate-300 mb-2 text-sm",children:"\u30d1\u30b9\u30ef\u30fc\u30c9"}),(0,Ay.jsx)("input",{type:"password",value:l,onChange:e=>c(e.target.value),className:"w-full bg-slate-800 border border-slate-700 rounded px-4 py-2 text-white placeholder-slate-500",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",required:!0})]}),u&&(0,Ay.jsx)("div",{className:"bg-red-900 border border-red-500 text-red-100 px-4 py-2 rounded text-sm",children:u}),(0,Ay.jsx)("button",{type:"submit",disabled:d,className:"w-full bg-amber-500 hover:bg-amber-600 disabled:bg-slate-600 text-white font-bold py-2 rounded transition-colors",children:d?"\u3057\u3070\u3089\u304f\u304a\u5f85\u3061\u304f\u3060\u3055\u3044...":i?"\u30ed\u30b0\u30a4\u30f3":"\u65b0\u898f\u767b\u9332"})]}),(0,Ay.jsxs)("div",{className:"my-5 flex items-center gap-3",children:[(0,Ay.jsx)("div",{className:"h-px bg-slate-700 flex-1"}),(0,Ay.jsx)("p",{className:"text-slate-500 text-xs",children:"\u307e\u305f\u306f"}),(0,Ay.jsx)("div",{className:"h-px bg-slate-700 flex-1"})]}),(0,Ay.jsx)("button",{type:"button",disabled:d,onClick:async()=>{h(""),f(!0);try{const e=new Fn;await async function(e,t,n){const r=wn(e);mt(e,t,jn);const i=wr(r,n);return new Tr(r,"signInViaPopup",t,i).executeNotNull()}(wy,e)}catch(e){if("auth/popup-blocked"===(null===e||void 0===e?void 0:e.code))try{const e=new Fn;return void await Or(wy,e)}catch(t){h(t.message)}else"auth/popup-closed-by-user"===(null===e||void 0===e?void 0:e.code)?h("Google\u30ed\u30b0\u30a4\u30f3\u304c\u30ad\u30e3\u30f3\u30bb\u30eb\u3055\u308c\u307e\u3057\u305f\u3002"):h(e.message)}finally{f(!1)}},className:"w-full bg-white hover:bg-slate-100 disabled:bg-slate-300 text-slate-800 font-bold py-2 rounded transition-colors",children:"Google\u3067\u30ed\u30b0\u30a4\u30f3"}),(0,Ay.jsxs)("div",{className:"mt-6 text-center",children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-sm",children:i?"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u304b?":"\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u304a\u6301\u3061\u3067\u3059\u304b?"}),(0,Ay.jsx)("button",{onClick:()=>{s(!i),h(""),o(""),c("")},className:"text-amber-400 hover:text-amber-300 font-semibold mt-2",children:i?"\u65b0\u898f\u767b\u9332":"\u30ed\u30b0\u30a4\u30f3"})]})]})})}function Ry(e){let{onStartSignup:t,onStartLogin:n}=e;return(0,Ay.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-slate-900 to-slate-800 text-white",children:(0,Ay.jsx)("main",{className:"max-w-6xl mx-auto px-4 py-16 sm:px-6 lg:px-8",children:(0,Ay.jsxs)("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-10 items-center",children:[(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("p",{className:"inline-block bg-amber-500/20 text-amber-300 text-xs font-bold px-3 py-1 rounded-full border border-amber-500/40 mb-5",children:"SES\u30a8\u30f3\u30b8\u30cb\u30a2\u5411\u3051"}),(0,Ay.jsxs)("h1",{className:"text-4xl sm:text-5xl font-serif font-bold leading-tight",children:["\u6848\u4ef6\u5b9f\u7e3e\u3092\u3001",(0,Ay.jsx)("br",{}),"\u9762\u8ac7\u3067\u8a9e\u308c\u308b\u6b66\u5668\u306b\u3002"]}),(0,Ay.jsx)("p",{className:"text-slate-300 mt-5 leading-relaxed",children:"\u53c2\u753b\u3057\u305f\u6848\u4ef6\u30fb\u62c5\u5f53\u5de5\u7a0b\u30fb\u30b9\u30ad\u30eb\u3092\u307e\u3068\u3081\u3066\u8a18\u9332\u3002\u3042\u3068\u304b\u3089\u8ff7\u308f\u305a\u3001\u7d4c\u6b74\u8aac\u660e\u3084\u9762\u8ac7\u6e96\u5099\u306b\u4f7f\u3048\u308b\u72b6\u614b\u3092\u4f5c\u308a\u307e\u3059\u3002"}),(0,Ay.jsxs)("div",{className:"flex flex-wrap gap-3 mt-8",children:[(0,Ay.jsx)("button",{onClick:t,className:"bg-amber-500 hover:bg-amber-600 text-white font-bold px-6 py-3 rounded transition-colors",children:"\u7121\u6599\u3067\u65b0\u898f\u767b\u9332"}),(0,Ay.jsx)("button",{onClick:n,className:"bg-slate-700 hover:bg-slate-600 text-white font-bold px-6 py-3 rounded transition-colors",children:"\u30ed\u30b0\u30a4\u30f3"})]})]}),(0,Ay.jsxs)("div",{className:"bg-slate-900/80 border border-slate-700 rounded-2xl p-6",children:[(0,Ay.jsx)("h2",{className:"text-xl font-serif font-bold text-amber-400 mb-4",children:"\u3053\u306e\u30b5\u30fc\u30d3\u30b9\u3067\u3067\u304d\u308b\u3053\u3068"}),(0,Ay.jsxs)("div",{className:"space-y-3",children:[(0,Ay.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4",children:[(0,Ay.jsx)("p",{className:"font-semibold",children:"\u6848\u4ef6\u3054\u3068\u306e\u5b9f\u7e3e\u7ba1\u7406"}),(0,Ay.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"\u671f\u9593\u30fb\u5f79\u5272\u30fb\u5546\u6d41\u30fb\u30b9\u30ad\u30eb\u3092\u6848\u4ef6\u5358\u4f4d\u3067\u6574\u7406\u3002"})]}),(0,Ay.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4",children:[(0,Ay.jsx)("p",{className:"font-semibold",children:"\u65e5\u8a18\u3067\u5177\u4f53\u7684\u306a\u696d\u52d9\u3092\u84c4\u7a4d"}),(0,Ay.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"\u300c\u4f55\u3092\u3084\u3063\u305f\u304b\u300d\u3092\u65e5\u6b21\u3067\u6b8b\u3057\u3066\u3001\u9762\u8ac7\u6642\u306b\u518d\u5229\u7528\u3002"})]}),(0,Ay.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4",children:[(0,Ay.jsx)("p",{className:"font-semibold",children:"\u30ad\u30e3\u30ea\u30a2\u30b7\u30fc\u30c8\u51fa\u529b"}),(0,Ay.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"CSV\uff08Excel\uff09\u3084\u5370\u5237\uff08PDF\u4fdd\u5b58\uff09\u3067\u63d0\u51fa\u7528\u306b\u307e\u3068\u3081\u3089\u308c\u308b\u3002"})]})]})]})]})})})}function Py(e){var t,n,i;let{user:s,onNavigate:a}=e;const[o,l]=(0,r.useState)(!0),c=(0,r.useRef)(!0),[u,h]=(0,r.useState)(null),[d,f]=(0,r.useState)({totalProjects:0,totalWorkedHours:0,totalEntries:0,skills:{},phaseExperience:{},recentEntries:[]}),p=(0,r.useCallback)(async()=>{if(null!==s&&void 0!==s&&s.uid)try{l(!0),h(null);const e=await _y(s.uid);if(!c.current)return;const t=e.map(e=>Ty(e.id).catch(t=>(console.error("getEntries error for project",e.id,t),[]))),n=(await Promise.all(t)).flat();if(!c.current)return;g(e,n)}catch(u){console.error("\u2717 \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u30c7\u30fc\u30bf\u8aad\u307f\u8fbc\u307f\u30a8\u30e9\u30fc:",u),c.current&&h("\u30c7\u30fc\u30bf\u8aad\u307f\u8fbc\u307f\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f")}finally{c.current&&l(!1)}},[null===s||void 0===s?void 0:s.uid]);(0,r.useEffect)(()=>(c.current=!0,p(),()=>{c.current=!1}),[p]);const m=e=>{const t=Math.floor(e/12),n=e%12;return 0===t?"".concat(n,"\u30f6\u6708"):0===n?"".concat(t,"\u5e74"):"".concat(t,"\u5e74").concat(n,"\u30f6\u6708")},g=(e,t)=>{const n={},r={},i={};e.forEach(e=>{if(e.skills&&Array.isArray(e.skills)&&e.skills.forEach(e=>{n[e]=(n[e]||0)+1}),e.startDate){const t=new Date(e.startDate),n=e.endDate?new Date(e.endDate):new Date,s=Math.max(0,12*(n.getFullYear()-t.getFullYear())+(n.getMonth()-t.getMonth()));e.skills&&Array.isArray(e.skills)&&e.skills.forEach(e=>{r[e]=(r[e]||0)+s}),e.phases&&Array.isArray(e.phases)&&e.phases.forEach(e=>{i[e]=(i[e]||0)+s})}});const s=[...t].sort((e,t)=>{var n,r,i,s;const a=(null===(n=e.createdAt)||void 0===n||null===(r=n.toMillis)||void 0===r?void 0:r.call(n))||0;return((null===(i=t.createdAt)||void 0===i||null===(s=i.toMillis)||void 0===s?void 0:s.call(i))||0)-a}).slice(0,5),a=[...e].slice(0,5),o=e.filter(e=>!e.endDate||new Date(e.endDate)>=new Date),l=o.length,c=1===l?o[0].projectName:null,u=l>0?o[0]:null;f({totalProjects:e.length,activeCount:l,activeProjName:c,activePrimaryProject:u,totalEntries:t.length,skills:n,techExperience:r,phaseExperience:i,recentEntries:s,recentProjects:a})};if(o)return(0,Ay.jsx)("div",{className:"text-center py-12 text-slate-400",children:"\u8aad\u307f\u8fbc\u307f\u4e2d..."});const y=Object.entries(d.skills).sort((e,t)=>t[1]-e[1]).slice(0,5),v=Object.entries(d.techExperience||{}).sort((e,t)=>t[1]-e[1]),b=Object.entries(d.phaseExperience||{}).sort((e,t)=>t[1]-e[1]);return(0,Ay.jsxs)("div",{children:[(0,Ay.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ay.jsx)("h2",{className:"text-3xl font-serif font-bold text-amber-400",children:"\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9"}),(0,Ay.jsxs)("div",{className:"flex items-center gap-3",children:[(0,Ay.jsx)("button",{onClick:async()=>{h(null),await p()},className:"bg-slate-700 hover:bg-slate-600 text-white px-3 py-1 rounded",children:"\u518d\u8aad\u307f\u8fbc\u307f"}),(0,Ay.jsxs)("div",{className:"text-slate-400 text-sm",children:["\u30e6\u30fc\u30b6\u30fc: ",(null===s||void 0===s?void 0:s.displayName)||(null===s||void 0===s?void 0:s.email)]})]})]}),u&&(0,Ay.jsx)("div",{className:"bg-red-700/20 border border-red-600 text-red-200 rounded p-3 mb-6",children:u}),0===d.totalProjects&&(0,Ay.jsxs)("div",{className:"bg-amber-500/10 border border-amber-500/40 rounded-lg p-6 mb-8",children:[(0,Ay.jsx)("p",{className:"text-amber-300 font-semibold text-lg",children:"\u6700\u521d\u306b\u6848\u4ef6\u30921\u4ef6\u767b\u9332\u3057\u307e\u3057\u3087\u3046"}),(0,Ay.jsx)("p",{className:"text-slate-300 text-sm mt-2",children:"\u53c2\u753b\u671f\u9593\u30fb\u5f79\u5272\u30fb\u30b9\u30ad\u30eb\u3092\u5165\u308c\u308b\u3068\u3001\u7d4c\u9a13\u5e74\u6570\u3084\u30ad\u30e3\u30ea\u30a2\u30b7\u30fc\u30c8\u304c\u81ea\u52d5\u3067\u6574\u7406\u3055\u308c\u307e\u3059\u3002"}),(0,Ay.jsx)("button",{onClick:()=>a("add-project"),className:"mt-4 bg-amber-500 hover:bg-amber-600 text-white font-bold px-5 py-2 rounded transition-colors",children:"\u6700\u521d\u306e\u6848\u4ef6\u3092\u767b\u9332\u3059\u308b"})]}),(0,Ay.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,Ay.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-700 border border-slate-700 rounded-lg p-6 hover:border-amber-500 transition-all",children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-sm font-semibold",children:"\u6848\u4ef6\u6570"}),(0,Ay.jsx)("p",{className:"text-4xl font-bold text-amber-400 mt-3",children:d.totalProjects}),(0,Ay.jsx)("p",{className:"text-slate-400 text-xs mt-2",children:"\u767b\u9332\u6e08\u307f"})]}),(0,Ay.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-700 border border-green-800 rounded-lg p-6 hover:border-green-500 transition-all",children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-sm font-semibold",children:"\u53c2\u753b\u4e2d\u6848\u4ef6"}),0===(null!==(t=d.activeCount)&&void 0!==t?t:0)?(0,Ay.jsxs)(Ay.Fragment,{children:[(0,Ay.jsx)("p",{className:"text-2xl font-bold text-slate-400 mt-3",children:"\u5f85\u6a5f\u4e2d"}),(0,Ay.jsx)("p",{className:"text-slate-500 text-xs mt-2",children:"\u53c2\u753b\u6848\u4ef6\u306a\u3057"})]}):1===(null!==(n=d.activeCount)&&void 0!==n?n:0)?(0,Ay.jsxs)(Ay.Fragment,{children:[(0,Ay.jsx)("p",{className:"text-lg font-bold text-green-400 mt-3 truncate",children:d.activeProjName}),(0,Ay.jsx)("p",{className:"text-green-600 text-xs mt-1",children:"\u25cf 1\u4ef6\u53c2\u753b\u4e2d"})]}):(0,Ay.jsxs)(Ay.Fragment,{children:[(0,Ay.jsxs)("p",{className:"text-lg font-bold text-green-400 mt-3 truncate",children:[d.activeCount,"\u4ef6\uff08\u4e26\u884c\u53c2\u753b\uff09"]}),(0,Ay.jsxs)("p",{className:"text-green-600 text-xs mt-1 truncate",children:[null===(i=d.activePrimaryProject)||void 0===i?void 0:i.projectName," \u307b\u304b"]})]})]}),(0,Ay.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-700 border border-slate-700 rounded-lg p-6 hover:border-amber-500 transition-all",children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-sm font-semibold",children:"\u65e5\u8a18\u6570"}),(0,Ay.jsx)("p",{className:"text-4xl font-bold text-amber-400 mt-3",children:d.totalEntries}),(0,Ay.jsx)("p",{className:"text-slate-400 text-xs mt-2",children:"\u8a18\u9332\u6e08\u307f"})]}),(0,Ay.jsxs)("div",{className:"bg-gradient-to-br from-slate-800 to-slate-700 border border-slate-700 rounded-lg p-6 hover:border-amber-500 transition-all",children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-sm font-semibold",children:"\u30b9\u30ad\u30eb\u6570"}),(0,Ay.jsx)("p",{className:"text-4xl font-bold text-amber-400 mt-3",children:Object.keys(d.skills).length}),(0,Ay.jsx)("p",{className:"text-slate-400 text-xs mt-2",children:"\u7a2e\u985e"})]})]}),(0,Ay.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 mb-8",children:[(0,Ay.jsx)("h3",{className:"text-xl font-serif font-bold text-amber-400 mb-4",children:"\u6280\u8853\u5225 \u7d2f\u8a08\u7d4c\u9a13\u5e74\u6570"}),0===v.length?(0,Ay.jsx)("p",{className:"text-slate-400",children:"\u6848\u4ef6\u306e\u958b\u59cb\u65e5\u30fb\u7d42\u4e86\u65e5\u3092\u767b\u9332\u3059\u308b\u3068\u7d4c\u9a13\u5e74\u6570\u304c\u8868\u793a\u3055\u308c\u307e\u3059"}):(0,Ay.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:v.map(e=>{let[t,n]=e;return(0,Ay.jsxs)("div",{className:"bg-slate-700 border border-slate-600 rounded-lg p-3 hover:border-amber-500 transition-all",children:[(0,Ay.jsx)("p",{className:"text-slate-300 text-sm font-semibold truncate",children:t}),(0,Ay.jsx)("p",{className:"text-amber-400 text-xl font-bold mt-1",children:m(n)})]},t)})})]}),(0,Ay.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 mb-8",children:[(0,Ay.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ay.jsx)("h3",{className:"text-xl font-serif font-bold text-amber-400",children:"\u6700\u8fd1\u306e\u6848\u4ef6"}),(0,Ay.jsx)("button",{onClick:()=>a("projects"),className:"text-slate-400 hover:text-amber-400 text-sm transition-colors",children:"\u3059\u3079\u3066\u898b\u308b \u2192"})]}),0===(d.recentProjects||[]).length?(0,Ay.jsx)("p",{className:"text-slate-400",children:"\u6848\u4ef6\u304c\u307e\u3060\u3042\u308a\u307e\u305b\u3093"}):(0,Ay.jsx)("div",{className:"space-y-3",children:(d.recentProjects||[]).map(e=>{const t=e.startDate||"",n=e.endDate||"\u73fe\u5728";return(0,Ay.jsx)("div",{className:"border-l-4 border-slate-500 hover:border-amber-500 bg-slate-700 rounded px-4 py-3 cursor-pointer transition-all",onClick:()=>a("project-detail",e),children:(0,Ay.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Ay.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Ay.jsx)("p",{className:"text-white font-semibold truncate",children:e.projectName}),(0,Ay.jsx)("p",{className:"text-slate-400 text-sm",children:e.company}),(0,Ay.jsxs)("p",{className:"text-slate-500 text-xs mt-1",children:[t," \u301c ",n]})]}),e.skills&&e.skills.length>0&&(0,Ay.jsxs)("div",{className:"flex flex-wrap gap-1 ml-3 max-w-xs justify-end",children:[e.skills.slice(0,3).map(e=>(0,Ay.jsx)("span",{className:"bg-slate-600 text-slate-300 text-xs px-2 py-0.5 rounded",children:e},e)),e.skills.length>3&&(0,Ay.jsxs)("span",{className:"text-slate-500 text-xs",children:["+",e.skills.length-3]})]})]})},e.id)})})]}),(0,Ay.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 mb-8",children:[(0,Ay.jsx)("h3",{className:"text-xl font-serif font-bold text-amber-400 mb-4",children:"\u5de5\u7a0b\u5225 \u7d2f\u8a08\u7d4c\u9a13\u5e74\u6570"}),0===b.length?(0,Ay.jsx)("p",{className:"text-slate-400",children:"\u6848\u4ef6\u306e\u62c5\u5f53\u30d5\u30a7\u30fc\u30ba\u3092\u767b\u9332\u3059\u308b\u3068\u7d4c\u9a13\u5e74\u6570\u304c\u8868\u793a\u3055\u308c\u307e\u3059"}):(0,Ay.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:b.map(e=>{let[t,n]=e;return(0,Ay.jsxs)("div",{className:"bg-slate-700 border border-slate-600 rounded-lg p-3 hover:border-amber-500 transition-all",children:[(0,Ay.jsx)("p",{className:"text-slate-300 text-sm font-semibold truncate",children:t}),(0,Ay.jsx)("p",{className:"text-amber-400 text-xl font-bold mt-1",children:m(n)})]},t)})})]}),(0,Ay.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 mb-8",children:[(0,Ay.jsx)("h3",{className:"text-xl font-serif font-bold text-amber-400 mb-4",children:"\u6700\u8fd1\u306e\u65e5\u8a18"}),0===d.recentEntries.length?(0,Ay.jsx)("p",{className:"text-slate-400",children:"\u65e5\u8a18\u304c\u307e\u3060\u3042\u308a\u307e\u305b\u3093"}):(0,Ay.jsx)("div",{className:"space-y-3",children:d.recentEntries.map(e=>{var t,n;const r=((null===(t=e.date)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t))||new Date(e.date)).toLocaleDateString("ja-JP");return(0,Ay.jsx)("div",{className:"border-l-4 border-amber-500 bg-slate-700 rounded px-4 py-3",children:(0,Ay.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-sm",children:r}),(0,Ay.jsx)("p",{className:"text-white font-semibold",children:e.title}),e.workedHours>0&&(0,Ay.jsxs)("p",{className:"text-amber-300 text-sm mt-1",children:["\u4f5c\u696d\u6642\u9593: ",e.workedHours,"\u6642\u9593"]})]}),e.content&&(0,Ay.jsx)("p",{className:"text-slate-400 text-xs max-w-xs line-clamp-2",children:e.content})]})},e.id)})})]}),(0,Ay.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 mb-8",children:[(0,Ay.jsx)("h3",{className:"text-xl font-serif font-bold text-amber-400 mb-4",children:"\u3088\u304f\u4f7f\u3046\u30b9\u30ad\u30eb TOP5"}),0===y.length?(0,Ay.jsx)("p",{className:"text-slate-400",children:"\u6848\u4ef6\u306b\u30b9\u30ad\u30eb\u3092\u767b\u9332\u3059\u308b\u3068\u8868\u793a\u3055\u308c\u307e\u3059"}):(0,Ay.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:y.map((e,t)=>{let[n,r]=e;return(0,Ay.jsxs)("div",{className:"bg-slate-700 border border-slate-600 rounded px-4 py-3",children:[(0,Ay.jsxs)("p",{className:"text-slate-300 text-sm",children:["#",t+1]}),(0,Ay.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,Ay.jsx)("p",{className:"text-white font-semibold truncate",children:n}),(0,Ay.jsxs)("p",{className:"text-amber-300 text-sm",children:[r,"\u4ef6"]})]})]},n)})})]}),(0,Ay.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,Ay.jsx)("button",{onClick:()=>a("add-project"),className:"bg-amber-500 hover:bg-amber-600 text-white font-bold px-6 py-2 rounded transition-colors",children:"+ \u6848\u4ef6\u3092\u8ffd\u52a0"}),(0,Ay.jsx)("button",{onClick:()=>a("projects"),className:"bg-slate-700 hover:bg-slate-600 text-white font-bold px-6 py-2 rounded transition-colors",children:"\u6848\u4ef6\u4e00\u89a7"}),(0,Ay.jsx)("button",{onClick:()=>a("career-sheet"),className:"bg-emerald-700 hover:bg-emerald-600 text-white font-bold px-6 py-2 rounded transition-colors",children:"\u30ad\u30e3\u30ea\u30a2\u30b7\u30fc\u30c8"})]})]})}const Oy=e=>{var t;if(!e)return"";if("string"===typeof e)return e;const n=(null===e||void 0===e||null===(t=e.toDate)||void 0===t?void 0:t.call(e))||new Date(e);return Number.isNaN(n.getTime())?"":n.toISOString().slice(0,10)},jy=e=>{const t=String(null!==e&&void 0!==e?e:"").replace(/"/g,'""');return/[",\n]/.test(t)?'"'.concat(t,'"'):t};function Ly(e){let{user:t}=e;const[n,i]=(0,r.useState)([]),[s,a]=(0,r.useState)(!0),[o,l]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(null===t||void 0===t||!t.uid)return;(async()=>{try{a(!0),l(null);const e=await _y(t.uid);i(e)}catch(e){console.error("career sheet load error:",e),l("\u30ad\u30e3\u30ea\u30a2\u30b7\u30fc\u30c8\u306e\u8aad\u307f\u8fbc\u307f\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{a(!1)}})()},[null===t||void 0===t?void 0:t.uid]);const c=(0,r.useMemo)(()=>n.filter(e=>!e.endDate||new Date(e.endDate)>=new Date),[n]),u=(0,r.useMemo)(()=>{const e={};return n.forEach(t=>{(t.skills||[]).forEach(t=>{e[t]=(e[t]||0)+1})}),Object.entries(e).sort((e,t)=>t[1]-e[1]).slice(0,5)},[n]);return s?(0,Ay.jsx)("div",{className:"text-center py-12 text-slate-400",children:"\u8aad\u307f\u8fbc\u307f\u4e2d..."}):(0,Ay.jsxs)("div",{className:"space-y-6",children:[(0,Ay.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("h2",{className:"text-3xl font-serif font-bold text-amber-400",children:"\u30ad\u30e3\u30ea\u30a2\u30b7\u30fc\u30c8"}),(0,Ay.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"\u9762\u8ac7\u7528\u306b\u6848\u4ef6\u5b9f\u7e3e\u3092\u4e00\u89a7\u8868\u793a"})]}),(0,Ay.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Ay.jsx)("button",{onClick:()=>{const e=n.map(e=>{const t=Oy(e.startDate),n=Oy(e.endDate),r=!e.endDate||new Date(e.endDate)>=new Date;return[e.projectName||"",e.company||"",t,n||"\u73fe\u5728",r?"\u53c2\u753b\u4e2d":"\u7d42\u4e86",e.role||"",e.contractTier||"",e.monthlyRate||"",(e.skills||[]).join(" / "),(e.description||"").replace(/\r?\n/g," ")]}),t=[["\u6848\u4ef6\u540d","\u4f1a\u793e\u540d","\u958b\u59cb\u65e5","\u7d42\u4e86\u65e5","\u53c2\u753b\u72b6\u6cc1","\u5f79\u5272","\u5546\u6d41","\u6708\u5358\u4fa1(\u4e07\u5186)","\u30b9\u30ad\u30eb","\u6982\u8981"],...e].map(e=>e.map(jy).join(",")).join("\n"),r=new Blob(["\ufeff".concat(t)],{type:"text/csv;charset=utf-8;"}),i=URL.createObjectURL(r),s=document.createElement("a");s.href=i,s.download="career-sheet-".concat((new Date).toISOString().slice(0,10),".csv"),s.click(),URL.revokeObjectURL(i)},className:"bg-emerald-700 hover:bg-emerald-600 text-white font-semibold px-4 py-2 rounded transition-colors",children:"CSV\u51fa\u529b\uff08Excel\uff09"}),(0,Ay.jsx)("button",{onClick:()=>window.print(),className:"bg-slate-700 hover:bg-slate-600 text-white font-semibold px-4 py-2 rounded transition-colors",children:"\u5370\u5237 / PDF\u4fdd\u5b58"})]})]}),o&&(0,Ay.jsx)("div",{className:"bg-red-700/20 border border-red-600 text-red-200 rounded p-3",children:o}),(0,Ay.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ay.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4",children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-sm",children:"\u7dcf\u6848\u4ef6\u6570"}),(0,Ay.jsx)("p",{className:"text-3xl font-bold text-amber-400 mt-2",children:n.length})]}),(0,Ay.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4",children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-sm",children:"\u53c2\u753b\u4e2d\u6848\u4ef6"}),(0,Ay.jsx)("p",{className:"text-3xl font-bold text-green-400 mt-2",children:c.length})]}),(0,Ay.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4",children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-sm",children:"\u4e3b\u8981\u30b9\u30ad\u30eb"}),(0,Ay.jsx)("p",{className:"text-sm text-slate-200 mt-2",children:u.map(e=>{let[t]=e;return t}).join(" / ")||"\u672a\u767b\u9332"})]})]}),(0,Ay.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-4",children:[(0,Ay.jsx)("h3",{className:"text-xl font-serif font-bold text-amber-400 mb-3",children:"\u6848\u4ef6\u4e00\u89a7"}),0===n.length?(0,Ay.jsx)("p",{className:"text-slate-400",children:"\u6848\u4ef6\u30c7\u30fc\u30bf\u304c\u3042\u308a\u307e\u305b\u3093"}):(0,Ay.jsx)("div",{className:"overflow-x-auto",children:(0,Ay.jsxs)("table",{className:"min-w-full text-sm",children:[(0,Ay.jsx)("thead",{children:(0,Ay.jsxs)("tr",{className:"text-left border-b border-slate-600",children:[(0,Ay.jsx)("th",{className:"py-2 pr-4 text-slate-300",children:"\u6848\u4ef6\u540d"}),(0,Ay.jsx)("th",{className:"py-2 pr-4 text-slate-300",children:"\u4f1a\u793e\u540d"}),(0,Ay.jsx)("th",{className:"py-2 pr-4 text-slate-300",children:"\u671f\u9593"}),(0,Ay.jsx)("th",{className:"py-2 pr-4 text-slate-300",children:"\u5f79\u5272"}),(0,Ay.jsx)("th",{className:"py-2 pr-4 text-slate-300",children:"\u5546\u6d41"}),(0,Ay.jsx)("th",{className:"py-2 pr-4 text-slate-300",children:"\u30b9\u30ad\u30eb"})]})}),(0,Ay.jsx)("tbody",{children:n.map(e=>(0,Ay.jsxs)("tr",{className:"border-b border-slate-700 align-top",children:[(0,Ay.jsx)("td",{className:"py-3 pr-4 text-white font-semibold",children:e.projectName||"-"}),(0,Ay.jsx)("td",{className:"py-3 pr-4 text-slate-300",children:e.company||"-"}),(0,Ay.jsxs)("td",{className:"py-3 pr-4 text-slate-300",children:[Oy(e.startDate)||"-"," \u301c ",Oy(e.endDate)||"\u73fe\u5728"]}),(0,Ay.jsx)("td",{className:"py-3 pr-4 text-slate-300",children:e.role||"-"}),(0,Ay.jsx)("td",{className:"py-3 pr-4 text-slate-300",children:e.contractTier||"-"}),(0,Ay.jsx)("td",{className:"py-3 pr-4 text-slate-300",children:(e.skills||[]).join(", ")||"-"})]},e.id))})]})})]})]})}const My="contact_inquiries",Fy=e=>[...e].sort((e,t)=>{var n,r,i,s;const a=(null===(n=e.createdAt)||void 0===n||null===(r=n.toMillis)||void 0===r?void 0:r.call(n))||0;return((null===(i=t.createdAt)||void 0===i||null===(s=i.toMillis)||void 0===s?void 0:s.call(i))||0)-a});function Uy(e){let{user:t}=e;const[n,i]=(0,r.useState)({name:"",email:(null===t||void 0===t?void 0:t.email)||"",company:"",message:""}),[s,a]=(0,r.useState)(!1),[o,l]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),h=e=>{const{name:t,value:n}=e.target;i(e=>W(W({},e),{},{[t]:n}))};return(0,Ay.jsxs)("section",{className:"bg-slate-900/80 border border-slate-700 rounded-2xl p-6 sm:p-8",children:[(0,Ay.jsx)("h2",{className:"text-2xl font-serif font-bold text-amber-400 mb-2",children:"\u304a\u554f\u3044\u5408\u308f\u305b"}),(0,Ay.jsx)("p",{className:"text-slate-400 text-sm mb-6",children:"\u6a5f\u80fd\u8981\u671b\u30fb\u4e0d\u5177\u5408\u5831\u544a\u30fb\u5c0e\u5165\u76f8\u8ac7\u306a\u3069\u306f\u3053\u3061\u3089\u304b\u3089\u9001\u4fe1\u3067\u304d\u307e\u3059\u3002"}),(0,Ay.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(""),u(""),a(!0);try{await(async e=>{let{userId:t,userEmail:n,name:r,email:i,company:s,message:a}=e;const o={userId:(t||"").trim(),userEmail:(n||"").trim(),name:(r||"").trim(),email:(i||"").trim(),company:(s||"").trim(),message:(a||"").trim(),status:"new",createdAt:Kg()};if(!o.userId||!o.userEmail)throw new Error("\u30ed\u30b0\u30a4\u30f3\u30e6\u30fc\u30b6\u30fc\u306e\u307f\u9001\u4fe1\u3067\u304d\u307e\u3059");if(!o.name||!o.email||!o.message)throw new Error("\u5fc5\u9808\u9805\u76ee\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044");await Bg(Fm(xy,My),o)})(W(W({},n),{},{userId:null===t||void 0===t?void 0:t.uid,userEmail:null===t||void 0===t?void 0:t.email})),u("\u304a\u554f\u3044\u5408\u308f\u305b\u3092\u9001\u4fe1\u3057\u307e\u3057\u305f\u3002\u3042\u308a\u304c\u3068\u3046\u3054\u3056\u3044\u307e\u3059\u3002"),i(e=>W(W({},e),{},{name:"",company:"",message:""}))}catch(r){l(r.message||"\u9001\u4fe1\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{a(!1)}},className:"space-y-4",children:[(0,Ay.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-slate-300 text-sm mb-1",children:"\u304a\u540d\u524d *"}),(0,Ay.jsx)("input",{name:"name",value:n.name,onChange:h,required:!0,className:"w-full bg-slate-800 border border-slate-700 rounded px-3 py-2 text-white"})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-slate-300 text-sm mb-1",children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9 *"}),(0,Ay.jsx)("input",{type:"email",name:"email",value:n.email,onChange:h,required:!0,readOnly:!(null===t||void 0===t||!t.email),className:"w-full bg-slate-800 border border-slate-700 rounded px-3 py-2 text-white"})]})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-slate-300 text-sm mb-1",children:"\u4f1a\u793e\u540d\uff08\u4efb\u610f\uff09"}),(0,Ay.jsx)("input",{name:"company",value:n.company,onChange:h,className:"w-full bg-slate-800 border border-slate-700 rounded px-3 py-2 text-white"})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-slate-300 text-sm mb-1",children:"\u5185\u5bb9 *"}),(0,Ay.jsx)("textarea",{name:"message",value:n.message,onChange:h,required:!0,rows:5,className:"w-full bg-slate-800 border border-slate-700 rounded px-3 py-2 text-white"})]}),o&&(0,Ay.jsx)("div",{className:"bg-red-700/20 border border-red-600 text-red-200 rounded px-3 py-2 text-sm",children:o}),c&&(0,Ay.jsx)("div",{className:"bg-green-700/20 border border-green-600 text-green-200 rounded px-3 py-2 text-sm",children:c}),(0,Ay.jsx)("button",{type:"submit",disabled:s,className:"bg-amber-500 hover:bg-amber-600 disabled:bg-slate-600 text-white font-bold px-5 py-2 rounded transition-colors",children:s?"\u9001\u4fe1\u4e2d...":"\u9001\u4fe1\u3059\u308b"})]})]})}const zy=e=>{var t;const n=(null===e||void 0===e||null===(t=e.toDate)||void 0===t?void 0:t.call(e))||(e?new Date(e):null);return!n||Number.isNaN(n.getTime())?"-":n.toLocaleString("ja-JP")};function Vy(e){let{user:t,mode:n="mine"}=e;const[i,s]=(0,r.useState)([]),[a,o]=(0,r.useState)(!0),[l,c]=(0,r.useState)("");return(0,r.useEffect)(()=>{(async()=>{try{o(!0),c("");const e="all"===n?await(async()=>{const e=(await Ug(Fm(xy,My))).docs.map(e=>W({id:e.id},e.data()));return Fy(e)})():await(async e=>{if(!e)return[];const t=kg(Fm(xy,My),Sg("userId","==",e)),n=(await Ug(t)).docs.map(e=>W({id:e.id},e.data()));return Fy(n)})(null===t||void 0===t?void 0:t.uid);s(e)}catch(e){c(e.message||"\u8aad\u307f\u8fbc\u307f\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{o(!1)}})()},[n,null===t||void 0===t?void 0:t.uid]),a?(0,Ay.jsx)("p",{className:"text-slate-400",children:"\u8aad\u307f\u8fbc\u307f\u4e2d..."}):l?(0,Ay.jsx)("p",{className:"text-red-300",children:l}):0===i.length?(0,Ay.jsx)("p",{className:"text-slate-400",children:"\u304a\u554f\u3044\u5408\u308f\u305b\u306f\u307e\u3060\u3042\u308a\u307e\u305b\u3093\u3002"}):(0,Ay.jsx)("div",{className:"space-y-3",children:i.map(e=>(0,Ay.jsxs)("div",{className:"bg-slate-700/60 border border-slate-600 rounded-lg p-4",children:[(0,Ay.jsxs)("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[(0,Ay.jsx)("span",{className:"text-xs bg-slate-800 border border-slate-600 rounded px-2 py-0.5",children:e.status||"new"}),(0,Ay.jsx)("span",{className:"text-slate-400 text-xs",children:zy(e.createdAt)})]}),(0,Ay.jsx)("p",{className:"text-white font-semibold",children:e.name||"-"}),(0,Ay.jsx)("p",{className:"text-slate-300 text-sm",children:e.email||"-"}),"all"===n&&(0,Ay.jsxs)("p",{className:"text-slate-400 text-xs mt-1",children:["\u9001\u4fe1\u30e6\u30fc\u30b6\u30fc: ",e.userEmail||e.userId]}),e.company&&(0,Ay.jsxs)("p",{className:"text-slate-400 text-xs mt-1",children:["\u4f1a\u793e\u540d: ",e.company]}),(0,Ay.jsx)("p",{className:"text-slate-200 text-sm mt-3 whitespace-pre-wrap",children:e.message||"-"})]},e.id))})}function By(e){let{user:t,tab:n="account",onTabChange:i}=e;const[s,a]=(0,r.useState)(null),[o,l]=(0,r.useState)(!0),[c,u]=(0,r.useState)(""),h=(0,r.useCallback)(async()=>{try{l(!0),u("");let e=await Iy(null===t||void 0===t?void 0:t.uid);!e&&t&&(await Cy(t),e=await Iy(null===t||void 0===t?void 0:t.uid)),a(e)}catch(rv){console.error("\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u53d6\u5f97\u30a8\u30e9\u30fc:",rv),a(null),u(rv.message||"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")}finally{l(!1)}},[t]);(0,r.useEffect)(()=>{h()},[h]);const d="admin"===(null===s||void 0===s?void 0:s.role);return(0,r.useEffect)(()=>{d&&("contact"!==n&&"history"!==n||i("inbox"))},[d,i,n]),(0,Ay.jsxs)("div",{className:"space-y-6",children:[(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("h2",{className:"text-3xl font-serif font-bold text-amber-400",children:"\u8a2d\u5b9a"}),(0,Ay.jsx)("p",{className:"text-slate-400 text-sm mt-1",children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831\u306e\u78ba\u8a8d\u3068\u304a\u554f\u3044\u5408\u308f\u305b"})]}),(0,Ay.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,Ay.jsx)("button",{onClick:()=>i("account"),className:"px-4 py-2 rounded font-semibold transition-colors ".concat("account"===n?"bg-amber-500 text-white":"bg-slate-700 hover:bg-slate-600 text-slate-200"),children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831"}),!d&&(0,Ay.jsx)("button",{onClick:()=>i("contact"),className:"px-4 py-2 rounded font-semibold transition-colors ".concat("contact"===n?"bg-amber-500 text-white":"bg-slate-700 hover:bg-slate-600 text-slate-200"),children:"\u304a\u554f\u3044\u5408\u308f\u305b"}),!d&&(0,Ay.jsx)("button",{onClick:()=>i("history"),className:"px-4 py-2 rounded font-semibold transition-colors ".concat("history"===n?"bg-amber-500 text-white":"bg-slate-700 hover:bg-slate-600 text-slate-200"),children:"\u9001\u4fe1\u5c65\u6b74"}),d&&(0,Ay.jsx)("button",{onClick:()=>i("inbox"),className:"px-4 py-2 rounded font-semibold transition-colors ".concat("inbox"===n?"bg-amber-500 text-white":"bg-slate-700 hover:bg-slate-600 text-slate-200"),children:"\u53d7\u4fe1\u4e00\u89a7"})]}),"account"===n&&(0,Ay.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[(0,Ay.jsx)("h3",{className:"text-xl font-serif font-bold text-amber-400 mb-4",children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831"}),c&&(0,Ay.jsx)("div",{className:"bg-red-700/20 border border-red-600 text-red-200 rounded px-3 py-2 text-sm mb-4",children:c}),o?(0,Ay.jsx)("p",{className:"text-slate-400 text-sm mb-4",children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u8aad\u307f\u8fbc\u307f\u4e2d..."}):(0,Ay.jsxs)("p",{className:"text-slate-400 text-sm mb-4",children:["\u6a29\u9650: ",(0,Ay.jsx)("span",{className:"text-white font-semibold",children:(null===s||void 0===s?void 0:s.role)||"user"})]}),(0,Ay.jsx)("button",{onClick:h,className:"mb-4 bg-slate-700 hover:bg-slate-600 text-white text-sm font-semibold px-3 py-1.5 rounded transition-colors",children:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u521d\u671f\u5316 / \u518d\u53d6\u5f97"}),(0,Ay.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,Ay.jsxs)("div",{className:"bg-slate-700/60 border border-slate-600 rounded p-4",children:[(0,Ay.jsx)("p",{className:"text-slate-400 mb-1",children:"\u8868\u793a\u540d"}),(0,Ay.jsx)("p",{className:"text-white font-semibold",children:(null===t||void 0===t?void 0:t.displayName)||"\u672a\u8a2d\u5b9a"})]}),(0,Ay.jsxs)("div",{className:"bg-slate-700/60 border border-slate-600 rounded p-4",children:[(0,Ay.jsx)("p",{className:"text-slate-400 mb-1",children:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9"}),(0,Ay.jsx)("p",{className:"text-white font-semibold",children:(null===t||void 0===t?void 0:t.email)||"-"})]}),(0,Ay.jsxs)("div",{className:"bg-slate-700/60 border border-slate-600 rounded p-4 md:col-span-2",children:[(0,Ay.jsx)("p",{className:"text-slate-400 mb-1",children:"\u30e6\u30fc\u30b6\u30fcID"}),(0,Ay.jsx)("p",{className:"text-white font-mono text-xs break-all",children:(null===t||void 0===t?void 0:t.uid)||"-"})]})]})]}),!d&&"contact"===n&&(0,Ay.jsx)(Uy,{user:t}),!d&&"history"===n&&(0,Ay.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[(0,Ay.jsx)("h3",{className:"text-xl font-serif font-bold text-amber-400 mb-4",children:"\u9001\u4fe1\u3057\u305f\u304a\u554f\u3044\u5408\u308f\u305b"}),(0,Ay.jsx)(Vy,{user:t,mode:"mine"})]}),d&&"inbox"===n&&(0,Ay.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6",children:[(0,Ay.jsx)("h3",{className:"text-xl font-serif font-bold text-amber-400 mb-4",children:"\u53d7\u4fe1\u3057\u305f\u304a\u554f\u3044\u5408\u308f\u305b\uff08\u5168\u4ef6\uff09"}),(0,Ay.jsx)(Vy,{user:t,mode:"all"})]})]})}const qy=["React","Vue.js","Angular","Node.js","Python","Java","C#","PHP","TypeScript","Docker","AWS","GCP","Azure","Figma","UI/UX"],Hy=["\u8981\u4ef6\u5b9a\u7fa9","\u57fa\u672c\u8a2d\u8a08","\u8a73\u7d30\u8a2d\u8a08","\u5b9f\u88c5","\u30c6\u30b9\u30c8","\u4fdd\u5b88\u904b\u7528"],Ky=[{value:"direct",label:"\u76f4\u63a5\u53d6\u5f15",intermediaries:0},{value:"1st",label:"\u4e00\u6b21\u8acb\u3051",intermediaries:1},{value:"2nd",label:"\u4e8c\u6b21\u8acb\u3051",intermediaries:2},{value:"3rd",label:"\u4e09\u6b21\u8acb\u3051",intermediaries:3},{value:"4th+",label:"\u56db\u6b21\u8acb\u3051\u4ee5\u4e0a",intermediaries:4}],Wy=["\u5143\u8acb\u3051\u4f1a\u793e","\u4e8c\u6b21\u4f1a\u793e","\u4e09\u6b21\u4f1a\u793e","\u56db\u6b21\u4f1a\u793e"],Gy=e=>{var t,n;return null!==(t=null===(n=Ky.find(t=>t.value===e))||void 0===n?void 0:n.intermediaries)&&void 0!==t?t:0};function Qy(e){let{user:t,project:n,onSuccess:i,onCancel:s}=e;const[a,o]=(0,r.useState)(!1),[l,c]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),[d,f]=(0,r.useState)(""),p=!!n,[m,g]=(0,r.useState)({projectName:"",company:"",startDate:"",endDate:"",role:"",skills:[],phases:[],description:"",contractTier:"direct",intermediaryCompanies:[],monthlyRate:"",rateHistory:[]});(0,r.useEffect)(()=>{if(p&&n){const e=n.contractTier||"direct",t=Gy(e),r=n.intermediaryCompanies||[],i=Array.from({length:t},(e,t)=>r[t]||"");g({projectName:n.projectName||"",company:n.company||"",startDate:n.startDate||"",endDate:n.endDate||"",role:n.role||"",skills:n.skills||[],phases:n.phases||[],description:n.description||"",contractTier:e,intermediaryCompanies:i,monthlyRate:n.monthlyRate||"",rateHistory:n.rateHistory||[]})}},[n,p]);const y=e=>{const{name:t,value:n}=e.target;g(e=>W(W({},e),{},{[t]:n}))},v=()=>{const e=d.trim();e&&!m.skills.includes(e)&&(g(t=>W(W({},t),{},{skills:[...t.skills,e]})),f(""))},b=(e,t,n)=>{g(r=>W(W({},r),{},{rateHistory:r.rateHistory.map((r,i)=>i===e?W(W({},r),{},{[t]:n}):r)}))},w=m.skills.filter(e=>!qy.includes(e)),x=Gy(m.contractTier);return(0,Ay.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-6 max-w-2xl",children:[(0,Ay.jsx)("h2",{className:"text-2xl font-serif font-bold text-amber-400 mb-6",children:p?"\u6848\u4ef6\u3092\u7de8\u96c6":"\u65b0\u898f\u6848\u4ef6\u3092\u8ffd\u52a0"}),u&&(0,Ay.jsxs)("div",{className:"bg-green-900/50 border border-green-600 text-green-300 px-4 py-3 rounded mb-4 font-semibold",children:["\u2713 ",u]}),(0,Ay.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(""),o(!0);try{const e=W(W({},m),{},{monthlyRate:parseFloat(m.monthlyRate)||0});p?(await(async(e,t)=>{try{const n=Um(xy,Ey,e);await zg(n,W(W({},t),{},{updatedAt:Kg()})),console.log("\u2713 \u6848\u4ef6\u66f4\u65b0\u6210\u529f:",e)}catch(l){throw console.error("\u2717 \u6848\u4ef6\u66f4\u65b0\u30a8\u30e9\u30fc:",l),l}})(n.id,e),h("\u6848\u4ef6\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f")):(await(async(e,t)=>{try{console.log("DEBUG: createProject called with userId:",e),console.log("DEBUG: projectData:",t);const n=await Bg(Fm(xy,Ey),W(W({userId:e},t),{},{createdAt:Kg(),updatedAt:Kg()}));return console.log("\u2713 \u6848\u4ef6\u4f5c\u6210\u6210\u529f:",n.id),console.log("DEBUG: \u4f5c\u6210\u3055\u308c\u305f\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8 ID:",n.id),n.id}catch(l){throw console.error("\u2717 \u6848\u4ef6\u4f5c\u6210\u30a8\u30e9\u30fc:",l),console.error("ERROR CODE:",l.code),console.error("ERROR MESSAGE:",l.message),l}})(t.uid,e),h("\u6848\u4ef6\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f"),g({projectName:"",company:"",startDate:"",endDate:"",role:"",skills:[],phases:[],description:"",contractTier:"direct",intermediaryCompanies:[],monthlyRate:"",rateHistory:[]})),setTimeout(()=>{h(""),i&&i()},1200)}catch(r){c(r.message)}finally{o(!1)}},className:"space-y-5",children:[(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-slate-300 mb-2 font-semibold",children:"\u6848\u4ef6\u540d *"}),(0,Ay.jsx)("input",{type:"text",name:"projectName",value:m.projectName,onChange:y,required:!0,className:"w-full bg-slate-700 border border-slate-600 rounded px-4 py-2 text-white placeholder-slate-500",placeholder:"\u4f8b\uff1aEC\u30b5\u30a4\u30c8\u69cb\u7bc9"})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-slate-300 mb-2 font-semibold",children:"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u4f01\u696d *"}),(0,Ay.jsx)("input",{type:"text",name:"company",value:m.company,onChange:y,required:!0,className:"w-full bg-slate-700 border border-slate-600 rounded px-4 py-2 text-white placeholder-slate-500",placeholder:"\u4f8b\uff1a\u682a\u5f0f\u4f1a\u793eABC\uff08\u30a8\u30f3\u30c9\u4f01\u696d\uff09"})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-slate-300 mb-2 font-semibold",children:"\u5546\u6d41\uff08\u53d6\u5f15\u5f62\u614b\uff09"}),(0,Ay.jsx)("select",{value:m.contractTier,onChange:e=>{const t=e.target.value,n=Gy(t);g(e=>{const r=e.intermediaryCompanies,i=Array.from({length:n},(e,t)=>r[t]||"");return W(W({},e),{},{contractTier:t,intermediaryCompanies:i})})},className:"w-full bg-slate-700 border border-slate-600 rounded px-4 py-2 text-white",children:Ky.map(e=>(0,Ay.jsx)("option",{value:e.value,children:e.label},e.value))})]}),x>0&&(0,Ay.jsxs)("div",{className:"space-y-2 bg-slate-700/50 border border-slate-600 rounded-lg p-4",children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-sm font-semibold mb-3",children:"\u4ef2\u4ecb\u4f1a\u793e\uff08\u30a8\u30f3\u30c9\u4f01\u696d\u3068\u81ea\u793e\u306e\u9593\uff09"}),Array.from({length:x}).map((e,t)=>(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-slate-400 text-xs mb-1",children:Wy[t]||"".concat(t+1,"\u6b21\u4f1a\u793e")}),(0,Ay.jsx)("input",{type:"text",value:m.intermediaryCompanies[t]||"",onChange:e=>((e,t)=>{g(n=>{const r=[...n.intermediaryCompanies];return r[e]=t,W(W({},n),{},{intermediaryCompanies:r})})})(t,e.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-3 py-2 text-white placeholder-slate-500 text-sm",placeholder:"".concat(Wy[t]||"\u4f1a\u793e\u540d","\u3092\u5165\u529b")})]},t))]}),(0,Ay.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-slate-300 mb-2 font-semibold",children:"\u958b\u59cb\u65e5 *"}),(0,Ay.jsx)("input",{type:"date",name:"startDate",value:m.startDate,onChange:y,required:!0,className:"w-full bg-slate-700 border border-slate-600 rounded px-4 py-2 text-white"})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-slate-300 mb-2 font-semibold",children:"\u7d42\u4e86\u65e5"}),(0,Ay.jsx)("input",{type:"date",name:"endDate",value:m.endDate,onChange:y,className:"w-full bg-slate-700 border border-slate-600 rounded px-4 py-2 text-white"})]})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-slate-300 mb-2 font-semibold",children:"\u5f79\u8077\u30fb\u5f79\u5272"}),(0,Ay.jsx)("input",{type:"text",name:"role",value:m.role,onChange:y,className:"w-full bg-slate-700 border border-slate-600 rounded px-4 py-2 text-white placeholder-slate-500",placeholder:"\u4f8b\uff1a\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30a8\u30f3\u30b8\u30cb\u30a2"})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-slate-300 mb-3 font-semibold",children:"\u62c5\u5f53\u30d5\u30a7\u30fc\u30ba"}),(0,Ay.jsx)("div",{className:"flex flex-wrap gap-2",children:Hy.map(e=>(0,Ay.jsx)("button",{type:"button",onClick:()=>(e=>{g(t=>W(W({},t),{},{phases:t.phases.includes(e)?t.phases.filter(t=>t!==e):[...t.phases,e]}))})(e),className:"px-3 py-1.5 rounded text-sm font-semibold transition-colors ".concat(m.phases.includes(e)?"bg-blue-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"),children:e},e))})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-slate-300 mb-2 font-semibold",children:"\u6708\u5358\u4fa1\uff08\u4e07\u5186\uff09"}),(0,Ay.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ay.jsx)("input",{type:"number",name:"monthlyRate",value:m.monthlyRate,onChange:y,min:"0",className:"flex-1 bg-slate-700 border border-slate-600 rounded px-4 py-2 text-white placeholder-slate-500",placeholder:"\u4f8b\uff1a60"}),(0,Ay.jsx)("span",{className:"text-slate-400",children:"\u4e07\u5186"})]})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Ay.jsx)("label",{className:"text-slate-300 font-semibold",children:"\u5358\u4fa1\u5909\u66f4\u5c65\u6b74"}),(0,Ay.jsx)("button",{type:"button",onClick:()=>{g(e=>W(W({},e),{},{rateHistory:[...e.rateHistory,{date:"",rate:"",note:""}]}))},className:"text-amber-400 hover:text-amber-300 text-sm",children:"+ \u8ffd\u52a0"})]}),m.rateHistory.length>0&&(0,Ay.jsx)("div",{className:"space-y-2 bg-slate-700/50 border border-slate-600 rounded-lg p-4",children:m.rateHistory.map((e,t)=>(0,Ay.jsxs)("div",{className:"grid grid-cols-[1fr_1fr_2fr_auto] gap-2 items-center",children:[(0,Ay.jsx)("input",{type:"date",value:e.date,onChange:e=>b(t,"date",e.target.value),className:"bg-slate-700 border border-slate-600 rounded px-2 py-1.5 text-white text-sm"}),(0,Ay.jsxs)("div",{className:"flex items-center gap-1",children:[(0,Ay.jsx)("input",{type:"number",value:e.rate,min:"0",onChange:e=>b(t,"rate",e.target.value),className:"w-full bg-slate-700 border border-slate-600 rounded px-2 py-1.5 text-white text-sm",placeholder:"65"}),(0,Ay.jsx)("span",{className:"text-slate-400 text-xs whitespace-nowrap",children:"\u4e07\u5186"})]}),(0,Ay.jsx)("input",{type:"text",value:e.note,onChange:e=>b(t,"note",e.target.value),className:"bg-slate-700 border border-slate-600 rounded px-2 py-1.5 text-white text-sm",placeholder:"\u30e1\u30e2\uff08\u6607\u7d66\u306a\u3069\uff09"}),(0,Ay.jsx)("button",{type:"button",onClick:()=>(e=>{g(t=>W(W({},t),{},{rateHistory:t.rateHistory.filter((t,n)=>n!==e)}))})(t),className:"text-red-400 hover:text-red-300 text-sm px-1",children:"\u2715"})]},t))})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-slate-300 mb-3 font-semibold",children:"\u4f7f\u7528\u30b9\u30ad\u30eb"}),(0,Ay.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:qy.map(e=>(0,Ay.jsx)("button",{type:"button",onClick:()=>(e=>{g(t=>W(W({},t),{},{skills:t.skills.includes(e)?t.skills.filter(t=>t!==e):[...t.skills,e]}))})(e),className:"px-3 py-1 rounded text-sm font-semibold transition-colors ".concat(m.skills.includes(e)?"bg-amber-500 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"),children:e},e))}),(0,Ay.jsxs)("div",{className:"flex gap-2",children:[(0,Ay.jsx)("input",{type:"text",value:d,onChange:e=>f(e.target.value),onKeyDown:e=>"Enter"===e.key&&(e.preventDefault(),v()),className:"flex-1 bg-slate-700 border border-slate-600 rounded px-3 py-1.5 text-white placeholder-slate-500 text-sm",placeholder:"\u4e0a\u8a18\u4ee5\u5916\u306e\u30b9\u30ad\u30eb\u3092\u5165\u529b\u3057\u3066\u8ffd\u52a0"}),(0,Ay.jsx)("button",{type:"button",onClick:v,className:"bg-slate-600 hover:bg-slate-500 text-white px-3 py-1.5 rounded text-sm",children:"\u8ffd\u52a0"})]}),w.length>0&&(0,Ay.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:w.map(e=>(0,Ay.jsxs)("span",{className:"bg-blue-600/60 text-blue-200 px-3 py-1 rounded text-sm font-semibold flex items-center gap-1",children:[e,(0,Ay.jsx)("button",{type:"button",onClick:()=>(e=>{g(t=>W(W({},t),{},{skills:t.skills.filter(t=>t!==e)}))})(e),className:"text-blue-300 hover:text-white ml-1",children:"\u2715"})]},e))})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-slate-300 mb-2 font-semibold",children:"\u8aac\u660e\u30fb\u30e1\u30e2"}),(0,Ay.jsx)("textarea",{name:"description",value:m.description,onChange:y,className:"w-full bg-slate-700 border border-slate-600 rounded px-4 py-2 text-white placeholder-slate-500",rows:"4",placeholder:"\u6848\u4ef6\u306e\u8a73\u7d30\u3084\u7279\u8a18\u4e8b\u9805\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044"})]}),l&&(0,Ay.jsxs)("div",{className:"bg-red-900/50 border border-red-500 text-red-200 px-4 py-3 rounded",children:["\u2717 ",l]}),(0,Ay.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,Ay.jsx)("button",{type:"submit",disabled:a,className:"flex-1 bg-amber-500 hover:bg-amber-600 disabled:bg-slate-600 text-white font-bold py-2 rounded transition-colors",children:a?"\u51e6\u7406\u4e2d...":p?"\u66f4\u65b0\u3059\u308b":"\u6848\u4ef6\u3092\u4f5c\u6210"}),(0,Ay.jsx)("button",{type:"button",onClick:s,className:"flex-1 bg-slate-700 hover:bg-slate-600 text-white font-bold py-2 rounded transition-colors",children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})]})]})}const $y=e=>!e.endDate||new Date(e.endDate)>=new Date;function Yy(e){let{user:t,onAddProject:n,onViewProject:i,onRefresh:s}=e;const[a,o]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),[u,h]=(0,r.useState)({msg:"",type:""}),d=function(e){h({msg:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>h({msg:"",type:""}),3e3)},f=(0,r.useCallback)(async()=>{if(t)try{c(!0);const e=await _y(t.uid);o(e)}catch(rv){console.error("\u6848\u4ef6\u8aad\u307f\u8fbc\u307f\u30a8\u30e9\u30fc:",rv)}finally{c(!1)}},[t]);(0,r.useEffect)(()=>{f()},[f,s]);const p=async(e,t)=>{if(t.stopPropagation(),window.confirm("\u3053\u306e\u6848\u4ef6\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f"))try{await(async e=>{try{const t=Um(xy,Ey,e);await Vg(t),console.log("\u2713 \u6848\u4ef6\u524a\u9664\u6210\u529f:",e)}catch(rv){throw console.error("\u2717 \u6848\u4ef6\u524a\u9664\u30a8\u30e9\u30fc:",rv),rv}})(e),d("\u6848\u4ef6\u3092\u524a\u9664\u3057\u307e\u3057\u305f"),f()}catch(rv){d("\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f: "+rv.message,"error")}};if(l)return(0,Ay.jsx)("div",{className:"text-center py-12 text-slate-400",children:"\u8aad\u307f\u8fbc\u307f\u4e2d..."});const m=a.filter($y),g=a.filter(e=>!$y(e)),y=e=>{let{project:t,active:n}=e;return(0,Ay.jsxs)("div",{onClick:()=>i(t),className:"rounded-lg p-4 cursor-pointer transition-all hover:shadow-lg group ".concat(n?"bg-slate-800 border border-green-700 hover:border-green-500":"bg-slate-800 border border-slate-700 hover:border-slate-500 opacity-80"),children:[(0,Ay.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Ay.jsx)("h3",{className:"text-lg font-semibold text-amber-400 group-hover:text-amber-300 leading-tight pr-2",children:t.projectName}),n?(0,Ay.jsx)("span",{className:"shrink-0 bg-green-900/60 text-green-400 text-xs font-bold px-2 py-0.5 rounded-full border border-green-700",children:"\u53c2\u753b\u4e2d"}):(0,Ay.jsx)("span",{className:"shrink-0 bg-slate-700 text-slate-400 text-xs px-2 py-0.5 rounded-full",children:"\u7d42\u4e86"})]}),(0,Ay.jsx)("p",{className:"text-slate-400 text-sm mb-1",children:t.company}),(0,Ay.jsxs)("p",{className:"text-slate-500 text-xs mb-2",children:[t.startDate||"-"," \u301c ",t.endDate||"\u73fe\u5728"]}),t.contractTier&&"direct"!==t.contractTier&&(0,Ay.jsx)("p",{className:"text-slate-500 text-xs mb-2",children:{"1st":"\u4e00\u6b21\u8acb\u3051","2nd":"\u4e8c\u6b21\u8acb\u3051","3rd":"\u4e09\u6b21\u8acb\u3051","4th+":"\u56db\u6b21\u8acb\u3051\u4ee5\u4e0a"}[t.contractTier]}),t.skills&&t.skills.length>0&&(0,Ay.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2 mb-3",children:[t.skills.slice(0,5).map(e=>(0,Ay.jsx)("span",{className:"text-xs bg-amber-500/20 text-amber-300 px-2 py-0.5 rounded",children:e},e)),t.skills.length>5&&(0,Ay.jsxs)("span",{className:"text-xs text-slate-500",children:["+",t.skills.length-5]})]}),(0,Ay.jsxs)("div",{className:"flex gap-2 mt-3",onClick:e=>e.stopPropagation(),children:[(0,Ay.jsx)("button",{onClick:()=>i(t),className:"flex-1 text-white text-sm font-semibold px-3 py-1.5 rounded transition-colors ".concat(n?"bg-green-700 hover:bg-green-600":"bg-blue-600 hover:bg-blue-700"),children:n?"\u65e5\u8a18\u3092\u66f8\u304f / \u8a73\u7d30":"\u8a73\u7d30"}),(0,Ay.jsx)("button",{onClick:e=>p(t.id,e),className:"bg-slate-700 hover:bg-red-700 text-slate-400 hover:text-white text-sm px-3 py-1.5 rounded transition-colors",children:"\u524a\u9664"})]})]})};return(0,Ay.jsxs)("div",{children:[u.msg&&(0,Ay.jsx)("div",{className:"fixed top-4 right-4 z-50 px-6 py-3 rounded-lg shadow-xl font-semibold transition-all ".concat("error"===u.type?"bg-red-600 text-white":"bg-green-600 text-white"),children:u.msg}),(0,Ay.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ay.jsx)("h2",{className:"text-2xl font-serif font-bold text-amber-400",children:"\u6848\u4ef6\u4e00\u89a7"}),(0,Ay.jsx)("button",{onClick:n,className:"bg-amber-500 hover:bg-amber-600 text-white font-bold px-6 py-2 rounded transition-colors",children:"+ \u65b0\u898f\u6848\u4ef6"})]}),0===a.length?(0,Ay.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-8 text-center",children:[(0,Ay.jsx)("p",{className:"text-slate-400 mb-4",children:"\u6848\u4ef6\u304c\u307e\u3060\u3042\u308a\u307e\u305b\u3093"}),(0,Ay.jsx)("button",{onClick:n,className:"bg-amber-500 hover:bg-amber-600 text-white font-bold px-6 py-2 rounded transition-colors",children:"\u6700\u521d\u306e\u6848\u4ef6\u3092\u8ffd\u52a0"})]}):(0,Ay.jsxs)("div",{className:"space-y-8",children:[m.length>0&&(0,Ay.jsxs)("section",{children:[(0,Ay.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Ay.jsx)("h3",{className:"text-lg font-bold text-green-400",children:"\u73fe\u5728\u53c2\u753b\u4e2d"}),(0,Ay.jsxs)("span",{className:"bg-green-900/40 text-green-400 text-xs px-2 py-0.5 rounded-full border border-green-800",children:[m.length,"\u4ef6"]})]}),(0,Ay.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map(e=>(0,Ay.jsx)(y,{project:e,active:!0},e.id))})]}),g.length>0&&(0,Ay.jsxs)("section",{children:[(0,Ay.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,Ay.jsx)("h3",{className:"text-lg font-bold text-slate-400",children:"\u904e\u53bb\u306e\u6848\u4ef6"}),(0,Ay.jsxs)("span",{className:"bg-slate-700 text-slate-400 text-xs px-2 py-0.5 rounded-full",children:[g.length,"\u4ef6"]})]}),(0,Ay.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.map(e=>(0,Ay.jsx)(y,{project:e,active:!1},e.id))})]})]})]})}function Xy(e){let{userId:t,projectId:n,entry:i,onSuccess:s,onCancel:a}=e;const[o,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(""),h=!!i,[d,f]=(0,r.useState)({date:"",title:"",content:"",workedHours:""});(0,r.useEffect)(()=>{if(h&&i){let n="";if(i.date){var e,t;n=("string"===typeof i.date?new Date(i.date):(null===(e=(t=i.date).toDate)||void 0===e?void 0:e.call(t))||new Date(i.date)).toISOString().split("T")[0]}f({date:n,title:i.title||"",content:i.content||"",workedHours:i.workedHours||""})}else{const e=(new Date).toISOString().split("T")[0];f(t=>W(W({},t),{},{date:e}))}},[i,h]);const p=e=>{const{name:t,value:n}=e.target;f(e=>W(W({},e),{},{[t]:n}))};return(0,Ay.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),u(""),l(!0),!d.date||!d.title)return u("\u65e5\u4ed8\u3068\u30bf\u30a4\u30c8\u30eb\u306f\u5fc5\u9808\u3067\u3059"),void l(!1);try{if(h)await(async(e,t)=>{try{const n=Um(xy,Ny,e);await zg(n,W(W({},t),{},{updatedAt:Kg()})),console.log("\u2713 \u65e5\u8a18\u66f4\u65b0\u6210\u529f:",e)}catch(c){throw console.error("\u2717 \u65e5\u8a18\u66f4\u65b0\u30a8\u30e9\u30fc:",c),c}})(i.id,{date:new Date(d.date),title:d.title,content:d.content,workedHours:parseInt(d.workedHours)||0}),alert("\u2713 \u65e5\u8a18\u3092\u66f4\u65b0\u3057\u307e\u3057\u305f\uff01");else{await(async(e,t,n)=>{try{console.log("DEBUG: createEntry called with projectId:",t);const r=await Bg(Fm(xy,Ny),W(W({userId:e,projectId:t},n),{},{createdAt:Kg(),updatedAt:Kg()}));return console.log("\u2713 \u65e5\u8a18\u4f5c\u6210\u6210\u529f:",r.id),r.id}catch(c){throw console.error("\u2717 \u65e5\u8a18\u4f5c\u6210\u30a8\u30e9\u30fc:",c),c}})(t,n,{date:new Date(d.date),title:d.title,content:d.content,workedHours:parseInt(d.workedHours)||0}),alert("\u2713 \u65e5\u8a18\u3092\u4f5c\u6210\u3057\u307e\u3057\u305f\uff01");const e=(new Date).toISOString().split("T")[0];f({date:e,title:"",content:"",workedHours:""})}s&&s()}catch(r){console.error("\u2717 \u30d5\u30a9\u30fc\u30e0\u9001\u4fe1\u30a8\u30e9\u30fc:",r),u(r.message)}finally{l(!1)}},className:"bg-slate-700 border border-slate-600 rounded-lg p-4 mb-6",children:[(0,Ay.jsx)("h3",{className:"text-xl font-semibold text-amber-400 mb-4",children:h?"\u65e5\u8a18\u3092\u7de8\u96c6":"\u65b0\u3057\u3044\u65e5\u8a18\u3092\u8ffd\u52a0"}),c&&(0,Ay.jsx)("p",{className:"text-red-400 mb-4",children:c}),(0,Ay.jsxs)("div",{className:"space-y-4",children:[(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-sm font-semibold text-slate-300 mb-1",children:"\u65e5\u4ed8 *"}),(0,Ay.jsx)("input",{type:"date",name:"date",value:d.date,onChange:p,className:"w-full px-4 py-2 bg-slate-600 border border-slate-500 rounded text-white placeholder-slate-400",required:!0})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-sm font-semibold text-slate-300 mb-1",children:"\u30bf\u30a4\u30c8\u30eb *"}),(0,Ay.jsx)("input",{type:"text",name:"title",placeholder:"\u4f8b: API \u5b9f\u88c5\u3001\u30d0\u30b0\u4fee\u6b63",value:d.title,onChange:p,className:"w-full px-4 py-2 bg-slate-600 border border-slate-500 rounded text-white placeholder-slate-400",required:!0})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-sm font-semibold text-slate-300 mb-1",children:"\u5185\u5bb9"}),(0,Ay.jsx)("textarea",{name:"content",placeholder:"\u3053\u306e\u65e5\u306e\u4f5c\u696d\u5185\u5bb9\u3092\u8a18\u5165\u3057\u3066\u304f\u3060\u3055\u3044",value:d.content,onChange:p,rows:"4",className:"w-full px-4 py-2 bg-slate-600 border border-slate-500 rounded text-white placeholder-slate-400"})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("label",{className:"block text-sm font-semibold text-slate-300 mb-1",children:"\u4f5c\u696d\u6642\u9593\uff08\u6642\u9593\uff09"}),(0,Ay.jsx)("input",{type:"number",name:"workedHours",placeholder:"\u4f8b: 8",value:d.workedHours,onChange:p,min:"0",step:"0.5",className:"w-full px-4 py-2 bg-slate-600 border border-slate-500 rounded text-white placeholder-slate-400"})]})]}),(0,Ay.jsxs)("div",{className:"flex gap-2 mt-6",children:[(0,Ay.jsx)("button",{type:"submit",disabled:o,className:"flex-1 bg-amber-500 hover:bg-amber-600 disabled:bg-slate-600 text-white font-bold px-4 py-2 rounded transition-colors",children:h?"\u66f4\u65b0\u3059\u308b":"\u4f5c\u6210"}),(0,Ay.jsx)("button",{type:"button",onClick:a,className:"flex-1 bg-slate-600 hover:bg-slate-500 text-white font-bold px-4 py-2 rounded transition-colors",children:"\u30ad\u30e3\u30f3\u30bb\u30eb"})]})]})}const Jy={direct:"\u76f4\u63a5\u53d6\u5f15","1st":"\u4e00\u6b21\u8acb\u3051","2nd":"\u4e8c\u6b21\u8acb\u3051","3rd":"\u4e09\u6b21\u8acb\u3051","4th+":"\u56db\u6b21\u8acb\u3051\u4ee5\u4e0a"},Zy=["\u5143\u8acb\u3051\u4f1a\u793e","\u4e8c\u6b21\u4f1a\u793e","\u4e09\u6b21\u4f1a\u793e","\u56db\u6b21\u4f1a\u793e"];function ev(e){let{user:t,project:n,onBack:i,onEdit:s}=e;const[a,o]=(0,r.useState)([]),[l,c]=(0,r.useState)(!0),[u,h]=(0,r.useState)(!1),[d,f]=(0,r.useState)(null),[p,m]=(0,r.useState)({msg:"",type:""}),g=function(e){m({msg:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>m({msg:"",type:""}),3e3)},y=(0,r.useCallback)(async()=>{if(null!==n&&void 0!==n&&n.id)try{c(!0);const e=await Ty(n.id);o(e)}catch(rv){console.error("\u65e5\u8a18\u8aad\u307f\u8fbc\u307f\u30a8\u30e9\u30fc:",rv)}finally{c(!1)}},[null===n||void 0===n?void 0:n.id]);(0,r.useEffect)(()=>{y()},[y]);const v=async e=>{if(window.confirm("\u3053\u306e\u65e5\u8a18\u3092\u524a\u9664\u3057\u307e\u3059\u304b\uff1f"))try{await(async e=>{try{const t=Um(xy,Ny,e);await Vg(t),console.log("\u2713 \u65e5\u8a18\u524a\u9664\u6210\u529f:",e)}catch(rv){throw console.error("\u2717 \u65e5\u8a18\u524a\u9664\u30a8\u30e9\u30fc:",rv),rv}})(e),g("\u65e5\u8a18\u3092\u524a\u9664\u3057\u307e\u3057\u305f"),y()}catch(rv){g("\u524a\u9664\u306b\u5931\u6557\u3057\u307e\u3057\u305f: "+rv.message,"error")}};if(!n)return(0,Ay.jsx)("div",{className:"text-center py-12",children:(0,Ay.jsx)("button",{onClick:i,className:"text-amber-400 hover:text-amber-300",children:"\u2190 \u623b\u308b"})});const b=!n.endDate||new Date(n.endDate)>=new Date,w=e=>e?"string"===typeof e?e:new Date(e).toLocaleDateString("ja-JP"):"-";return(0,Ay.jsxs)("div",{children:[p.msg&&(0,Ay.jsx)("div",{className:"fixed top-4 right-4 z-50 px-6 py-3 rounded-lg shadow-xl font-semibold ".concat("error"===p.type?"bg-red-600 text-white":"bg-green-600 text-white"),children:p.msg}),(0,Ay.jsx)("button",{onClick:i,className:"text-amber-400 hover:text-amber-300 mb-6 font-semibold block",children:"\u2190 \u6848\u4ef6\u4e00\u89a7\u306b\u623b\u308b"}),(0,Ay.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-8 mb-8",children:[(0,Ay.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,Ay.jsxs)("div",{children:[(0,Ay.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,Ay.jsx)("h2",{className:"text-3xl font-serif font-bold text-amber-400",children:n.projectName}),b?(0,Ay.jsx)("span",{className:"bg-green-900/60 text-green-400 text-xs font-bold px-2 py-1 rounded-full border border-green-700",children:"\u53c2\u753b\u4e2d"}):(0,Ay.jsx)("span",{className:"bg-slate-700 text-slate-400 text-xs px-2 py-1 rounded-full",children:"\u7d42\u4e86"})]}),(0,Ay.jsx)("p",{className:"text-slate-400 text-lg",children:n.company})]}),(0,Ay.jsx)("button",{onClick:s,className:"bg-slate-700 hover:bg-slate-600 text-white font-bold px-5 py-2 rounded transition-colors",children:"\u7de8\u96c6"})]}),(0,Ay.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5 pt-6 border-t border-slate-700 mb-6",children:[(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-xs font-semibold mb-1",children:"\u958b\u59cb\u65e5"}),(0,Ay.jsx)("p",{className:"text-white",children:w(n.startDate)})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-xs font-semibold mb-1",children:"\u7d42\u4e86\u65e5"}),(0,Ay.jsx)("p",{className:"text-white",children:n.endDate?w(n.endDate):"\u9032\u884c\u4e2d"})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-xs font-semibold mb-1",children:"\u5f79\u8077"}),(0,Ay.jsx)("p",{className:"text-white",children:n.role||"\u672a\u8a18\u5165"})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-xs font-semibold mb-1",children:"\u5546\u6d41"}),(0,Ay.jsx)("p",{className:"text-white",children:Jy[n.contractTier]||"\u672a\u8a18\u5165"})]}),(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-xs font-semibold mb-1",children:"\u6708\u5358\u4fa1"}),(0,Ay.jsx)("p",{className:"text-white",children:n.monthlyRate?"".concat(n.monthlyRate," \u4e07\u5186"):"\u672a\u8a18\u5165"})]})]}),n.intermediaryCompanies&&n.intermediaryCompanies.some(e=>e)&&(0,Ay.jsxs)("div",{className:"mb-6 pt-5 border-t border-slate-700",children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-xs font-semibold mb-2",children:"\u4ef2\u4ecb\u4f1a\u793e"}),(0,Ay.jsx)("div",{className:"space-y-1",children:n.intermediaryCompanies.map((e,t)=>e?(0,Ay.jsxs)("p",{className:"text-white text-sm",children:[(0,Ay.jsxs)("span",{className:"text-slate-400 mr-2",children:[Zy[t]||"".concat(t+1,"\u6b21\u4f1a\u793e"),":"]}),e]},t):null)})]}),n.rateHistory&&n.rateHistory.length>0&&(0,Ay.jsxs)("div",{className:"mb-6 pt-5 border-t border-slate-700",children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-xs font-semibold mb-2",children:"\u5358\u4fa1\u5909\u66f4\u5c65\u6b74"}),(0,Ay.jsx)("div",{className:"space-y-1",children:n.rateHistory.map((e,t)=>(0,Ay.jsxs)("div",{className:"flex items-center gap-4 text-sm",children:[(0,Ay.jsx)("span",{className:"text-slate-400",children:e.date||"-"}),(0,Ay.jsxs)("span",{className:"text-amber-400 font-semibold",children:[e.rate," \u4e07\u5186"]}),e.note&&(0,Ay.jsx)("span",{className:"text-slate-300",children:e.note})]},t))})]}),n.phases&&n.phases.length>0&&(0,Ay.jsxs)("div",{className:"mb-6 pt-5 border-t border-slate-700",children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-xs font-semibold mb-2",children:"\u62c5\u5f53\u30d5\u30a7\u30fc\u30ba"}),(0,Ay.jsx)("div",{className:"flex flex-wrap gap-2",children:n.phases.map(e=>(0,Ay.jsx)("span",{className:"bg-blue-600/30 text-blue-300 px-3 py-1 rounded text-sm font-semibold border border-blue-700/50",children:e},e))})]}),n.skills&&n.skills.length>0&&(0,Ay.jsxs)("div",{className:"mb-6 pt-5 border-t border-slate-700",children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-xs font-semibold mb-2",children:"\u4f7f\u7528\u30b9\u30ad\u30eb"}),(0,Ay.jsx)("div",{className:"flex flex-wrap gap-2",children:n.skills.map(e=>(0,Ay.jsx)("span",{className:"bg-amber-500/20 text-amber-300 px-3 py-1 rounded font-semibold text-sm",children:e},e))})]}),n.description&&(0,Ay.jsxs)("div",{className:"pt-5 border-t border-slate-700",children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-xs font-semibold mb-2",children:"\u8aac\u660e"}),(0,Ay.jsx)("p",{className:"text-slate-300 whitespace-pre-wrap leading-relaxed text-sm",children:n.description})]})]}),(0,Ay.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-8",children:[(0,Ay.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,Ay.jsxs)("h3",{className:"text-2xl font-serif font-bold text-amber-400",children:["\u65e5\u8a18 (",a.length,"\u4ef6)"]}),(0,Ay.jsx)("button",{onClick:()=>{f(null),h(!u)},className:"bg-amber-500 hover:bg-amber-600 text-white font-bold px-4 py-2 rounded transition-colors",children:"+ \u65e5\u8a18\u3092\u8ffd\u52a0"})]}),u&&(0,Ay.jsx)(Xy,{userId:t.uid,projectId:n.id,entry:d,onSuccess:()=>{h(!1),f(null),y()},onCancel:()=>{h(!1),f(null)}}),l?(0,Ay.jsx)("p",{className:"text-slate-400 text-center py-8",children:"\u8aad\u307f\u8fbc\u307f\u4e2d..."}):0===a.length?(0,Ay.jsx)("p",{className:"text-slate-400 text-center py-8",children:"\u65e5\u8a18\u304c\u307e\u3060\u3042\u308a\u307e\u305b\u3093"}):(0,Ay.jsx)("div",{className:"space-y-4",children:a.map(e=>{var t,n;const r=((null===(t=e.date)||void 0===t||null===(n=t.toDate)||void 0===n?void 0:n.call(t))||new Date(e.date)).toLocaleDateString("ja-JP");return(0,Ay.jsxs)("div",{className:"border-l-4 border-amber-500 bg-slate-700 rounded px-4 py-4",children:[(0,Ay.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-sm",children:r}),(0,Ay.jsx)("h4",{className:"text-white font-bold text-lg",children:e.title})]}),(0,Ay.jsxs)("div",{className:"flex gap-3",children:[(0,Ay.jsx)("button",{onClick:()=>{f(e),h(!0)},className:"text-blue-400 hover:text-blue-300 text-sm",children:"\u7de8\u96c6"}),(0,Ay.jsx)("button",{onClick:()=>v(e.id),className:"text-red-400 hover:text-red-300 text-sm",children:"\u524a\u9664"})]})]}),e.content&&(0,Ay.jsx)("p",{className:"text-slate-300 text-sm whitespace-pre-wrap line-clamp-3",children:e.content})]},e.id)})})]})]})}const tv=function(){const[e,t]=(0,r.useState)(null),[n,i]=(0,r.useState)(!0),[s,a]=(0,r.useState)("dashboard"),[o,l]=(0,r.useState)(0),[c,u]=(0,r.useState)(null),[h,d]=(0,r.useState)(null),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)("account");(0,r.useEffect)(()=>{const e=function(e,t,n,r){return A(e).onAuthStateChanged(t,n,r)}(wy,async e=>{try{t(e),e&&await Cy(e)}catch(rv){console.error("\u30e6\u30fc\u30b6\u30fc\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u521d\u671f\u5316\u30a8\u30e9\u30fc:",rv)}finally{i(!1)}});return()=>e()},[]);const y=async()=>{try{await function(e){return A(e).signOut()}(wy),t(null),d(null)}catch(rv){console.error("\u30ed\u30b0\u30a2\u30a6\u30c8\u30a8\u30e9\u30fc:",rv)}},v=e=>{a(e),p(!1)},b=()=>{a("projects"),l(e=>e+1)},w=e=>{u(e),a("project-detail")};return n?(0,Ay.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center",children:(0,Ay.jsx)("div",{className:"text-amber-400 text-2xl font-serif",children:"\u8aad\u307f\u8fbc\u307f\u4e2d..."})}):e?(0,Ay.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 text-white",children:[(0,Ay.jsx)("header",{className:"bg-slate-950 border-b border-slate-700 shadow-lg sticky top-0 z-50",children:(0,Ay.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:px-6 lg:px-8 flex justify-between items-center",children:[(0,Ay.jsxs)("div",{className:"flex items-center gap-6",children:[(0,Ay.jsxs)("div",{children:[(0,Ay.jsx)("h1",{className:"text-3xl font-serif font-bold text-amber-400 cursor-pointer hover:text-amber-300 transition-colors",onClick:()=>a("dashboard"),children:"SES \u30ad\u30e3\u30ea\u30a2\u8a18\u9332"}),(0,Ay.jsx)("p",{className:"text-slate-400 mt-1 text-sm",children:"\u6848\u4ef6\u306e\u5b9f\u7e3e\u3092\u7ba1\u7406"})]}),(0,Ay.jsxs)("nav",{className:"hidden lg:flex gap-6 ml-8",children:[(0,Ay.jsx)("button",{onClick:()=>v("dashboard"),className:"font-semibold transition-colors py-2 px-4 rounded ".concat("dashboard"===s?"text-amber-400 bg-slate-700":"text-slate-300 hover:text-white hover:bg-slate-700"),children:"\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9"}),(0,Ay.jsx)("button",{onClick:()=>v("projects"),className:"font-semibold transition-colors py-2 px-4 rounded ".concat("projects"===s?"text-amber-400 bg-slate-700":"text-slate-300 hover:text-white hover:bg-slate-700"),children:"\u6848\u4ef6\u4e00\u89a7"}),(0,Ay.jsx)("button",{onClick:()=>v("career-sheet"),className:"font-semibold transition-colors py-2 px-4 rounded ".concat("career-sheet"===s?"text-amber-400 bg-slate-700":"text-slate-300 hover:text-white hover:bg-slate-700"),children:"\u30ad\u30e3\u30ea\u30a2\u30b7\u30fc\u30c8"}),(0,Ay.jsx)("button",{onClick:()=>{g("account"),v("settings")},className:"font-semibold transition-colors py-2 px-4 rounded ".concat("settings"===s?"text-amber-400 bg-slate-700":"text-slate-300 hover:text-white hover:bg-slate-700"),children:"\u8a2d\u5b9a"})]})]}),(0,Ay.jsxs)("div",{className:"flex items-center gap-4",children:[(0,Ay.jsxs)("div",{className:"text-right",children:[(0,Ay.jsx)("p",{className:"text-sm text-slate-300",children:e.email}),(0,Ay.jsx)("p",{className:"text-xs text-slate-500",children:"\u30ed\u30b0\u30a4\u30f3\u4e2d"})]}),(0,Ay.jsx)("button",{onClick:y,className:"bg-red-600 hover:bg-red-700 px-4 py-2 rounded text-white transition-colors text-sm font-semibold",children:"\u30ed\u30b0\u30a2\u30a6\u30c8"}),(0,Ay.jsx)("button",{onClick:()=>p(!0),className:"bg-slate-700 hover:bg-slate-600 px-3 py-2 rounded text-white transition-colors","aria-label":"\u30e1\u30cb\u30e5\u30fc\u3092\u958b\u304f",children:"\u2630"})]})]})}),f&&(0,Ay.jsxs)("div",{className:"fixed inset-0 z-50",children:[(0,Ay.jsx)("button",{className:"absolute inset-0 bg-black/50",onClick:()=>p(!1),"aria-label":"\u30e1\u30cb\u30e5\u30fc\u3092\u9589\u3058\u308b"}),(0,Ay.jsxs)("aside",{className:"absolute right-0 top-0 h-full w-80 max-w-[85vw] bg-slate-900 border-l border-slate-700 shadow-2xl p-5 overflow-y-auto",children:[(0,Ay.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,Ay.jsx)("h2",{className:"text-xl font-serif font-bold text-amber-400",children:"\u30e1\u30cb\u30e5\u30fc"}),(0,Ay.jsx)("button",{onClick:()=>p(!1),className:"text-slate-400 hover:text-white text-xl","aria-label":"\u9589\u3058\u308b",children:"\xd7"})]}),(0,Ay.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-xs font-semibold",children:"\u30da\u30fc\u30b8"}),(0,Ay.jsx)("button",{onClick:()=>v("dashboard"),className:"w-full text-left bg-slate-800 hover:bg-slate-700 rounded px-3 py-2",children:"\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9"}),(0,Ay.jsx)("button",{onClick:()=>v("projects"),className:"w-full text-left bg-slate-800 hover:bg-slate-700 rounded px-3 py-2",children:"\u6848\u4ef6\u4e00\u89a7"}),(0,Ay.jsx)("button",{onClick:()=>v("career-sheet"),className:"w-full text-left bg-slate-800 hover:bg-slate-700 rounded px-3 py-2",children:"\u30ad\u30e3\u30ea\u30a2\u30b7\u30fc\u30c8"})]}),(0,Ay.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-xs font-semibold",children:"\u30a2\u30ab\u30a6\u30f3\u30c8"}),(0,Ay.jsxs)("div",{className:"bg-slate-800 border border-slate-700 rounded px-3 py-2",children:[(0,Ay.jsx)("p",{className:"text-slate-400 text-xs",children:"\u30ed\u30b0\u30a4\u30f3\u4e2d"}),(0,Ay.jsx)("p",{className:"text-white text-sm break-all",children:e.email})]}),(0,Ay.jsx)("button",{onClick:()=>{g("account"),v("settings")},className:"w-full text-left bg-slate-800 hover:bg-slate-700 rounded px-3 py-2",children:"\u30a2\u30ab\u30a6\u30f3\u30c8\u60c5\u5831"}),(0,Ay.jsx)("button",{onClick:()=>{g("contact"),v("settings")},className:"w-full text-left bg-slate-800 hover:bg-slate-700 rounded px-3 py-2",children:"\u304a\u554f\u3044\u5408\u308f\u305b"}),(0,Ay.jsx)("button",{onClick:()=>{g("history"),v("settings")},className:"w-full text-left bg-slate-800 hover:bg-slate-700 rounded px-3 py-2",children:"\u554f\u3044\u5408\u308f\u305b\u5c65\u6b74"})]}),(0,Ay.jsx)("button",{onClick:y,className:"w-full bg-red-600 hover:bg-red-700 px-4 py-2 rounded text-white transition-colors text-sm font-semibold",children:"\u30ed\u30b0\u30a2\u30a6\u30c8"})]})]}),(0,Ay.jsxs)("main",{className:"max-w-7xl mx-auto px-4 py-8 sm:px-6 lg:px-8",children:["dashboard"===s&&(0,Ay.jsx)(Py,{user:e,onNavigate:(e,t)=>{"project-detail"===e&&t?w(t):a(e)}}),"projects"===s&&(0,Ay.jsx)(Yy,{user:e,onAddProject:()=>{a("add-project")},onViewProject:w,onRefresh:o}),"career-sheet"===s&&(0,Ay.jsx)(Ly,{user:e}),"settings"===s&&(0,Ay.jsx)(By,{user:e,tab:m,onTabChange:g}),"add-project"===s&&(0,Ay.jsx)(Qy,{user:e,onSuccess:b,onCancel:()=>a("projects")}),"project-detail"===s&&(0,Ay.jsx)(ev,{user:e,project:c,onBack:()=>a("projects"),onEdit:()=>{a("edit-project")}}),"edit-project"===s&&c&&(0,Ay.jsx)(Qy,{user:e,project:c,onSuccess:b,onCancel:()=>{a("project-detail")}})]})]}):h?(0,Ay.jsx)(Dy,{initialMode:h,onBack:()=>d(null)}):(0,Ay.jsx)(Ry,{onStartSignup:()=>d("signup"),onStartLogin:()=>d("login")})},nv=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)})};i.createRoot(document.getElementById("root")).render((0,Ay.jsx)(r.StrictMode,{children:(0,Ay.jsx)(tv,{})})),nv()})();
//# sourceMappingURL=main.0c2a44e4.js.map